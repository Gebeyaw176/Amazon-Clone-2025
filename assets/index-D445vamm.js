function VL(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function _E(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fv={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BS;function ML(){if(BS)return ze;BS=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,R={};function b(q,ie,Se){this.props=q,this.context=ie,this.refs=R,this.updater=Se||T}b.prototype.isReactComponent={},b.prototype.setState=function(q,ie){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ie,"setState")},b.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function V(){}V.prototype=b.prototype;function L(q,ie,Se){this.props=q,this.context=ie,this.refs=R,this.updater=Se||T}var M=L.prototype=new V;M.constructor=L,I(M,b.prototype),M.isPureReactComponent=!0;var z=Array.isArray,B=Object.prototype.hasOwnProperty,W={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(q,ie,Se){var xe,Me={},Be=null,Ye=null;if(ie!=null)for(xe in ie.ref!==void 0&&(Ye=ie.ref),ie.key!==void 0&&(Be=""+ie.key),ie)B.call(ie,xe)&&!D.hasOwnProperty(xe)&&(Me[xe]=ie[xe]);var He=arguments.length-2;if(He===1)Me.children=Se;else if(1<He){for(var it=Array(He),wt=0;wt<He;wt++)it[wt]=arguments[wt+2];Me.children=it}if(q&&q.defaultProps)for(xe in He=q.defaultProps,He)Me[xe]===void 0&&(Me[xe]=He[xe]);return{$$typeof:n,type:q,key:Be,ref:Ye,props:Me,_owner:W.current}}function C(q,ie){return{$$typeof:n,type:q.type,key:ie,ref:q.ref,props:q.props,_owner:q._owner}}function E(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function x(q){var ie={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Se){return ie[Se]})}var k=/\/+/g;function O(q,ie){return typeof q=="object"&&q!==null&&q.key!=null?x(""+q.key):ie.toString(36)}function X(q,ie,Se,xe,Me){var Be=typeof q;(Be==="undefined"||Be==="boolean")&&(q=null);var Ye=!1;if(q===null)Ye=!0;else switch(Be){case"string":case"number":Ye=!0;break;case"object":switch(q.$$typeof){case n:case e:Ye=!0}}if(Ye)return Ye=q,Me=Me(Ye),q=xe===""?"."+O(Ye,0):xe,z(Me)?(Se="",q!=null&&(Se=q.replace(k,"$&/")+"/"),X(Me,ie,Se,"",function(wt){return wt})):Me!=null&&(E(Me)&&(Me=C(Me,Se+(!Me.key||Ye&&Ye.key===Me.key?"":(""+Me.key).replace(k,"$&/")+"/")+q)),ie.push(Me)),1;if(Ye=0,xe=xe===""?".":xe+":",z(q))for(var He=0;He<q.length;He++){Be=q[He];var it=xe+O(Be,He);Ye+=X(Be,ie,Se,it,Me)}else if(it=_(q),typeof it=="function")for(q=it.call(q),He=0;!(Be=q.next()).done;)Be=Be.value,it=xe+O(Be,He++),Ye+=X(Be,ie,Se,it,Me);else if(Be==="object")throw ie=String(q),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return Ye}function U(q,ie,Se){if(q==null)return q;var xe=[],Me=0;return X(q,xe,"","",function(Be){return ie.call(Se,Be,Me++)}),xe}function me(q){if(q._status===-1){var ie=q._result;ie=ie(),ie.then(function(Se){(q._status===0||q._status===-1)&&(q._status=1,q._result=Se)},function(Se){(q._status===0||q._status===-1)&&(q._status=2,q._result=Se)}),q._status===-1&&(q._status=0,q._result=ie)}if(q._status===1)return q._result.default;throw q._result}var oe={current:null},Z={transition:null},pe={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:Z,ReactCurrentOwner:W};function he(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:U,forEach:function(q,ie,Se){U(q,function(){ie.apply(this,arguments)},Se)},count:function(q){var ie=0;return U(q,function(){ie++}),ie},toArray:function(q){return U(q,function(ie){return ie})||[]},only:function(q){if(!E(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},ze.Component=b,ze.Fragment=t,ze.Profiler=i,ze.PureComponent=L,ze.StrictMode=r,ze.Suspense=d,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,ze.act=he,ze.cloneElement=function(q,ie,Se){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var xe=I({},q.props),Me=q.key,Be=q.ref,Ye=q._owner;if(ie!=null){if(ie.ref!==void 0&&(Be=ie.ref,Ye=W.current),ie.key!==void 0&&(Me=""+ie.key),q.type&&q.type.defaultProps)var He=q.type.defaultProps;for(it in ie)B.call(ie,it)&&!D.hasOwnProperty(it)&&(xe[it]=ie[it]===void 0&&He!==void 0?He[it]:ie[it])}var it=arguments.length-2;if(it===1)xe.children=Se;else if(1<it){He=Array(it);for(var wt=0;wt<it;wt++)He[wt]=arguments[wt+2];xe.children=He}return{$$typeof:n,type:q.type,key:Me,ref:Be,props:xe,_owner:Ye}},ze.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},ze.createElement=A,ze.createFactory=function(q){var ie=A.bind(null,q);return ie.type=q,ie},ze.createRef=function(){return{current:null}},ze.forwardRef=function(q){return{$$typeof:u,render:q}},ze.isValidElement=E,ze.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:me}},ze.memo=function(q,ie){return{$$typeof:h,type:q,compare:ie===void 0?null:ie}},ze.startTransition=function(q){var ie=Z.transition;Z.transition={};try{q()}finally{Z.transition=ie}},ze.unstable_act=he,ze.useCallback=function(q,ie){return oe.current.useCallback(q,ie)},ze.useContext=function(q){return oe.current.useContext(q)},ze.useDebugValue=function(){},ze.useDeferredValue=function(q){return oe.current.useDeferredValue(q)},ze.useEffect=function(q,ie){return oe.current.useEffect(q,ie)},ze.useId=function(){return oe.current.useId()},ze.useImperativeHandle=function(q,ie,Se){return oe.current.useImperativeHandle(q,ie,Se)},ze.useInsertionEffect=function(q,ie){return oe.current.useInsertionEffect(q,ie)},ze.useLayoutEffect=function(q,ie){return oe.current.useLayoutEffect(q,ie)},ze.useMemo=function(q,ie){return oe.current.useMemo(q,ie)},ze.useReducer=function(q,ie,Se){return oe.current.useReducer(q,ie,Se)},ze.useRef=function(q){return oe.current.useRef(q)},ze.useState=function(q){return oe.current.useState(q)},ze.useSyncExternalStore=function(q,ie,Se){return oe.current.useSyncExternalStore(q,ie,Se)},ze.useTransition=function(){return oe.current.useTransition()},ze.version="18.3.1",ze}var zS;function Ko(){return zS||(zS=1,fv.exports=ML()),fv.exports}var K=Ko();const Ge=_E(K),nw=VL({__proto__:null,default:Ge},[K]);var jp={},pv={exports:{}},tr={},mv={exports:{}},gv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS;function FL(){return jS||(jS=1,function(n){function e(Z,pe){var he=Z.length;Z.push(pe);e:for(;0<he;){var q=he-1>>>1,ie=Z[q];if(0<i(ie,pe))Z[q]=pe,Z[he]=ie,he=q;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var pe=Z[0],he=Z.pop();if(he!==pe){Z[0]=he;e:for(var q=0,ie=Z.length,Se=ie>>>1;q<Se;){var xe=2*(q+1)-1,Me=Z[xe],Be=xe+1,Ye=Z[Be];if(0>i(Me,he))Be<ie&&0>i(Ye,Me)?(Z[q]=Ye,Z[Be]=he,q=Be):(Z[q]=Me,Z[xe]=he,q=xe);else if(Be<ie&&0>i(Ye,he))Z[q]=Ye,Z[Be]=he,q=Be;else break e}}return pe}function i(Z,pe){var he=Z.sortIndex-pe.sortIndex;return he!==0?he:Z.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,g=null,_=3,T=!1,I=!1,R=!1,b=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Z){for(var pe=t(h);pe!==null;){if(pe.callback===null)r(h);else if(pe.startTime<=Z)r(h),pe.sortIndex=pe.expirationTime,e(d,pe);else break;pe=t(h)}}function z(Z){if(R=!1,M(Z),!I)if(t(d)!==null)I=!0,me(B);else{var pe=t(h);pe!==null&&oe(z,pe.startTime-Z)}}function B(Z,pe){I=!1,R&&(R=!1,V(A),A=-1),T=!0;var he=_;try{for(M(pe),g=t(d);g!==null&&(!(g.expirationTime>pe)||Z&&!x());){var q=g.callback;if(typeof q=="function"){g.callback=null,_=g.priorityLevel;var ie=q(g.expirationTime<=pe);pe=n.unstable_now(),typeof ie=="function"?g.callback=ie:g===t(d)&&r(d),M(pe)}else r(d);g=t(d)}if(g!==null)var Se=!0;else{var xe=t(h);xe!==null&&oe(z,xe.startTime-pe),Se=!1}return Se}finally{g=null,_=he,T=!1}}var W=!1,D=null,A=-1,C=5,E=-1;function x(){return!(n.unstable_now()-E<C)}function k(){if(D!==null){var Z=n.unstable_now();E=Z;var pe=!0;try{pe=D(!0,Z)}finally{pe?O():(W=!1,D=null)}}else W=!1}var O;if(typeof L=="function")O=function(){L(k)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,U=X.port2;X.port1.onmessage=k,O=function(){U.postMessage(null)}}else O=function(){b(k,0)};function me(Z){D=Z,W||(W=!0,O())}function oe(Z,pe){A=b(function(){Z(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_continueExecution=function(){I||T||(I=!0,me(B))},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var pe=3;break;default:pe=_}var he=_;_=pe;try{return Z()}finally{_=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Z,pe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var he=_;_=Z;try{return pe()}finally{_=he}},n.unstable_scheduleCallback=function(Z,pe,he){var q=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?q+he:q):he=q,Z){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=he+ie,Z={id:m++,callback:pe,priorityLevel:Z,startTime:he,expirationTime:ie,sortIndex:-1},he>q?(Z.sortIndex=he,e(h,Z),t(d)===null&&Z===t(h)&&(R?(V(A),A=-1):R=!0,oe(z,he-q))):(Z.sortIndex=ie,e(d,Z),I||T||(I=!0,me(B))),Z},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(Z){var pe=_;return function(){var he=_;_=pe;try{return Z.apply(this,arguments)}finally{_=he}}}}(gv)),gv}var WS;function UL(){return WS||(WS=1,mv.exports=FL()),mv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS;function $L(){if(qS)return tr;qS=1;var n=Ko(),e=UL();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function _(o){return d.call(g,o)?!0:d.call(m,o)?!1:h.test(o)?g[o]=!0:(m[o]=!0,!1)}function T(o,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function I(o,a,c,p){if(a===null||typeof a>"u"||T(o,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(o,a,c,p,y,w,P){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=w,this.removeEmptyString=P}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new R(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];b[a]=new R(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new R(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new R(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new R(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new R(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new R(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new R(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new R(o,5,!1,o.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(V,L);b[a]=new R(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(V,L);b[a]=new R(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(V,L);b[a]=new R(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new R(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new R(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,a,c,p){var y=b.hasOwnProperty(a)?b[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,c,y,p)&&(c=null),p||y===null?_(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):y.mustUseProperty?o[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,p=y.attributeNamespace,c===null?o.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?o.setAttributeNS(p,a,c):o.setAttribute(a,c))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),W=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),Z=Symbol.iterator;function pe(o){return o===null||typeof o!="object"?null:(o=Z&&o[Z]||o["@@iterator"],typeof o=="function"?o:null)}var he=Object.assign,q;function ie(o){if(q===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);q=a&&a[1]||""}return`
`+q+o}var Se=!1;function xe(o,a){if(!o||Se)return"";Se=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var p=ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(ee){p=ee}o.call(a.prototype)}else{try{throw Error()}catch(ee){p=ee}o()}}catch(ee){if(ee&&p&&typeof ee.stack=="string"){for(var y=ee.stack.split(`
`),w=p.stack.split(`
`),P=y.length-1,$=w.length-1;1<=P&&0<=$&&y[P]!==w[$];)$--;for(;1<=P&&0<=$;P--,$--)if(y[P]!==w[$]){if(P!==1||$!==1)do if(P--,$--,0>$||y[P]!==w[$]){var j=`
`+y[P].replace(" at new "," at ");return o.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",o.displayName)),j}while(1<=P&&0<=$);break}}}finally{Se=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?ie(o):""}function Me(o){switch(o.tag){case 5:return ie(o.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return o=xe(o.type,!1),o;case 11:return o=xe(o.type.render,!1),o;case 1:return o=xe(o.type,!0),o;default:return""}}function Be(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case D:return"Fragment";case W:return"Portal";case C:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case X:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case x:return(o.displayName||"Context")+".Consumer";case E:return(o._context.displayName||"Context")+".Provider";case k:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case U:return a=o.displayName||null,a!==null?a:Be(o.type)||"Memo";case me:a=o._payload,o=o._init;try{return Be(o(a))}catch{}}return null}function Ye(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function He(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function it(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function wt(o){var a=it(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),p=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(P){p=""+P,w.call(this,P)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function cn(o){o._valueTracker||(o._valueTracker=wt(o))}function st(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return o&&(p=it(o)?o.checked?"true":"false":o.value),o=p,o!==c?(a.setValue(o),!0):!1}function gt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function tn(o,a){var c=a.checked;return he({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function Gr(o,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=He(a.value!=null?a.value:c),o._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Cr(o,a){a=a.checked,a!=null&&M(o,"checked",a,!1)}function kr(o,a){Cr(o,a);var c=He(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Kn(o,a.type,c):a.hasOwnProperty("defaultValue")&&Kn(o,a.type,He(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Hn(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function Kn(o,a,c){(a!=="number"||gt(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var lr=Array.isArray;function is(o,a,c,p){if(o=o.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<o.length;c++)y=a.hasOwnProperty("$"+o[c].value),o[c].selected!==y&&(o[c].selected=y),y&&p&&(o[c].defaultSelected=!0)}else{for(c=""+He(c),a=null,y=0;y<o.length;y++){if(o[y].value===c){o[y].selected=!0,p&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function Cc(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ml(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(lr(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:He(c)}}function gl(o,a){var c=He(a.value),p=He(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),p!=null&&(o.defaultValue=""+p)}function kc(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function nn(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rn(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?nn(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ss,xc=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,y){MSApp.execUnsafeLocalFunction(function(){return o(a,c,p,y)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ss.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Hs(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ia=["Webkit","ms","Moz","O"];Object.keys(ra).forEach(function(o){ia.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),ra[a]=ra[o]})});function Oc(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||ra.hasOwnProperty(o)&&ra[o]?(""+a).trim():a+"px"}function Nc(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=Oc(c,a[c],p);c==="float"&&(c="cssFloat"),p?o.setProperty(c,y):o[c]=y}}var Dc=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lc(o,a){if(a){if(Dc[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Vc(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sa=null;function yl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var _l=null,xr=null,vi=null;function vl(o){if(o=od(o)){if(typeof _l!="function")throw Error(t(280));var a=o.stateNode;a&&(a=ip(a),_l(o.stateNode,o.type,a))}}function wi(o){xr?vi?vi.push(o):vi=[o]:xr=o}function Mc(){if(xr){var o=xr,a=vi;if(vi=xr=null,vl(o),a)for(o=0;o<a.length;o++)vl(a[o])}}function oa(o,a){return o(a)}function Fc(){}var os=!1;function Uc(o,a,c){if(os)return o(a,c);os=!0;try{return oa(o,a,c)}finally{os=!1,(xr!==null||vi!==null)&&(Fc(),Mc())}}function Bt(o,a){var c=o.stateNode;if(c===null)return null;var p=ip(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var wl=!1;if(u)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){wl=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{wl=!1}function aa(o,a,c,p,y,w,P,$,j){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(c,ee)}catch(ce){this.onError(ce)}}var la=!1,El=null,Yr=!1,$c=null,By={onError:function(o){la=!0,El=o}};function Il(o,a,c,p,y,w,P,$,j){la=!1,El=null,aa.apply(By,arguments)}function Cf(o,a,c,p,y,w,P,$,j){if(Il.apply(this,arguments),la){if(la){var ee=El;la=!1,El=null}else throw Error(t(198));Yr||(Yr=!0,$c=ee)}}function Jr(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,a.flags&4098&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function ua(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Xr(o){if(Jr(o)!==o)throw Error(t(188))}function kf(o){var a=o.alternate;if(!a){if(a=Jr(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,p=a;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return Xr(y),o;if(w===p)return Xr(y),a;w=w.sibling}throw Error(t(188))}if(c.return!==p.return)c=y,p=w;else{for(var P=!1,$=y.child;$;){if($===c){P=!0,c=y,p=w;break}if($===p){P=!0,p=y,c=w;break}$=$.sibling}if(!P){for($=w.child;$;){if($===c){P=!0,c=w,p=y;break}if($===p){P=!0,p=w,c=y;break}$=$.sibling}if(!P)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function Bc(o){return o=kf(o),o!==null?Tl(o):null}function Tl(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Tl(o);if(a!==null)return a;o=o.sibling}return null}var Sl=e.unstable_scheduleCallback,zc=e.unstable_cancelCallback,xf=e.unstable_shouldYield,zy=e.unstable_requestPaint,ft=e.unstable_now,Of=e.unstable_getCurrentPriorityLevel,ca=e.unstable_ImmediatePriority,Ks=e.unstable_UserBlockingPriority,Or=e.unstable_NormalPriority,jc=e.unstable_LowPriority,Nf=e.unstable_IdlePriority,da=null,ur=null;function Df(o){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(da,o,void 0,(o.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:Vf,Wc=Math.log,Lf=Math.LN2;function Vf(o){return o>>>=0,o===0?32:31-(Wc(o)/Lf|0)|0}var Rl=64,Al=4194304;function Gs(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ha(o,a){var c=o.pendingLanes;if(c===0)return 0;var p=0,y=o.suspendedLanes,w=o.pingedLanes,P=c&268435455;if(P!==0){var $=P&~y;$!==0?p=Gs($):(w&=P,w!==0&&(p=Gs(w)))}else P=c&~y,P!==0?p=Gs(P):w!==0&&(p=Gs(w));if(p===0)return 0;if(a!==0&&a!==p&&!(a&y)&&(y=p&-p,w=a&-a,y>=w||y===16&&(w&4194240)!==0))return a;if(p&4&&(p|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=p;0<a;)c=31-Fn(a),y=1<<c,p|=o[c],a&=~y;return p}function jy(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function as(o,a){for(var c=o.suspendedLanes,p=o.pingedLanes,y=o.expirationTimes,w=o.pendingLanes;0<w;){var P=31-Fn(w),$=1<<P,j=y[P];j===-1?(!($&c)||$&p)&&(y[P]=jy($,a)):j<=a&&(o.expiredLanes|=$),w&=~$}}function cr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function fa(){var o=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),o}function Qs(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function Ys(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-Fn(a),o[a]=c}function ct(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<c;){var y=31-Fn(c),w=1<<y;a[y]=0,p[y]=-1,o[y]=-1,c&=~w}}function Js(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var p=31-Fn(c),y=1<<p;y&a|o[p]&a&&(o[p]|=a),c&=~y}}var Ke=0;function Xs(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Mf,bl,Ff,Uf,$f,qc=!1,Ei=[],vn=null,Zr=null,ei=null,Zs=new Map,Nr=new Map,Ii=[],Wy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bf(o,a){switch(o){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":Zs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(a.pointerId)}}function Gn(o,a,c,p,y,w){return o===null||o.nativeEvent!==w?(o={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},a!==null&&(a=od(a),a!==null&&bl(a)),o):(o.eventSystemFlags|=p,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function qy(o,a,c,p,y){switch(a){case"focusin":return vn=Gn(vn,o,a,c,p,y),!0;case"dragenter":return Zr=Gn(Zr,o,a,c,p,y),!0;case"mouseover":return ei=Gn(ei,o,a,c,p,y),!0;case"pointerover":var w=y.pointerId;return Zs.set(w,Gn(Zs.get(w)||null,o,a,c,p,y)),!0;case"gotpointercapture":return w=y.pointerId,Nr.set(w,Gn(Nr.get(w)||null,o,a,c,p,y)),!0}return!1}function zf(o){var a=_a(o.target);if(a!==null){var c=Jr(a);if(c!==null){if(a=c.tag,a===13){if(a=ua(c),a!==null){o.blockedOn=a,$f(o.priority,function(){Ff(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ls(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=Pl(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);sa=p,c.target.dispatchEvent(p),sa=null}else return a=od(c),a!==null&&bl(a),o.blockedOn=c,!1;a.shift()}return!0}function pa(o,a,c){ls(o)&&c.delete(a)}function jf(){qc=!1,vn!==null&&ls(vn)&&(vn=null),Zr!==null&&ls(Zr)&&(Zr=null),ei!==null&&ls(ei)&&(ei=null),Zs.forEach(pa),Nr.forEach(pa)}function ti(o,a){o.blockedOn===a&&(o.blockedOn=null,qc||(qc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jf)))}function ni(o){function a(y){return ti(y,o)}if(0<Ei.length){ti(Ei[0],o);for(var c=1;c<Ei.length;c++){var p=Ei[c];p.blockedOn===o&&(p.blockedOn=null)}}for(vn!==null&&ti(vn,o),Zr!==null&&ti(Zr,o),ei!==null&&ti(ei,o),Zs.forEach(a),Nr.forEach(a),c=0;c<Ii.length;c++)p=Ii[c],p.blockedOn===o&&(p.blockedOn=null);for(;0<Ii.length&&(c=Ii[0],c.blockedOn===null);)zf(c),c.blockedOn===null&&Ii.shift()}var us=z.ReactCurrentBatchConfig,eo=!0;function Et(o,a,c,p){var y=Ke,w=us.transition;us.transition=null;try{Ke=1,Hc(o,a,c,p)}finally{Ke=y,us.transition=w}}function Hy(o,a,c,p){var y=Ke,w=us.transition;us.transition=null;try{Ke=4,Hc(o,a,c,p)}finally{Ke=y,us.transition=w}}function Hc(o,a,c,p){if(eo){var y=Pl(o,a,c,p);if(y===null)r_(o,a,p,ma,c),Bf(o,p);else if(qy(y,o,a,c,p))p.stopPropagation();else if(Bf(o,p),a&4&&-1<Wy.indexOf(o)){for(;y!==null;){var w=od(y);if(w!==null&&Mf(w),w=Pl(o,a,c,p),w===null&&r_(o,a,p,ma,c),w===y)break;y=w}y!==null&&p.stopPropagation()}else r_(o,a,p,null,c)}}var ma=null;function Pl(o,a,c,p){if(ma=null,o=yl(p),o=_a(o),o!==null)if(a=Jr(o),a===null)o=null;else if(c=a.tag,c===13){if(o=ua(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return ma=o,null}function Kc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Of()){case ca:return 1;case Ks:return 4;case Or:case jc:return 16;case Nf:return 536870912;default:return 16}default:return 16}}var dr=null,Cl=null,Qn=null;function Gc(){if(Qn)return Qn;var o,a=Cl,c=a.length,p,y="value"in dr?dr.value:dr.textContent,w=y.length;for(o=0;o<c&&a[o]===y[o];o++);var P=c-o;for(p=1;p<=P&&a[c-p]===y[w-p];p++);return Qn=y.slice(o,1<p?1-p:void 0)}function kl(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Ti(){return!0}function Qc(){return!1}function wn(o){function a(c,p,y,w,P){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var $ in o)o.hasOwnProperty($)&&(c=o[$],this[$]=c?c(w):w[$]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ti:Qc,this.isPropagationStopped=Qc,this}return he(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),a}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xl=wn(ri),Si=he({},ri,{view:0,detail:0}),Ky=wn(Si),Ol,cs,to,ga=he({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ri,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==to&&(to&&o.type==="mousemove"?(Ol=o.screenX-to.screenX,cs=o.screenY-to.screenY):cs=Ol=0,to=o),Ol)},movementY:function(o){return"movementY"in o?o.movementY:cs}}),Nl=wn(ga),Yc=he({},ga,{dataTransfer:0}),Wf=wn(Yc),Dl=he({},Si,{relatedTarget:0}),Ll=wn(Dl),qf=he({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),ds=wn(qf),Hf=he({},ri,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Kf=wn(Hf),Gf=he({},ri,{data:0}),Jc=wn(Gf),Vl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yf(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=Qf[o])?!!a[o]:!1}function Ri(){return Yf}var f=he({},Si,{key:function(o){if(o.key){var a=Vl[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=kl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Un[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ri,charCode:function(o){return o.type==="keypress"?kl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?kl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),v=wn(f),S=he({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=wn(S),Q=he({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ri}),ne=wn(Q),ye=he({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),ot=wn(ye),sn=he({},ga,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Je=wn(sn),dn=[9,13,27,32],Kt=u&&"CompositionEvent"in window,Dr=null;u&&"documentMode"in document&&(Dr=document.documentMode);var hr=u&&"TextEvent"in window&&!Dr,ya=u&&(!Kt||Dr&&8<Dr&&11>=Dr),Ml=" ",LI=!1;function VI(o,a){switch(o){case"keyup":return dn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MI(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Fl=!1;function ND(o,a){switch(o){case"compositionend":return MI(a);case"keypress":return a.which!==32?null:(LI=!0,Ml);case"textInput":return o=a.data,o===Ml&&LI?null:o;default:return null}}function DD(o,a){if(Fl)return o==="compositionend"||!Kt&&VI(o,a)?(o=Gc(),Qn=Cl=dr=null,Fl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ya&&a.locale!=="ko"?null:a.data;default:return null}}var LD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FI(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!LD[o.type]:a==="textarea"}function UI(o,a,c,p){wi(p),a=tp(a,"onChange"),0<a.length&&(c=new xl("onChange","change",null,c,p),o.push({event:c,listeners:a}))}var Xc=null,Zc=null;function VD(o){rT(o,0)}function Jf(o){var a=jl(o);if(st(a))return o}function MD(o,a){if(o==="change")return a}var $I=!1;if(u){var Gy;if(u){var Qy="oninput"in document;if(!Qy){var BI=document.createElement("div");BI.setAttribute("oninput","return;"),Qy=typeof BI.oninput=="function"}Gy=Qy}else Gy=!1;$I=Gy&&(!document.documentMode||9<document.documentMode)}function zI(){Xc&&(Xc.detachEvent("onpropertychange",jI),Zc=Xc=null)}function jI(o){if(o.propertyName==="value"&&Jf(Zc)){var a=[];UI(a,Zc,o,yl(o)),Uc(VD,a)}}function FD(o,a,c){o==="focusin"?(zI(),Xc=a,Zc=c,Xc.attachEvent("onpropertychange",jI)):o==="focusout"&&zI()}function UD(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Jf(Zc)}function $D(o,a){if(o==="click")return Jf(a)}function BD(o,a){if(o==="input"||o==="change")return Jf(a)}function zD(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var ii=typeof Object.is=="function"?Object.is:zD;function ed(o,a){if(ii(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!d.call(a,y)||!ii(o[y],a[y]))return!1}return!0}function WI(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function qI(o,a){var c=WI(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=a&&p>=a)return{node:c,offset:a-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=WI(c)}}function HI(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?HI(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function KI(){for(var o=window,a=gt();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=gt(o.document)}return a}function Yy(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function jD(o){var a=KI(),c=o.focusedElem,p=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&HI(c.ownerDocument.documentElement,c)){if(p!==null&&Yy(c)){if(a=p.start,o=p.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var y=c.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!o.extend&&w>p&&(y=p,p=w,w=y),y=qI(c,w);var P=qI(c,p);y&&P&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==P.node||o.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),o.removeAllRanges(),w>p?(o.addRange(a),o.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var WD=u&&"documentMode"in document&&11>=document.documentMode,Ul=null,Jy=null,td=null,Xy=!1;function GI(o,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Xy||Ul==null||Ul!==gt(p)||(p=Ul,"selectionStart"in p&&Yy(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),td&&ed(td,p)||(td=p,p=tp(Jy,"onSelect"),0<p.length&&(a=new xl("onSelect","select",null,a,c),o.push({event:a,listeners:p}),a.target=Ul)))}function Xf(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var $l={animationend:Xf("Animation","AnimationEnd"),animationiteration:Xf("Animation","AnimationIteration"),animationstart:Xf("Animation","AnimationStart"),transitionend:Xf("Transition","TransitionEnd")},Zy={},QI={};u&&(QI=document.createElement("div").style,"AnimationEvent"in window||(delete $l.animationend.animation,delete $l.animationiteration.animation,delete $l.animationstart.animation),"TransitionEvent"in window||delete $l.transitionend.transition);function Zf(o){if(Zy[o])return Zy[o];if(!$l[o])return o;var a=$l[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in QI)return Zy[o]=a[c];return o}var YI=Zf("animationend"),JI=Zf("animationiteration"),XI=Zf("animationstart"),ZI=Zf("transitionend"),eT=new Map,tT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(o,a){eT.set(o,a),s(a,[o])}for(var e_=0;e_<tT.length;e_++){var t_=tT[e_],qD=t_.toLowerCase(),HD=t_[0].toUpperCase()+t_.slice(1);no(qD,"on"+HD)}no(YI,"onAnimationEnd"),no(JI,"onAnimationIteration"),no(XI,"onAnimationStart"),no("dblclick","onDoubleClick"),no("focusin","onFocus"),no("focusout","onBlur"),no(ZI,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KD=new Set("cancel close invalid load scroll toggle".split(" ").concat(nd));function nT(o,a,c){var p=o.type||"unknown-event";o.currentTarget=c,Cf(p,a,void 0,o),o.currentTarget=null}function rT(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],y=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var P=p.length-1;0<=P;P--){var $=p[P],j=$.instance,ee=$.currentTarget;if($=$.listener,j!==w&&y.isPropagationStopped())break e;nT(y,$,ee),w=j}else for(P=0;P<p.length;P++){if($=p[P],j=$.instance,ee=$.currentTarget,$=$.listener,j!==w&&y.isPropagationStopped())break e;nT(y,$,ee),w=j}}}if(Yr)throw o=$c,Yr=!1,$c=null,o}function yt(o,a){var c=a[u_];c===void 0&&(c=a[u_]=new Set);var p=o+"__bubble";c.has(p)||(iT(a,o,2,!1),c.add(p))}function n_(o,a,c){var p=0;a&&(p|=4),iT(c,o,p,a)}var ep="_reactListening"+Math.random().toString(36).slice(2);function rd(o){if(!o[ep]){o[ep]=!0,r.forEach(function(c){c!=="selectionchange"&&(KD.has(c)||n_(c,!1,o),n_(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[ep]||(a[ep]=!0,n_("selectionchange",!1,a))}}function iT(o,a,c,p){switch(Kc(a)){case 1:var y=Et;break;case 4:y=Hy;break;default:y=Hc}c=y.bind(null,a,c,o),y=void 0,!wl||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?o.addEventListener(a,c,{capture:!0,passive:y}):o.addEventListener(a,c,!0):y!==void 0?o.addEventListener(a,c,{passive:y}):o.addEventListener(a,c,!1)}function r_(o,a,c,p,y){var w=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var $=p.stateNode.containerInfo;if($===y||$.nodeType===8&&$.parentNode===y)break;if(P===4)for(P=p.return;P!==null;){var j=P.tag;if((j===3||j===4)&&(j=P.stateNode.containerInfo,j===y||j.nodeType===8&&j.parentNode===y))return;P=P.return}for(;$!==null;){if(P=_a($),P===null)return;if(j=P.tag,j===5||j===6){p=w=P;continue e}$=$.parentNode}}p=p.return}Uc(function(){var ee=w,ce=yl(c),fe=[];e:{var le=eT.get(o);if(le!==void 0){var Ee=xl,Re=o;switch(o){case"keypress":if(kl(c)===0)break e;case"keydown":case"keyup":Ee=v;break;case"focusin":Re="focus",Ee=Ll;break;case"focusout":Re="blur",Ee=Ll;break;case"beforeblur":case"afterblur":Ee=Ll;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=ne;break;case YI:case JI:case XI:Ee=ds;break;case ZI:Ee=ot;break;case"scroll":Ee=Ky;break;case"wheel":Ee=Je;break;case"copy":case"cut":case"paste":Ee=Kf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=N}var be=(a&4)!==0,zt=!be&&o==="scroll",Y=be?le!==null?le+"Capture":null:le;be=[];for(var H=ee,J;H!==null;){J=H;var ge=J.stateNode;if(J.tag===5&&ge!==null&&(J=ge,Y!==null&&(ge=Bt(H,Y),ge!=null&&be.push(id(H,ge,J)))),zt)break;H=H.return}0<be.length&&(le=new Ee(le,Re,null,c,ce),fe.push({event:le,listeners:be}))}}if(!(a&7)){e:{if(le=o==="mouseover"||o==="pointerover",Ee=o==="mouseout"||o==="pointerout",le&&c!==sa&&(Re=c.relatedTarget||c.fromElement)&&(_a(Re)||Re[hs]))break e;if((Ee||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,Ee?(Re=c.relatedTarget||c.toElement,Ee=ee,Re=Re?_a(Re):null,Re!==null&&(zt=Jr(Re),Re!==zt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Ee=null,Re=ee),Ee!==Re)){if(be=Nl,ge="onMouseLeave",Y="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(be=N,ge="onPointerLeave",Y="onPointerEnter",H="pointer"),zt=Ee==null?le:jl(Ee),J=Re==null?le:jl(Re),le=new be(ge,H+"leave",Ee,c,ce),le.target=zt,le.relatedTarget=J,ge=null,_a(ce)===ee&&(be=new be(Y,H+"enter",Re,c,ce),be.target=J,be.relatedTarget=zt,ge=be),zt=ge,Ee&&Re)t:{for(be=Ee,Y=Re,H=0,J=be;J;J=Bl(J))H++;for(J=0,ge=Y;ge;ge=Bl(ge))J++;for(;0<H-J;)be=Bl(be),H--;for(;0<J-H;)Y=Bl(Y),J--;for(;H--;){if(be===Y||Y!==null&&be===Y.alternate)break t;be=Bl(be),Y=Bl(Y)}be=null}else be=null;Ee!==null&&sT(fe,le,Ee,be,!1),Re!==null&&zt!==null&&sT(fe,zt,Re,be,!0)}}e:{if(le=ee?jl(ee):window,Ee=le.nodeName&&le.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&le.type==="file")var Pe=MD;else if(FI(le))if($I)Pe=BD;else{Pe=UD;var Oe=FD}else(Ee=le.nodeName)&&Ee.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Pe=$D);if(Pe&&(Pe=Pe(o,ee))){UI(fe,Pe,c,ce);break e}Oe&&Oe(o,le,ee),o==="focusout"&&(Oe=le._wrapperState)&&Oe.controlled&&le.type==="number"&&Kn(le,"number",le.value)}switch(Oe=ee?jl(ee):window,o){case"focusin":(FI(Oe)||Oe.contentEditable==="true")&&(Ul=Oe,Jy=ee,td=null);break;case"focusout":td=Jy=Ul=null;break;case"mousedown":Xy=!0;break;case"contextmenu":case"mouseup":case"dragend":Xy=!1,GI(fe,c,ce);break;case"selectionchange":if(WD)break;case"keydown":case"keyup":GI(fe,c,ce)}var Ne;if(Kt)e:{switch(o){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Fl?VI(o,c)&&(Le="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Le="onCompositionStart");Le&&(ya&&c.locale!=="ko"&&(Fl||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Fl&&(Ne=Gc()):(dr=ce,Cl="value"in dr?dr.value:dr.textContent,Fl=!0)),Oe=tp(ee,Le),0<Oe.length&&(Le=new Jc(Le,o,null,c,ce),fe.push({event:Le,listeners:Oe}),Ne?Le.data=Ne:(Ne=MI(c),Ne!==null&&(Le.data=Ne)))),(Ne=hr?ND(o,c):DD(o,c))&&(ee=tp(ee,"onBeforeInput"),0<ee.length&&(ce=new Jc("onBeforeInput","beforeinput",null,c,ce),fe.push({event:ce,listeners:ee}),ce.data=Ne))}rT(fe,a)})}function id(o,a,c){return{instance:o,listener:a,currentTarget:c}}function tp(o,a){for(var c=a+"Capture",p=[];o!==null;){var y=o,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=Bt(o,c),w!=null&&p.unshift(id(o,w,y)),w=Bt(o,a),w!=null&&p.push(id(o,w,y))),o=o.return}return p}function Bl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function sT(o,a,c,p,y){for(var w=a._reactName,P=[];c!==null&&c!==p;){var $=c,j=$.alternate,ee=$.stateNode;if(j!==null&&j===p)break;$.tag===5&&ee!==null&&($=ee,y?(j=Bt(c,w),j!=null&&P.unshift(id(c,j,$))):y||(j=Bt(c,w),j!=null&&P.push(id(c,j,$)))),c=c.return}P.length!==0&&o.push({event:a,listeners:P})}var GD=/\r\n?/g,QD=/\u0000|\uFFFD/g;function oT(o){return(typeof o=="string"?o:""+o).replace(GD,`
`).replace(QD,"")}function np(o,a,c){if(a=oT(a),oT(o)!==a&&c)throw Error(t(425))}function rp(){}var i_=null,s_=null;function o_(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var a_=typeof setTimeout=="function"?setTimeout:void 0,YD=typeof clearTimeout=="function"?clearTimeout:void 0,aT=typeof Promise=="function"?Promise:void 0,JD=typeof queueMicrotask=="function"?queueMicrotask:typeof aT<"u"?function(o){return aT.resolve(null).then(o).catch(XD)}:a_;function XD(o){setTimeout(function(){throw o})}function l_(o,a){var c=a,p=0;do{var y=c.nextSibling;if(o.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){o.removeChild(y),ni(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);ni(a)}function ro(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function lT(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var zl=Math.random().toString(36).slice(2),Ai="__reactFiber$"+zl,sd="__reactProps$"+zl,hs="__reactContainer$"+zl,u_="__reactEvents$"+zl,ZD="__reactListeners$"+zl,eL="__reactHandles$"+zl;function _a(o){var a=o[Ai];if(a)return a;for(var c=o.parentNode;c;){if(a=c[hs]||c[Ai]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=lT(o);o!==null;){if(c=o[Ai])return c;o=lT(o)}return a}o=c,c=o.parentNode}return null}function od(o){return o=o[Ai]||o[hs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function jl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function ip(o){return o[sd]||null}var c_=[],Wl=-1;function io(o){return{current:o}}function _t(o){0>Wl||(o.current=c_[Wl],c_[Wl]=null,Wl--)}function pt(o,a){Wl++,c_[Wl]=o.current,o.current=a}var so={},Pn=io(so),Yn=io(!1),va=so;function ql(o,a){var c=o.type.contextTypes;if(!c)return so;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=a[w];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=y),y}function Jn(o){return o=o.childContextTypes,o!=null}function sp(){_t(Yn),_t(Pn)}function uT(o,a,c){if(Pn.current!==so)throw Error(t(168));pt(Pn,a),pt(Yn,c)}function cT(o,a,c){var p=o.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(t(108,Ye(o)||"Unknown",y));return he({},c,p)}function op(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||so,va=Pn.current,pt(Pn,o),pt(Yn,Yn.current),!0}function dT(o,a,c){var p=o.stateNode;if(!p)throw Error(t(169));c?(o=cT(o,a,va),p.__reactInternalMemoizedMergedChildContext=o,_t(Yn),_t(Pn),pt(Pn,o)):_t(Yn),pt(Yn,c)}var fs=null,ap=!1,d_=!1;function hT(o){fs===null?fs=[o]:fs.push(o)}function tL(o){ap=!0,hT(o)}function oo(){if(!d_&&fs!==null){d_=!0;var o=0,a=Ke;try{var c=fs;for(Ke=1;o<c.length;o++){var p=c[o];do p=p(!0);while(p!==null)}fs=null,ap=!1}catch(y){throw fs!==null&&(fs=fs.slice(o+1)),Sl(ca,oo),y}finally{Ke=a,d_=!1}}return null}var Hl=[],Kl=0,lp=null,up=0,Lr=[],Vr=0,wa=null,ps=1,ms="";function Ea(o,a){Hl[Kl++]=up,Hl[Kl++]=lp,lp=o,up=a}function fT(o,a,c){Lr[Vr++]=ps,Lr[Vr++]=ms,Lr[Vr++]=wa,wa=o;var p=ps;o=ms;var y=32-Fn(p)-1;p&=~(1<<y),c+=1;var w=32-Fn(a)+y;if(30<w){var P=y-y%5;w=(p&(1<<P)-1).toString(32),p>>=P,y-=P,ps=1<<32-Fn(a)+y|c<<y|p,ms=w+o}else ps=1<<w|c<<y|p,ms=o}function h_(o){o.return!==null&&(Ea(o,1),fT(o,1,0))}function f_(o){for(;o===lp;)lp=Hl[--Kl],Hl[Kl]=null,up=Hl[--Kl],Hl[Kl]=null;for(;o===wa;)wa=Lr[--Vr],Lr[Vr]=null,ms=Lr[--Vr],Lr[Vr]=null,ps=Lr[--Vr],Lr[Vr]=null}var fr=null,pr=null,It=!1,si=null;function pT(o,a){var c=$r(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function mT(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,fr=o,pr=ro(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,fr=o,pr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=wa!==null?{id:ps,overflow:ms}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=$r(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,fr=o,pr=null,!0):!1;default:return!1}}function p_(o){return(o.mode&1)!==0&&(o.flags&128)===0}function m_(o){if(It){var a=pr;if(a){var c=a;if(!mT(o,a)){if(p_(o))throw Error(t(418));a=ro(c.nextSibling);var p=fr;a&&mT(o,a)?pT(p,c):(o.flags=o.flags&-4097|2,It=!1,fr=o)}}else{if(p_(o))throw Error(t(418));o.flags=o.flags&-4097|2,It=!1,fr=o}}}function gT(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;fr=o}function cp(o){if(o!==fr)return!1;if(!It)return gT(o),It=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!o_(o.type,o.memoizedProps)),a&&(a=pr)){if(p_(o))throw yT(),Error(t(418));for(;a;)pT(o,a),a=ro(a.nextSibling)}if(gT(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){pr=ro(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}pr=null}}else pr=fr?ro(o.stateNode.nextSibling):null;return!0}function yT(){for(var o=pr;o;)o=ro(o.nextSibling)}function Gl(){pr=fr=null,It=!1}function g_(o){si===null?si=[o]:si.push(o)}var nL=z.ReactCurrentBatchConfig;function ad(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,o));var y=p,w=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(P){var $=y.refs;P===null?delete $[w]:$[w]=P},a._stringRef=w,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function dp(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function _T(o){var a=o._init;return a(o._payload)}function vT(o){function a(Y,H){if(o){var J=Y.deletions;J===null?(Y.deletions=[H],Y.flags|=16):J.push(H)}}function c(Y,H){if(!o)return null;for(;H!==null;)a(Y,H),H=H.sibling;return null}function p(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function y(Y,H){return Y=mo(Y,H),Y.index=0,Y.sibling=null,Y}function w(Y,H,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<H?(Y.flags|=2,H):J):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function P(Y){return o&&Y.alternate===null&&(Y.flags|=2),Y}function $(Y,H,J,ge){return H===null||H.tag!==6?(H=av(J,Y.mode,ge),H.return=Y,H):(H=y(H,J),H.return=Y,H)}function j(Y,H,J,ge){var Pe=J.type;return Pe===D?ce(Y,H,J.props.children,ge,J.key):H!==null&&(H.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===me&&_T(Pe)===H.type)?(ge=y(H,J.props),ge.ref=ad(Y,H,J),ge.return=Y,ge):(ge=Lp(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=ad(Y,H,J),ge.return=Y,ge)}function ee(Y,H,J,ge){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=lv(J,Y.mode,ge),H.return=Y,H):(H=y(H,J.children||[]),H.return=Y,H)}function ce(Y,H,J,ge,Pe){return H===null||H.tag!==7?(H=Ca(J,Y.mode,ge,Pe),H.return=Y,H):(H=y(H,J),H.return=Y,H)}function fe(Y,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=av(""+H,Y.mode,J),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case B:return J=Lp(H.type,H.key,H.props,null,Y.mode,J),J.ref=ad(Y,null,H),J.return=Y,J;case W:return H=lv(H,Y.mode,J),H.return=Y,H;case me:var ge=H._init;return fe(Y,ge(H._payload),J)}if(lr(H)||pe(H))return H=Ca(H,Y.mode,J,null),H.return=Y,H;dp(Y,H)}return null}function le(Y,H,J,ge){var Pe=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Pe!==null?null:$(Y,H,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case B:return J.key===Pe?j(Y,H,J,ge):null;case W:return J.key===Pe?ee(Y,H,J,ge):null;case me:return Pe=J._init,le(Y,H,Pe(J._payload),ge)}if(lr(J)||pe(J))return Pe!==null?null:ce(Y,H,J,ge,null);dp(Y,J)}return null}function Ee(Y,H,J,ge,Pe){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Y=Y.get(J)||null,$(H,Y,""+ge,Pe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case B:return Y=Y.get(ge.key===null?J:ge.key)||null,j(H,Y,ge,Pe);case W:return Y=Y.get(ge.key===null?J:ge.key)||null,ee(H,Y,ge,Pe);case me:var Oe=ge._init;return Ee(Y,H,J,Oe(ge._payload),Pe)}if(lr(ge)||pe(ge))return Y=Y.get(J)||null,ce(H,Y,ge,Pe,null);dp(H,ge)}return null}function Re(Y,H,J,ge){for(var Pe=null,Oe=null,Ne=H,Le=H=0,pn=null;Ne!==null&&Le<J.length;Le++){Ne.index>Le?(pn=Ne,Ne=null):pn=Ne.sibling;var et=le(Y,Ne,J[Le],ge);if(et===null){Ne===null&&(Ne=pn);break}o&&Ne&&et.alternate===null&&a(Y,Ne),H=w(et,H,Le),Oe===null?Pe=et:Oe.sibling=et,Oe=et,Ne=pn}if(Le===J.length)return c(Y,Ne),It&&Ea(Y,Le),Pe;if(Ne===null){for(;Le<J.length;Le++)Ne=fe(Y,J[Le],ge),Ne!==null&&(H=w(Ne,H,Le),Oe===null?Pe=Ne:Oe.sibling=Ne,Oe=Ne);return It&&Ea(Y,Le),Pe}for(Ne=p(Y,Ne);Le<J.length;Le++)pn=Ee(Ne,Y,Le,J[Le],ge),pn!==null&&(o&&pn.alternate!==null&&Ne.delete(pn.key===null?Le:pn.key),H=w(pn,H,Le),Oe===null?Pe=pn:Oe.sibling=pn,Oe=pn);return o&&Ne.forEach(function(go){return a(Y,go)}),It&&Ea(Y,Le),Pe}function be(Y,H,J,ge){var Pe=pe(J);if(typeof Pe!="function")throw Error(t(150));if(J=Pe.call(J),J==null)throw Error(t(151));for(var Oe=Pe=null,Ne=H,Le=H=0,pn=null,et=J.next();Ne!==null&&!et.done;Le++,et=J.next()){Ne.index>Le?(pn=Ne,Ne=null):pn=Ne.sibling;var go=le(Y,Ne,et.value,ge);if(go===null){Ne===null&&(Ne=pn);break}o&&Ne&&go.alternate===null&&a(Y,Ne),H=w(go,H,Le),Oe===null?Pe=go:Oe.sibling=go,Oe=go,Ne=pn}if(et.done)return c(Y,Ne),It&&Ea(Y,Le),Pe;if(Ne===null){for(;!et.done;Le++,et=J.next())et=fe(Y,et.value,ge),et!==null&&(H=w(et,H,Le),Oe===null?Pe=et:Oe.sibling=et,Oe=et);return It&&Ea(Y,Le),Pe}for(Ne=p(Y,Ne);!et.done;Le++,et=J.next())et=Ee(Ne,Y,Le,et.value,ge),et!==null&&(o&&et.alternate!==null&&Ne.delete(et.key===null?Le:et.key),H=w(et,H,Le),Oe===null?Pe=et:Oe.sibling=et,Oe=et);return o&&Ne.forEach(function(LL){return a(Y,LL)}),It&&Ea(Y,Le),Pe}function zt(Y,H,J,ge){if(typeof J=="object"&&J!==null&&J.type===D&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case B:e:{for(var Pe=J.key,Oe=H;Oe!==null;){if(Oe.key===Pe){if(Pe=J.type,Pe===D){if(Oe.tag===7){c(Y,Oe.sibling),H=y(Oe,J.props.children),H.return=Y,Y=H;break e}}else if(Oe.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===me&&_T(Pe)===Oe.type){c(Y,Oe.sibling),H=y(Oe,J.props),H.ref=ad(Y,Oe,J),H.return=Y,Y=H;break e}c(Y,Oe);break}else a(Y,Oe);Oe=Oe.sibling}J.type===D?(H=Ca(J.props.children,Y.mode,ge,J.key),H.return=Y,Y=H):(ge=Lp(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=ad(Y,H,J),ge.return=Y,Y=ge)}return P(Y);case W:e:{for(Oe=J.key;H!==null;){if(H.key===Oe)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){c(Y,H.sibling),H=y(H,J.children||[]),H.return=Y,Y=H;break e}else{c(Y,H);break}else a(Y,H);H=H.sibling}H=lv(J,Y.mode,ge),H.return=Y,Y=H}return P(Y);case me:return Oe=J._init,zt(Y,H,Oe(J._payload),ge)}if(lr(J))return Re(Y,H,J,ge);if(pe(J))return be(Y,H,J,ge);dp(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(c(Y,H.sibling),H=y(H,J),H.return=Y,Y=H):(c(Y,H),H=av(J,Y.mode,ge),H.return=Y,Y=H),P(Y)):c(Y,H)}return zt}var Ql=vT(!0),wT=vT(!1),hp=io(null),fp=null,Yl=null,y_=null;function __(){y_=Yl=fp=null}function v_(o){var a=hp.current;_t(hp),o._currentValue=a}function w_(o,a,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),o===c)break;o=o.return}}function Jl(o,a){fp=o,y_=Yl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&a&&(Xn=!0),o.firstContext=null)}function Mr(o){var a=o._currentValue;if(y_!==o)if(o={context:o,memoizedValue:a,next:null},Yl===null){if(fp===null)throw Error(t(308));Yl=o,fp.dependencies={lanes:0,firstContext:o}}else Yl=Yl.next=o;return a}var Ia=null;function E_(o){Ia===null?Ia=[o]:Ia.push(o)}function ET(o,a,c,p){var y=a.interleaved;return y===null?(c.next=c,E_(a)):(c.next=y.next,y.next=c),a.interleaved=c,gs(o,p)}function gs(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var ao=!1;function I_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IT(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ys(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function lo(o,a,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,Ze&2){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,gs(o,c)}return y=p.interleaved,y===null?(a.next=a,E_(p)):(a.next=y.next,y.next=a),p.interleaved=a,gs(o,c)}function pp(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,Js(o,c)}}function TT(o,a){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=P:w=w.next=P,c=c.next}while(c!==null);w===null?y=w=a:w=w.next=a}else y=w=a;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function mp(o,a,c,p){var y=o.updateQueue;ao=!1;var w=y.firstBaseUpdate,P=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var j=$,ee=j.next;j.next=null,P===null?w=ee:P.next=ee,P=j;var ce=o.alternate;ce!==null&&(ce=ce.updateQueue,$=ce.lastBaseUpdate,$!==P&&($===null?ce.firstBaseUpdate=ee:$.next=ee,ce.lastBaseUpdate=j))}if(w!==null){var fe=y.baseState;P=0,ce=ee=j=null,$=w;do{var le=$.lane,Ee=$.eventTime;if((p&le)===le){ce!==null&&(ce=ce.next={eventTime:Ee,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Re=o,be=$;switch(le=a,Ee=c,be.tag){case 1:if(Re=be.payload,typeof Re=="function"){fe=Re.call(Ee,fe,le);break e}fe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=be.payload,le=typeof Re=="function"?Re.call(Ee,fe,le):Re,le==null)break e;fe=he({},fe,le);break e;case 2:ao=!0}}$.callback!==null&&$.lane!==0&&(o.flags|=64,le=y.effects,le===null?y.effects=[$]:le.push($))}else Ee={eventTime:Ee,lane:le,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ce===null?(ee=ce=Ee,j=fe):ce=ce.next=Ee,P|=le;if($=$.next,$===null){if($=y.shared.pending,$===null)break;le=$,$=le.next,le.next=null,y.lastBaseUpdate=le,y.shared.pending=null}}while(!0);if(ce===null&&(j=fe),y.baseState=j,y.firstBaseUpdate=ee,y.lastBaseUpdate=ce,a=y.shared.interleaved,a!==null){y=a;do P|=y.lane,y=y.next;while(y!==a)}else w===null&&(y.shared.lanes=0);Ra|=P,o.lanes=P,o.memoizedState=fe}}function ST(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var p=o[a],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var ld={},bi=io(ld),ud=io(ld),cd=io(ld);function Ta(o){if(o===ld)throw Error(t(174));return o}function T_(o,a){switch(pt(cd,a),pt(ud,o),pt(bi,ld),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:rn(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=rn(a,o)}_t(bi),pt(bi,a)}function Xl(){_t(bi),_t(ud),_t(cd)}function RT(o){Ta(cd.current);var a=Ta(bi.current),c=rn(a,o.type);a!==c&&(pt(ud,o),pt(bi,c))}function S_(o){ud.current===o&&(_t(bi),_t(ud))}var Ct=io(0);function gp(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var R_=[];function A_(){for(var o=0;o<R_.length;o++)R_[o]._workInProgressVersionPrimary=null;R_.length=0}var yp=z.ReactCurrentDispatcher,b_=z.ReactCurrentBatchConfig,Sa=0,kt=null,on=null,hn=null,_p=!1,dd=!1,hd=0,rL=0;function Cn(){throw Error(t(321))}function P_(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!ii(o[c],a[c]))return!1;return!0}function C_(o,a,c,p,y,w){if(Sa=w,kt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,yp.current=o===null||o.memoizedState===null?aL:lL,o=c(p,y),dd){w=0;do{if(dd=!1,hd=0,25<=w)throw Error(t(301));w+=1,hn=on=null,a.updateQueue=null,yp.current=uL,o=c(p,y)}while(dd)}if(yp.current=Ep,a=on!==null&&on.next!==null,Sa=0,hn=on=kt=null,_p=!1,a)throw Error(t(300));return o}function k_(){var o=hd!==0;return hd=0,o}function Pi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?kt.memoizedState=hn=o:hn=hn.next=o,hn}function Fr(){if(on===null){var o=kt.alternate;o=o!==null?o.memoizedState:null}else o=on.next;var a=hn===null?kt.memoizedState:hn.next;if(a!==null)hn=a,on=o;else{if(o===null)throw Error(t(310));on=o,o={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},hn===null?kt.memoizedState=hn=o:hn=hn.next=o}return hn}function fd(o,a){return typeof a=="function"?a(o):a}function x_(o){var a=Fr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=on,y=p.baseQueue,w=c.pending;if(w!==null){if(y!==null){var P=y.next;y.next=w.next,w.next=P}p.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,p=p.baseState;var $=P=null,j=null,ee=w;do{var ce=ee.lane;if((Sa&ce)===ce)j!==null&&(j=j.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),p=ee.hasEagerState?ee.eagerState:o(p,ee.action);else{var fe={lane:ce,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};j===null?($=j=fe,P=p):j=j.next=fe,kt.lanes|=ce,Ra|=ce}ee=ee.next}while(ee!==null&&ee!==w);j===null?P=p:j.next=$,ii(p,a.memoizedState)||(Xn=!0),a.memoizedState=p,a.baseState=P,a.baseQueue=j,c.lastRenderedState=p}if(o=c.interleaved,o!==null){y=o;do w=y.lane,kt.lanes|=w,Ra|=w,y=y.next;while(y!==o)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function O_(o){var a=Fr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=c.dispatch,y=c.pending,w=a.memoizedState;if(y!==null){c.pending=null;var P=y=y.next;do w=o(w,P.action),P=P.next;while(P!==y);ii(w,a.memoizedState)||(Xn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,p]}function AT(){}function bT(o,a){var c=kt,p=Fr(),y=a(),w=!ii(p.memoizedState,y);if(w&&(p.memoizedState=y,Xn=!0),p=p.queue,N_(kT.bind(null,c,p,o),[o]),p.getSnapshot!==a||w||hn!==null&&hn.memoizedState.tag&1){if(c.flags|=2048,pd(9,CT.bind(null,c,p,y,a),void 0,null),fn===null)throw Error(t(349));Sa&30||PT(c,a,y)}return y}function PT(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=kt.updateQueue,a===null?(a={lastEffect:null,stores:null},kt.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function CT(o,a,c,p){a.value=c,a.getSnapshot=p,xT(a)&&OT(o)}function kT(o,a,c){return c(function(){xT(a)&&OT(o)})}function xT(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!ii(o,c)}catch{return!0}}function OT(o){var a=gs(o,1);a!==null&&ui(a,o,1,-1)}function NT(o){var a=Pi();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:o},a.queue=o,o=o.dispatch=oL.bind(null,kt,o),[a.memoizedState,o]}function pd(o,a,c,p){return o={tag:o,create:a,destroy:c,deps:p,next:null},a=kt.updateQueue,a===null?(a={lastEffect:null,stores:null},kt.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,a.lastEffect=o)),o}function DT(){return Fr().memoizedState}function vp(o,a,c,p){var y=Pi();kt.flags|=o,y.memoizedState=pd(1|a,c,void 0,p===void 0?null:p)}function wp(o,a,c,p){var y=Fr();p=p===void 0?null:p;var w=void 0;if(on!==null){var P=on.memoizedState;if(w=P.destroy,p!==null&&P_(p,P.deps)){y.memoizedState=pd(a,c,w,p);return}}kt.flags|=o,y.memoizedState=pd(1|a,c,w,p)}function LT(o,a){return vp(8390656,8,o,a)}function N_(o,a){return wp(2048,8,o,a)}function VT(o,a){return wp(4,2,o,a)}function MT(o,a){return wp(4,4,o,a)}function FT(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function UT(o,a,c){return c=c!=null?c.concat([o]):null,wp(4,4,FT.bind(null,a,o),c)}function D_(){}function $T(o,a){var c=Fr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&P_(a,p[1])?p[0]:(c.memoizedState=[o,a],o)}function BT(o,a){var c=Fr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&P_(a,p[1])?p[0]:(o=o(),c.memoizedState=[o,a],o)}function zT(o,a,c){return Sa&21?(ii(c,a)||(c=fa(),kt.lanes|=c,Ra|=c,o.baseState=!0),a):(o.baseState&&(o.baseState=!1,Xn=!0),o.memoizedState=c)}function iL(o,a){var c=Ke;Ke=c!==0&&4>c?c:4,o(!0);var p=b_.transition;b_.transition={};try{o(!1),a()}finally{Ke=c,b_.transition=p}}function jT(){return Fr().memoizedState}function sL(o,a,c){var p=fo(o);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},WT(o))qT(a,c);else if(c=ET(o,a,c,p),c!==null){var y=Bn();ui(c,o,p,y),HT(c,a,p)}}function oL(o,a,c){var p=fo(o),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(WT(o))qT(a,y);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var P=a.lastRenderedState,$=w(P,c);if(y.hasEagerState=!0,y.eagerState=$,ii($,P)){var j=a.interleaved;j===null?(y.next=y,E_(a)):(y.next=j.next,j.next=y),a.interleaved=y;return}}catch{}finally{}c=ET(o,a,y,p),c!==null&&(y=Bn(),ui(c,o,p,y),HT(c,a,p))}}function WT(o){var a=o.alternate;return o===kt||a!==null&&a===kt}function qT(o,a){dd=_p=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function HT(o,a,c){if(c&4194240){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,Js(o,c)}}var Ep={readContext:Mr,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},aL={readContext:Mr,useCallback:function(o,a){return Pi().memoizedState=[o,a===void 0?null:a],o},useContext:Mr,useEffect:LT,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,vp(4194308,4,FT.bind(null,a,o),c)},useLayoutEffect:function(o,a){return vp(4194308,4,o,a)},useInsertionEffect:function(o,a){return vp(4,2,o,a)},useMemo:function(o,a){var c=Pi();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var p=Pi();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},p.queue=o,o=o.dispatch=sL.bind(null,kt,o),[p.memoizedState,o]},useRef:function(o){var a=Pi();return o={current:o},a.memoizedState=o},useState:NT,useDebugValue:D_,useDeferredValue:function(o){return Pi().memoizedState=o},useTransition:function(){var o=NT(!1),a=o[0];return o=iL.bind(null,o[1]),Pi().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var p=kt,y=Pi();if(It){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),fn===null)throw Error(t(349));Sa&30||PT(p,a,c)}y.memoizedState=c;var w={value:c,getSnapshot:a};return y.queue=w,LT(kT.bind(null,p,w,o),[o]),p.flags|=2048,pd(9,CT.bind(null,p,w,c,a),void 0,null),c},useId:function(){var o=Pi(),a=fn.identifierPrefix;if(It){var c=ms,p=ps;c=(p&~(1<<32-Fn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=hd++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=rL++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},lL={readContext:Mr,useCallback:$T,useContext:Mr,useEffect:N_,useImperativeHandle:UT,useInsertionEffect:VT,useLayoutEffect:MT,useMemo:BT,useReducer:x_,useRef:DT,useState:function(){return x_(fd)},useDebugValue:D_,useDeferredValue:function(o){var a=Fr();return zT(a,on.memoizedState,o)},useTransition:function(){var o=x_(fd)[0],a=Fr().memoizedState;return[o,a]},useMutableSource:AT,useSyncExternalStore:bT,useId:jT,unstable_isNewReconciler:!1},uL={readContext:Mr,useCallback:$T,useContext:Mr,useEffect:N_,useImperativeHandle:UT,useInsertionEffect:VT,useLayoutEffect:MT,useMemo:BT,useReducer:O_,useRef:DT,useState:function(){return O_(fd)},useDebugValue:D_,useDeferredValue:function(o){var a=Fr();return on===null?a.memoizedState=o:zT(a,on.memoizedState,o)},useTransition:function(){var o=O_(fd)[0],a=Fr().memoizedState;return[o,a]},useMutableSource:AT,useSyncExternalStore:bT,useId:jT,unstable_isNewReconciler:!1};function oi(o,a){if(o&&o.defaultProps){a=he({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function L_(o,a,c,p){a=o.memoizedState,c=c(p,a),c=c==null?a:he({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Ip={isMounted:function(o){return(o=o._reactInternals)?Jr(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var p=Bn(),y=fo(o),w=ys(p,y);w.payload=a,c!=null&&(w.callback=c),a=lo(o,w,y),a!==null&&(ui(a,o,y,p),pp(a,o,y))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var p=Bn(),y=fo(o),w=ys(p,y);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=lo(o,w,y),a!==null&&(ui(a,o,y,p),pp(a,o,y))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=Bn(),p=fo(o),y=ys(c,p);y.tag=2,a!=null&&(y.callback=a),a=lo(o,y,p),a!==null&&(ui(a,o,p,c),pp(a,o,p))}};function KT(o,a,c,p,y,w,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,P):a.prototype&&a.prototype.isPureReactComponent?!ed(c,p)||!ed(y,w):!0}function GT(o,a,c){var p=!1,y=so,w=a.contextType;return typeof w=="object"&&w!==null?w=Mr(w):(y=Jn(a)?va:Pn.current,p=a.contextTypes,w=(p=p!=null)?ql(o,y):so),a=new a(c,w),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ip,o.stateNode=a,a._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=w),a}function QT(o,a,c,p){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==o&&Ip.enqueueReplaceState(a,a.state,null)}function V_(o,a,c,p){var y=o.stateNode;y.props=c,y.state=o.memoizedState,y.refs={},I_(o);var w=a.contextType;typeof w=="object"&&w!==null?y.context=Mr(w):(w=Jn(a)?va:Pn.current,y.context=ql(o,w)),y.state=o.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(L_(o,a,w,c),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&Ip.enqueueReplaceState(y,y.state,null),mp(o,c,y,p),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function Zl(o,a){try{var c="",p=a;do c+=Me(p),p=p.return;while(p);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:a,stack:y,digest:null}}function M_(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function F_(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var cL=typeof WeakMap=="function"?WeakMap:Map;function YT(o,a,c){c=ys(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){Cp||(Cp=!0,Z_=p),F_(o,a)},c}function JT(o,a,c){c=ys(-1,c),c.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;c.payload=function(){return p(y)},c.callback=function(){F_(o,a)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){F_(o,a),typeof p!="function"&&(co===null?co=new Set([this]):co.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})}),c}function XT(o,a,c){var p=o.pingCache;if(p===null){p=o.pingCache=new cL;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(c)||(y.add(c),o=SL.bind(null,o,a,c),a.then(o,o))}function ZT(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function eS(o,a,c,p,y){return o.mode&1?(o.flags|=65536,o.lanes=y,o):(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=ys(-1,1),a.tag=2,lo(c,a,1))),c.lanes|=1),o)}var dL=z.ReactCurrentOwner,Xn=!1;function $n(o,a,c,p){a.child=o===null?wT(a,null,c,p):Ql(a,o.child,c,p)}function tS(o,a,c,p,y){c=c.render;var w=a.ref;return Jl(a,y),p=C_(o,a,c,p,w,y),c=k_(),o!==null&&!Xn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,_s(o,a,y)):(It&&c&&h_(a),a.flags|=1,$n(o,a,p,y),a.child)}function nS(o,a,c,p,y){if(o===null){var w=c.type;return typeof w=="function"&&!ov(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,rS(o,a,w,p,y)):(o=Lp(c.type,null,p,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(w=o.child,!(o.lanes&y)){var P=w.memoizedProps;if(c=c.compare,c=c!==null?c:ed,c(P,p)&&o.ref===a.ref)return _s(o,a,y)}return a.flags|=1,o=mo(w,p),o.ref=a.ref,o.return=a,a.child=o}function rS(o,a,c,p,y){if(o!==null){var w=o.memoizedProps;if(ed(w,p)&&o.ref===a.ref)if(Xn=!1,a.pendingProps=p=w,(o.lanes&y)!==0)o.flags&131072&&(Xn=!0);else return a.lanes=o.lanes,_s(o,a,y)}return U_(o,a,c,p,y)}function iS(o,a,c){var p=a.pendingProps,y=p.children,w=o!==null?o.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(tu,mr),mr|=c;else{if(!(c&1073741824))return o=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,pt(tu,mr),mr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,pt(tu,mr),mr|=p}else w!==null?(p=w.baseLanes|c,a.memoizedState=null):p=c,pt(tu,mr),mr|=p;return $n(o,a,y,c),a.child}function sS(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function U_(o,a,c,p,y){var w=Jn(c)?va:Pn.current;return w=ql(a,w),Jl(a,y),c=C_(o,a,c,p,w,y),p=k_(),o!==null&&!Xn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,_s(o,a,y)):(It&&p&&h_(a),a.flags|=1,$n(o,a,c,y),a.child)}function oS(o,a,c,p,y){if(Jn(c)){var w=!0;op(a)}else w=!1;if(Jl(a,y),a.stateNode===null)Sp(o,a),GT(a,c,p),V_(a,c,p,y),p=!0;else if(o===null){var P=a.stateNode,$=a.memoizedProps;P.props=$;var j=P.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=Mr(ee):(ee=Jn(c)?va:Pn.current,ee=ql(a,ee));var ce=c.getDerivedStateFromProps,fe=typeof ce=="function"||typeof P.getSnapshotBeforeUpdate=="function";fe||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||($!==p||j!==ee)&&QT(a,P,p,ee),ao=!1;var le=a.memoizedState;P.state=le,mp(a,p,P,y),j=a.memoizedState,$!==p||le!==j||Yn.current||ao?(typeof ce=="function"&&(L_(a,c,ce,p),j=a.memoizedState),($=ao||KT(a,c,$,p,le,j,ee))?(fe||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(a.flags|=4194308)):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=j),P.props=p,P.state=j,P.context=ee,p=$):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{P=a.stateNode,IT(o,a),$=a.memoizedProps,ee=a.type===a.elementType?$:oi(a.type,$),P.props=ee,fe=a.pendingProps,le=P.context,j=c.contextType,typeof j=="object"&&j!==null?j=Mr(j):(j=Jn(c)?va:Pn.current,j=ql(a,j));var Ee=c.getDerivedStateFromProps;(ce=typeof Ee=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||($!==fe||le!==j)&&QT(a,P,p,j),ao=!1,le=a.memoizedState,P.state=le,mp(a,p,P,y);var Re=a.memoizedState;$!==fe||le!==Re||Yn.current||ao?(typeof Ee=="function"&&(L_(a,c,Ee,p),Re=a.memoizedState),(ee=ao||KT(a,c,ee,p,le,Re,j)||!1)?(ce||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(p,Re,j),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(p,Re,j)),typeof P.componentDidUpdate=="function"&&(a.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof P.componentDidUpdate!="function"||$===o.memoizedProps&&le===o.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&le===o.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Re),P.props=p,P.state=Re,P.context=j,p=ee):(typeof P.componentDidUpdate!="function"||$===o.memoizedProps&&le===o.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&le===o.memoizedState||(a.flags|=1024),p=!1)}return $_(o,a,c,p,w,y)}function $_(o,a,c,p,y,w){sS(o,a);var P=(a.flags&128)!==0;if(!p&&!P)return y&&dT(a,c,!1),_s(o,a,w);p=a.stateNode,dL.current=a;var $=P&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,o!==null&&P?(a.child=Ql(a,o.child,null,w),a.child=Ql(a,null,$,w)):$n(o,a,$,w),a.memoizedState=p.state,y&&dT(a,c,!0),a.child}function aS(o){var a=o.stateNode;a.pendingContext?uT(o,a.pendingContext,a.pendingContext!==a.context):a.context&&uT(o,a.context,!1),T_(o,a.containerInfo)}function lS(o,a,c,p,y){return Gl(),g_(y),a.flags|=256,$n(o,a,c,p),a.child}var B_={dehydrated:null,treeContext:null,retryLane:0};function z_(o){return{baseLanes:o,cachePool:null,transitions:null}}function uS(o,a,c){var p=a.pendingProps,y=Ct.current,w=!1,P=(a.flags&128)!==0,$;if(($=P)||($=o!==null&&o.memoizedState===null?!1:(y&2)!==0),$?(w=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),pt(Ct,y&1),o===null)return m_(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(a.mode&1?o.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(P=p.children,o=p.fallback,w?(p=a.mode,w=a.child,P={mode:"hidden",children:P},!(p&1)&&w!==null?(w.childLanes=0,w.pendingProps=P):w=Vp(P,p,0,null),o=Ca(o,p,c,null),w.return=a,o.return=a,w.sibling=o,a.child=w,a.child.memoizedState=z_(c),a.memoizedState=B_,o):j_(a,P));if(y=o.memoizedState,y!==null&&($=y.dehydrated,$!==null))return hL(o,a,P,p,$,y,c);if(w){w=p.fallback,P=a.mode,y=o.child,$=y.sibling;var j={mode:"hidden",children:p.children};return!(P&1)&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=j,a.deletions=null):(p=mo(y,j),p.subtreeFlags=y.subtreeFlags&14680064),$!==null?w=mo($,w):(w=Ca(w,P,c,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,P=o.child.memoizedState,P=P===null?z_(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},w.memoizedState=P,w.childLanes=o.childLanes&~c,a.memoizedState=B_,p}return w=o.child,o=w.sibling,p=mo(w,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=p,a.memoizedState=null,p}function j_(o,a){return a=Vp({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Tp(o,a,c,p){return p!==null&&g_(p),Ql(a,o.child,null,c),o=j_(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function hL(o,a,c,p,y,w,P){if(c)return a.flags&256?(a.flags&=-257,p=M_(Error(t(422))),Tp(o,a,P,p)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(w=p.fallback,y=a.mode,p=Vp({mode:"visible",children:p.children},y,0,null),w=Ca(w,y,P,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,a.mode&1&&Ql(a,o.child,null,P),a.child.memoizedState=z_(P),a.memoizedState=B_,w);if(!(a.mode&1))return Tp(o,a,P,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var $=p.dgst;return p=$,w=Error(t(419)),p=M_(w,p,void 0),Tp(o,a,P,p)}if($=(P&o.childLanes)!==0,Xn||$){if(p=fn,p!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(p.suspendedLanes|P)?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,gs(o,y),ui(p,o,y,-1))}return sv(),p=M_(Error(t(421))),Tp(o,a,P,p)}return y.data==="$?"?(a.flags|=128,a.child=o.child,a=RL.bind(null,o),y._reactRetry=a,null):(o=w.treeContext,pr=ro(y.nextSibling),fr=a,It=!0,si=null,o!==null&&(Lr[Vr++]=ps,Lr[Vr++]=ms,Lr[Vr++]=wa,ps=o.id,ms=o.overflow,wa=a),a=j_(a,p.children),a.flags|=4096,a)}function cS(o,a,c){o.lanes|=a;var p=o.alternate;p!==null&&(p.lanes|=a),w_(o.return,a,c)}function W_(o,a,c,p,y){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=y)}function dS(o,a,c){var p=a.pendingProps,y=p.revealOrder,w=p.tail;if($n(o,a,p.children,c),p=Ct.current,p&2)p=p&1|2,a.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&cS(o,c,a);else if(o.tag===19)cS(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(pt(Ct,p),!(a.mode&1))a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)o=c.alternate,o!==null&&gp(o)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),W_(a,!1,y,c,w);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&gp(o)===null){a.child=y;break}o=y.sibling,y.sibling=c,c=y,y=o}W_(a,!0,c,null,w);break;case"together":W_(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Sp(o,a){!(a.mode&1)&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function _s(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),Ra|=a.lanes,!(c&a.childLanes))return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=mo(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=mo(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function fL(o,a,c){switch(a.tag){case 3:aS(a),Gl();break;case 5:RT(a);break;case 1:Jn(a.type)&&op(a);break;case 4:T_(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;pt(hp,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(pt(Ct,Ct.current&1),a.flags|=128,null):c&a.child.childLanes?uS(o,a,c):(pt(Ct,Ct.current&1),o=_s(o,a,c),o!==null?o.sibling:null);pt(Ct,Ct.current&1);break;case 19:if(p=(c&a.childLanes)!==0,o.flags&128){if(p)return dS(o,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),pt(Ct,Ct.current),p)break;return null;case 22:case 23:return a.lanes=0,iS(o,a,c)}return _s(o,a,c)}var hS,q_,fS,pS;hS=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},q_=function(){},fS=function(o,a,c,p){var y=o.memoizedProps;if(y!==p){o=a.stateNode,Ta(bi.current);var w=null;switch(c){case"input":y=tn(o,y),p=tn(o,p),w=[];break;case"select":y=he({},y,{value:void 0}),p=he({},p,{value:void 0}),w=[];break;case"textarea":y=Cc(o,y),p=Cc(o,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=rp)}Lc(c,p);var P;c=null;for(ee in y)if(!p.hasOwnProperty(ee)&&y.hasOwnProperty(ee)&&y[ee]!=null)if(ee==="style"){var $=y[ee];for(P in $)$.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(i.hasOwnProperty(ee)?w||(w=[]):(w=w||[]).push(ee,null));for(ee in p){var j=p[ee];if($=y!=null?y[ee]:void 0,p.hasOwnProperty(ee)&&j!==$&&(j!=null||$!=null))if(ee==="style")if($){for(P in $)!$.hasOwnProperty(P)||j&&j.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in j)j.hasOwnProperty(P)&&$[P]!==j[P]&&(c||(c={}),c[P]=j[P])}else c||(w||(w=[]),w.push(ee,c)),c=j;else ee==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,$=$?$.__html:void 0,j!=null&&$!==j&&(w=w||[]).push(ee,j)):ee==="children"?typeof j!="string"&&typeof j!="number"||(w=w||[]).push(ee,""+j):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(ee)?(j!=null&&ee==="onScroll"&&yt("scroll",o),w||$===j||(w=[])):(w=w||[]).push(ee,j))}c&&(w=w||[]).push("style",c);var ee=w;(a.updateQueue=ee)&&(a.flags|=4)}},pS=function(o,a,c,p){c!==p&&(a.flags|=4)};function md(o,a){if(!It)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function kn(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(a)for(var y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=p,o.childLanes=c,a}function pL(o,a,c){var p=a.pendingProps;switch(f_(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(a),null;case 1:return Jn(a.type)&&sp(),kn(a),null;case 3:return p=a.stateNode,Xl(),_t(Yn),_t(Pn),A_(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(cp(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,si!==null&&(nv(si),si=null))),q_(o,a),kn(a),null;case 5:S_(a);var y=Ta(cd.current);if(c=a.type,o!==null&&a.stateNode!=null)fS(o,a,c,p,y),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return kn(a),null}if(o=Ta(bi.current),cp(a)){p=a.stateNode,c=a.type;var w=a.memoizedProps;switch(p[Ai]=a,p[sd]=w,o=(a.mode&1)!==0,c){case"dialog":yt("cancel",p),yt("close",p);break;case"iframe":case"object":case"embed":yt("load",p);break;case"video":case"audio":for(y=0;y<nd.length;y++)yt(nd[y],p);break;case"source":yt("error",p);break;case"img":case"image":case"link":yt("error",p),yt("load",p);break;case"details":yt("toggle",p);break;case"input":Gr(p,w),yt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},yt("invalid",p);break;case"textarea":ml(p,w),yt("invalid",p)}Lc(c,w),y=null;for(var P in w)if(w.hasOwnProperty(P)){var $=w[P];P==="children"?typeof $=="string"?p.textContent!==$&&(w.suppressHydrationWarning!==!0&&np(p.textContent,$,o),y=["children",$]):typeof $=="number"&&p.textContent!==""+$&&(w.suppressHydrationWarning!==!0&&np(p.textContent,$,o),y=["children",""+$]):i.hasOwnProperty(P)&&$!=null&&P==="onScroll"&&yt("scroll",p)}switch(c){case"input":cn(p),Hn(p,w,!0);break;case"textarea":cn(p),kc(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=rp)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=nn(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=P.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=P.createElement(c,{is:p.is}):(o=P.createElement(c),c==="select"&&(P=o,p.multiple?P.multiple=!0:p.size&&(P.size=p.size))):o=P.createElementNS(o,c),o[Ai]=a,o[sd]=p,hS(o,a,!1,!1),a.stateNode=o;e:{switch(P=Vc(c,p),c){case"dialog":yt("cancel",o),yt("close",o),y=p;break;case"iframe":case"object":case"embed":yt("load",o),y=p;break;case"video":case"audio":for(y=0;y<nd.length;y++)yt(nd[y],o);y=p;break;case"source":yt("error",o),y=p;break;case"img":case"image":case"link":yt("error",o),yt("load",o),y=p;break;case"details":yt("toggle",o),y=p;break;case"input":Gr(o,p),y=tn(o,p),yt("invalid",o);break;case"option":y=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},y=he({},p,{value:void 0}),yt("invalid",o);break;case"textarea":ml(o,p),y=Cc(o,p),yt("invalid",o);break;default:y=p}Lc(c,y),$=y;for(w in $)if($.hasOwnProperty(w)){var j=$[w];w==="style"?Nc(o,j):w==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&xc(o,j)):w==="children"?typeof j=="string"?(c!=="textarea"||j!=="")&&Hs(o,j):typeof j=="number"&&Hs(o,""+j):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?j!=null&&w==="onScroll"&&yt("scroll",o):j!=null&&M(o,w,j,P))}switch(c){case"input":cn(o),Hn(o,p,!1);break;case"textarea":cn(o),kc(o);break;case"option":p.value!=null&&o.setAttribute("value",""+He(p.value));break;case"select":o.multiple=!!p.multiple,w=p.value,w!=null?is(o,!!p.multiple,w,!1):p.defaultValue!=null&&is(o,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=rp)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return kn(a),null;case 6:if(o&&a.stateNode!=null)pS(o,a,o.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=Ta(cd.current),Ta(bi.current),cp(a)){if(p=a.stateNode,c=a.memoizedProps,p[Ai]=a,(w=p.nodeValue!==c)&&(o=fr,o!==null))switch(o.tag){case 3:np(p.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&np(p.nodeValue,c,(o.mode&1)!==0)}w&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Ai]=a,a.stateNode=p}return kn(a),null;case 13:if(_t(Ct),p=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(It&&pr!==null&&a.mode&1&&!(a.flags&128))yT(),Gl(),a.flags|=98560,w=!1;else if(w=cp(a),p!==null&&p.dehydrated!==null){if(o===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Ai]=a}else Gl(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;kn(a),w=!1}else si!==null&&(nv(si),si=null),w=!0;if(!w)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(o===null||Ct.current&1?an===0&&(an=3):sv())),a.updateQueue!==null&&(a.flags|=4),kn(a),null);case 4:return Xl(),q_(o,a),o===null&&rd(a.stateNode.containerInfo),kn(a),null;case 10:return v_(a.type._context),kn(a),null;case 17:return Jn(a.type)&&sp(),kn(a),null;case 19:if(_t(Ct),w=a.memoizedState,w===null)return kn(a),null;if(p=(a.flags&128)!==0,P=w.rendering,P===null)if(p)md(w,!1);else{if(an!==0||o!==null&&o.flags&128)for(o=a.child;o!==null;){if(P=gp(o),P!==null){for(a.flags|=128,md(w,!1),p=P.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)w=c,o=p,w.flags&=14680066,P=w.alternate,P===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=P.childLanes,w.lanes=P.lanes,w.child=P.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=P.memoizedProps,w.memoizedState=P.memoizedState,w.updateQueue=P.updateQueue,w.type=P.type,o=P.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return pt(Ct,Ct.current&1|2),a.child}o=o.sibling}w.tail!==null&&ft()>nu&&(a.flags|=128,p=!0,md(w,!1),a.lanes=4194304)}else{if(!p)if(o=gp(P),o!==null){if(a.flags|=128,p=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),md(w,!0),w.tail===null&&w.tailMode==="hidden"&&!P.alternate&&!It)return kn(a),null}else 2*ft()-w.renderingStartTime>nu&&c!==1073741824&&(a.flags|=128,p=!0,md(w,!1),a.lanes=4194304);w.isBackwards?(P.sibling=a.child,a.child=P):(c=w.last,c!==null?c.sibling=P:a.child=P,w.last=P)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=ft(),a.sibling=null,c=Ct.current,pt(Ct,p?c&1|2:c&1),a):(kn(a),null);case 22:case 23:return iv(),p=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?mr&1073741824&&(kn(a),a.subtreeFlags&6&&(a.flags|=8192)):kn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function mL(o,a){switch(f_(a),a.tag){case 1:return Jn(a.type)&&sp(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Xl(),_t(Yn),_t(Pn),A_(),o=a.flags,o&65536&&!(o&128)?(a.flags=o&-65537|128,a):null;case 5:return S_(a),null;case 13:if(_t(Ct),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Gl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return _t(Ct),null;case 4:return Xl(),null;case 10:return v_(a.type._context),null;case 22:case 23:return iv(),null;case 24:return null;default:return null}}var Rp=!1,xn=!1,gL=typeof WeakSet=="function"?WeakSet:Set,Te=null;function eu(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Lt(o,a,p)}else c.current=null}function H_(o,a,c){try{c()}catch(p){Lt(o,a,p)}}var mS=!1;function yL(o,a){if(i_=eo,o=KI(),Yy(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var P=0,$=-1,j=-1,ee=0,ce=0,fe=o,le=null;t:for(;;){for(var Ee;fe!==c||y!==0&&fe.nodeType!==3||($=P+y),fe!==w||p!==0&&fe.nodeType!==3||(j=P+p),fe.nodeType===3&&(P+=fe.nodeValue.length),(Ee=fe.firstChild)!==null;)le=fe,fe=Ee;for(;;){if(fe===o)break t;if(le===c&&++ee===y&&($=P),le===w&&++ce===p&&(j=P),(Ee=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=Ee}c=$===-1||j===-1?null:{start:$,end:j}}else c=null}c=c||{start:0,end:0}}else c=null;for(s_={focusedElem:o,selectionRange:c},eo=!1,Te=a;Te!==null;)if(a=Te,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Te=o;else for(;Te!==null;){a=Te;try{var Re=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var be=Re.memoizedProps,zt=Re.memoizedState,Y=a.stateNode,H=Y.getSnapshotBeforeUpdate(a.elementType===a.type?be:oi(a.type,be),zt);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Lt(a,a.return,ge)}if(o=a.sibling,o!==null){o.return=a.return,Te=o;break}Te=a.return}return Re=mS,mS=!1,Re}function gd(o,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&o)===o){var w=y.destroy;y.destroy=void 0,w!==void 0&&H_(a,c,w)}y=y.next}while(y!==p)}}function Ap(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function K_(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function gS(o){var a=o.alternate;a!==null&&(o.alternate=null,gS(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Ai],delete a[sd],delete a[u_],delete a[ZD],delete a[eL])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function yS(o){return o.tag===5||o.tag===3||o.tag===4}function _S(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||yS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function G_(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=rp));else if(p!==4&&(o=o.child,o!==null))for(G_(o,a,c),o=o.sibling;o!==null;)G_(o,a,c),o=o.sibling}function Q_(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(Q_(o,a,c),o=o.sibling;o!==null;)Q_(o,a,c),o=o.sibling}var En=null,ai=!1;function uo(o,a,c){for(c=c.child;c!==null;)vS(o,a,c),c=c.sibling}function vS(o,a,c){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(da,c)}catch{}switch(c.tag){case 5:xn||eu(c,a);case 6:var p=En,y=ai;En=null,uo(o,a,c),En=p,ai=y,En!==null&&(ai?(o=En,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):En.removeChild(c.stateNode));break;case 18:En!==null&&(ai?(o=En,c=c.stateNode,o.nodeType===8?l_(o.parentNode,c):o.nodeType===1&&l_(o,c),ni(o)):l_(En,c.stateNode));break;case 4:p=En,y=ai,En=c.stateNode.containerInfo,ai=!0,uo(o,a,c),En=p,ai=y;break;case 0:case 11:case 14:case 15:if(!xn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,P=w.destroy;w=w.tag,P!==void 0&&(w&2||w&4)&&H_(c,a,P),y=y.next}while(y!==p)}uo(o,a,c);break;case 1:if(!xn&&(eu(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch($){Lt(c,a,$)}uo(o,a,c);break;case 21:uo(o,a,c);break;case 22:c.mode&1?(xn=(p=xn)||c.memoizedState!==null,uo(o,a,c),xn=p):uo(o,a,c);break;default:uo(o,a,c)}}function wS(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new gL),a.forEach(function(p){var y=AL.bind(null,o,p);c.has(p)||(c.add(p),p.then(y,y))})}}function li(o,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var w=o,P=a,$=P;e:for(;$!==null;){switch($.tag){case 5:En=$.stateNode,ai=!1;break e;case 3:En=$.stateNode.containerInfo,ai=!0;break e;case 4:En=$.stateNode.containerInfo,ai=!0;break e}$=$.return}if(En===null)throw Error(t(160));vS(w,P,y),En=null,ai=!1;var j=y.alternate;j!==null&&(j.return=null),y.return=null}catch(ee){Lt(y,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)ES(a,o),a=a.sibling}function ES(o,a){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(li(a,o),Ci(o),p&4){try{gd(3,o,o.return),Ap(3,o)}catch(be){Lt(o,o.return,be)}try{gd(5,o,o.return)}catch(be){Lt(o,o.return,be)}}break;case 1:li(a,o),Ci(o),p&512&&c!==null&&eu(c,c.return);break;case 5:if(li(a,o),Ci(o),p&512&&c!==null&&eu(c,c.return),o.flags&32){var y=o.stateNode;try{Hs(y,"")}catch(be){Lt(o,o.return,be)}}if(p&4&&(y=o.stateNode,y!=null)){var w=o.memoizedProps,P=c!==null?c.memoizedProps:w,$=o.type,j=o.updateQueue;if(o.updateQueue=null,j!==null)try{$==="input"&&w.type==="radio"&&w.name!=null&&Cr(y,w),Vc($,P);var ee=Vc($,w);for(P=0;P<j.length;P+=2){var ce=j[P],fe=j[P+1];ce==="style"?Nc(y,fe):ce==="dangerouslySetInnerHTML"?xc(y,fe):ce==="children"?Hs(y,fe):M(y,ce,fe,ee)}switch($){case"input":kr(y,w);break;case"textarea":gl(y,w);break;case"select":var le=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var Ee=w.value;Ee!=null?is(y,!!w.multiple,Ee,!1):le!==!!w.multiple&&(w.defaultValue!=null?is(y,!!w.multiple,w.defaultValue,!0):is(y,!!w.multiple,w.multiple?[]:"",!1))}y[sd]=w}catch(be){Lt(o,o.return,be)}}break;case 6:if(li(a,o),Ci(o),p&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,w=o.memoizedProps;try{y.nodeValue=w}catch(be){Lt(o,o.return,be)}}break;case 3:if(li(a,o),Ci(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{ni(a.containerInfo)}catch(be){Lt(o,o.return,be)}break;case 4:li(a,o),Ci(o);break;case 13:li(a,o),Ci(o),y=o.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(X_=ft())),p&4&&wS(o);break;case 22:if(ce=c!==null&&c.memoizedState!==null,o.mode&1?(xn=(ee=xn)||ce,li(a,o),xn=ee):li(a,o),Ci(o),p&8192){if(ee=o.memoizedState!==null,(o.stateNode.isHidden=ee)&&!ce&&o.mode&1)for(Te=o,ce=o.child;ce!==null;){for(fe=Te=ce;Te!==null;){switch(le=Te,Ee=le.child,le.tag){case 0:case 11:case 14:case 15:gd(4,le,le.return);break;case 1:eu(le,le.return);var Re=le.stateNode;if(typeof Re.componentWillUnmount=="function"){p=le,c=le.return;try{a=p,Re.props=a.memoizedProps,Re.state=a.memoizedState,Re.componentWillUnmount()}catch(be){Lt(p,c,be)}}break;case 5:eu(le,le.return);break;case 22:if(le.memoizedState!==null){SS(fe);continue}}Ee!==null?(Ee.return=le,Te=Ee):SS(fe)}ce=ce.sibling}e:for(ce=null,fe=o;;){if(fe.tag===5){if(ce===null){ce=fe;try{y=fe.stateNode,ee?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):($=fe.stateNode,j=fe.memoizedProps.style,P=j!=null&&j.hasOwnProperty("display")?j.display:null,$.style.display=Oc("display",P))}catch(be){Lt(o,o.return,be)}}}else if(fe.tag===6){if(ce===null)try{fe.stateNode.nodeValue=ee?"":fe.memoizedProps}catch(be){Lt(o,o.return,be)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===o)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===o)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===o)break e;ce===fe&&(ce=null),fe=fe.return}ce===fe&&(ce=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:li(a,o),Ci(o),p&4&&wS(o);break;case 21:break;default:li(a,o),Ci(o)}}function Ci(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(yS(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Hs(y,""),p.flags&=-33);var w=_S(o);Q_(o,w,y);break;case 3:case 4:var P=p.stateNode.containerInfo,$=_S(o);G_(o,$,P);break;default:throw Error(t(161))}}catch(j){Lt(o,o.return,j)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function _L(o,a,c){Te=o,IS(o)}function IS(o,a,c){for(var p=(o.mode&1)!==0;Te!==null;){var y=Te,w=y.child;if(y.tag===22&&p){var P=y.memoizedState!==null||Rp;if(!P){var $=y.alternate,j=$!==null&&$.memoizedState!==null||xn;$=Rp;var ee=xn;if(Rp=P,(xn=j)&&!ee)for(Te=y;Te!==null;)P=Te,j=P.child,P.tag===22&&P.memoizedState!==null?RS(y):j!==null?(j.return=P,Te=j):RS(y);for(;w!==null;)Te=w,IS(w),w=w.sibling;Te=y,Rp=$,xn=ee}TS(o)}else y.subtreeFlags&8772&&w!==null?(w.return=y,Te=w):TS(o)}}function TS(o){for(;Te!==null;){var a=Te;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:xn||Ap(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!xn)if(c===null)p.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:oi(a.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&ST(a,w,p);break;case 3:var P=a.updateQueue;if(P!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}ST(a,P,c)}break;case 5:var $=a.stateNode;if(c===null&&a.flags&4){c=$;var j=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&c.focus();break;case"img":j.src&&(c.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var ce=ee.memoizedState;if(ce!==null){var fe=ce.dehydrated;fe!==null&&ni(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}xn||a.flags&512&&K_(a)}catch(le){Lt(a,a.return,le)}}if(a===o){Te=null;break}if(c=a.sibling,c!==null){c.return=a.return,Te=c;break}Te=a.return}}function SS(o){for(;Te!==null;){var a=Te;if(a===o){Te=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Te=c;break}Te=a.return}}function RS(o){for(;Te!==null;){var a=Te;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Ap(4,a)}catch(j){Lt(a,c,j)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch(j){Lt(a,y,j)}}var w=a.return;try{K_(a)}catch(j){Lt(a,w,j)}break;case 5:var P=a.return;try{K_(a)}catch(j){Lt(a,P,j)}}}catch(j){Lt(a,a.return,j)}if(a===o){Te=null;break}var $=a.sibling;if($!==null){$.return=a.return,Te=$;break}Te=a.return}}var vL=Math.ceil,bp=z.ReactCurrentDispatcher,Y_=z.ReactCurrentOwner,Ur=z.ReactCurrentBatchConfig,Ze=0,fn=null,Gt=null,In=0,mr=0,tu=io(0),an=0,yd=null,Ra=0,Pp=0,J_=0,_d=null,Zn=null,X_=0,nu=1/0,vs=null,Cp=!1,Z_=null,co=null,kp=!1,ho=null,xp=0,vd=0,ev=null,Op=-1,Np=0;function Bn(){return Ze&6?ft():Op!==-1?Op:Op=ft()}function fo(o){return o.mode&1?Ze&2&&In!==0?In&-In:nL.transition!==null?(Np===0&&(Np=fa()),Np):(o=Ke,o!==0||(o=window.event,o=o===void 0?16:Kc(o.type)),o):1}function ui(o,a,c,p){if(50<vd)throw vd=0,ev=null,Error(t(185));Ys(o,c,p),(!(Ze&2)||o!==fn)&&(o===fn&&(!(Ze&2)&&(Pp|=c),an===4&&po(o,In)),er(o,p),c===1&&Ze===0&&!(a.mode&1)&&(nu=ft()+500,ap&&oo()))}function er(o,a){var c=o.callbackNode;as(o,a);var p=ha(o,o===fn?In:0);if(p===0)c!==null&&zc(c),o.callbackNode=null,o.callbackPriority=0;else if(a=p&-p,o.callbackPriority!==a){if(c!=null&&zc(c),a===1)o.tag===0?tL(bS.bind(null,o)):hT(bS.bind(null,o)),JD(function(){!(Ze&6)&&oo()}),c=null;else{switch(Xs(p)){case 1:c=ca;break;case 4:c=Ks;break;case 16:c=Or;break;case 536870912:c=Nf;break;default:c=Or}c=LS(c,AS.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function AS(o,a){if(Op=-1,Np=0,Ze&6)throw Error(t(327));var c=o.callbackNode;if(ru()&&o.callbackNode!==c)return null;var p=ha(o,o===fn?In:0);if(p===0)return null;if(p&30||p&o.expiredLanes||a)a=Dp(o,p);else{a=p;var y=Ze;Ze|=2;var w=CS();(fn!==o||In!==a)&&(vs=null,nu=ft()+500,ba(o,a));do try{IL();break}catch($){PS(o,$)}while(!0);__(),bp.current=w,Ze=y,Gt!==null?a=0:(fn=null,In=0,a=an)}if(a!==0){if(a===2&&(y=cr(o),y!==0&&(p=y,a=tv(o,y))),a===1)throw c=yd,ba(o,0),po(o,p),er(o,ft()),c;if(a===6)po(o,p);else{if(y=o.current.alternate,!(p&30)&&!wL(y)&&(a=Dp(o,p),a===2&&(w=cr(o),w!==0&&(p=w,a=tv(o,w))),a===1))throw c=yd,ba(o,0),po(o,p),er(o,ft()),c;switch(o.finishedWork=y,o.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:Pa(o,Zn,vs);break;case 3:if(po(o,p),(p&130023424)===p&&(a=X_+500-ft(),10<a)){if(ha(o,0)!==0)break;if(y=o.suspendedLanes,(y&p)!==p){Bn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=a_(Pa.bind(null,o,Zn,vs),a);break}Pa(o,Zn,vs);break;case 4:if(po(o,p),(p&4194240)===p)break;for(a=o.eventTimes,y=-1;0<p;){var P=31-Fn(p);w=1<<P,P=a[P],P>y&&(y=P),p&=~w}if(p=y,p=ft()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*vL(p/1960))-p,10<p){o.timeoutHandle=a_(Pa.bind(null,o,Zn,vs),p);break}Pa(o,Zn,vs);break;case 5:Pa(o,Zn,vs);break;default:throw Error(t(329))}}}return er(o,ft()),o.callbackNode===c?AS.bind(null,o):null}function tv(o,a){var c=_d;return o.current.memoizedState.isDehydrated&&(ba(o,a).flags|=256),o=Dp(o,a),o!==2&&(a=Zn,Zn=c,a!==null&&nv(a)),o}function nv(o){Zn===null?Zn=o:Zn.push.apply(Zn,o)}function wL(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],w=y.getSnapshot;y=y.value;try{if(!ii(w(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function po(o,a){for(a&=~J_,a&=~Pp,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-Fn(a),p=1<<c;o[c]=-1,a&=~p}}function bS(o){if(Ze&6)throw Error(t(327));ru();var a=ha(o,0);if(!(a&1))return er(o,ft()),null;var c=Dp(o,a);if(o.tag!==0&&c===2){var p=cr(o);p!==0&&(a=p,c=tv(o,p))}if(c===1)throw c=yd,ba(o,0),po(o,a),er(o,ft()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Pa(o,Zn,vs),er(o,ft()),null}function rv(o,a){var c=Ze;Ze|=1;try{return o(a)}finally{Ze=c,Ze===0&&(nu=ft()+500,ap&&oo())}}function Aa(o){ho!==null&&ho.tag===0&&!(Ze&6)&&ru();var a=Ze;Ze|=1;var c=Ur.transition,p=Ke;try{if(Ur.transition=null,Ke=1,o)return o()}finally{Ke=p,Ur.transition=c,Ze=a,!(Ze&6)&&oo()}}function iv(){mr=tu.current,_t(tu)}function ba(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,YD(c)),Gt!==null)for(c=Gt.return;c!==null;){var p=c;switch(f_(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&sp();break;case 3:Xl(),_t(Yn),_t(Pn),A_();break;case 5:S_(p);break;case 4:Xl();break;case 13:_t(Ct);break;case 19:_t(Ct);break;case 10:v_(p.type._context);break;case 22:case 23:iv()}c=c.return}if(fn=o,Gt=o=mo(o.current,null),In=mr=a,an=0,yd=null,J_=Pp=Ra=0,Zn=_d=null,Ia!==null){for(a=0;a<Ia.length;a++)if(c=Ia[a],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,w=c.pending;if(w!==null){var P=w.next;w.next=y,p.next=P}c.pending=p}Ia=null}return o}function PS(o,a){do{var c=Gt;try{if(__(),yp.current=Ep,_p){for(var p=kt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}_p=!1}if(Sa=0,hn=on=kt=null,dd=!1,hd=0,Y_.current=null,c===null||c.return===null){an=1,yd=a,Gt=null;break}e:{var w=o,P=c.return,$=c,j=a;if(a=In,$.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var ee=j,ce=$,fe=ce.tag;if(!(ce.mode&1)&&(fe===0||fe===11||fe===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var Ee=ZT(P);if(Ee!==null){Ee.flags&=-257,eS(Ee,P,$,w,a),Ee.mode&1&&XT(w,ee,a),a=Ee,j=ee;var Re=a.updateQueue;if(Re===null){var be=new Set;be.add(j),a.updateQueue=be}else Re.add(j);break e}else{if(!(a&1)){XT(w,ee,a),sv();break e}j=Error(t(426))}}else if(It&&$.mode&1){var zt=ZT(P);if(zt!==null){!(zt.flags&65536)&&(zt.flags|=256),eS(zt,P,$,w,a),g_(Zl(j,$));break e}}w=j=Zl(j,$),an!==4&&(an=2),_d===null?_d=[w]:_d.push(w),w=P;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var Y=YT(w,j,a);TT(w,Y);break e;case 1:$=j;var H=w.type,J=w.stateNode;if(!(w.flags&128)&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(co===null||!co.has(J)))){w.flags|=65536,a&=-a,w.lanes|=a;var ge=JT(w,$,a);TT(w,ge);break e}}w=w.return}while(w!==null)}xS(c)}catch(Pe){a=Pe,Gt===c&&c!==null&&(Gt=c=c.return);continue}break}while(!0)}function CS(){var o=bp.current;return bp.current=Ep,o===null?Ep:o}function sv(){(an===0||an===3||an===2)&&(an=4),fn===null||!(Ra&268435455)&&!(Pp&268435455)||po(fn,In)}function Dp(o,a){var c=Ze;Ze|=2;var p=CS();(fn!==o||In!==a)&&(vs=null,ba(o,a));do try{EL();break}catch(y){PS(o,y)}while(!0);if(__(),Ze=c,bp.current=p,Gt!==null)throw Error(t(261));return fn=null,In=0,an}function EL(){for(;Gt!==null;)kS(Gt)}function IL(){for(;Gt!==null&&!xf();)kS(Gt)}function kS(o){var a=DS(o.alternate,o,mr);o.memoizedProps=o.pendingProps,a===null?xS(o):Gt=a,Y_.current=null}function xS(o){var a=o;do{var c=a.alternate;if(o=a.return,a.flags&32768){if(c=mL(c,a),c!==null){c.flags&=32767,Gt=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{an=6,Gt=null;return}}else if(c=pL(c,a,mr),c!==null){Gt=c;return}if(a=a.sibling,a!==null){Gt=a;return}Gt=a=o}while(a!==null);an===0&&(an=5)}function Pa(o,a,c){var p=Ke,y=Ur.transition;try{Ur.transition=null,Ke=1,TL(o,a,c,p)}finally{Ur.transition=y,Ke=p}return null}function TL(o,a,c,p){do ru();while(ho!==null);if(Ze&6)throw Error(t(327));c=o.finishedWork;var y=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var w=c.lanes|c.childLanes;if(ct(o,w),o===fn&&(Gt=fn=null,In=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||kp||(kp=!0,LS(Or,function(){return ru(),null})),w=(c.flags&15990)!==0,c.subtreeFlags&15990||w){w=Ur.transition,Ur.transition=null;var P=Ke;Ke=1;var $=Ze;Ze|=4,Y_.current=null,yL(o,c),ES(c,o),jD(s_),eo=!!i_,s_=i_=null,o.current=c,_L(c),zy(),Ze=$,Ke=P,Ur.transition=w}else o.current=c;if(kp&&(kp=!1,ho=o,xp=y),w=o.pendingLanes,w===0&&(co=null),Df(c.stateNode),er(o,ft()),a!==null)for(p=o.onRecoverableError,c=0;c<a.length;c++)y=a[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(Cp)throw Cp=!1,o=Z_,Z_=null,o;return xp&1&&o.tag!==0&&ru(),w=o.pendingLanes,w&1?o===ev?vd++:(vd=0,ev=o):vd=0,oo(),null}function ru(){if(ho!==null){var o=Xs(xp),a=Ur.transition,c=Ke;try{if(Ur.transition=null,Ke=16>o?16:o,ho===null)var p=!1;else{if(o=ho,ho=null,xp=0,Ze&6)throw Error(t(331));var y=Ze;for(Ze|=4,Te=o.current;Te!==null;){var w=Te,P=w.child;if(Te.flags&16){var $=w.deletions;if($!==null){for(var j=0;j<$.length;j++){var ee=$[j];for(Te=ee;Te!==null;){var ce=Te;switch(ce.tag){case 0:case 11:case 15:gd(8,ce,w)}var fe=ce.child;if(fe!==null)fe.return=ce,Te=fe;else for(;Te!==null;){ce=Te;var le=ce.sibling,Ee=ce.return;if(gS(ce),ce===ee){Te=null;break}if(le!==null){le.return=Ee,Te=le;break}Te=Ee}}}var Re=w.alternate;if(Re!==null){var be=Re.child;if(be!==null){Re.child=null;do{var zt=be.sibling;be.sibling=null,be=zt}while(be!==null)}}Te=w}}if(w.subtreeFlags&2064&&P!==null)P.return=w,Te=P;else e:for(;Te!==null;){if(w=Te,w.flags&2048)switch(w.tag){case 0:case 11:case 15:gd(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,Te=Y;break e}Te=w.return}}var H=o.current;for(Te=H;Te!==null;){P=Te;var J=P.child;if(P.subtreeFlags&2064&&J!==null)J.return=P,Te=J;else e:for(P=H;Te!==null;){if($=Te,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:Ap(9,$)}}catch(Pe){Lt($,$.return,Pe)}if($===P){Te=null;break e}var ge=$.sibling;if(ge!==null){ge.return=$.return,Te=ge;break e}Te=$.return}}if(Ze=y,oo(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(da,o)}catch{}p=!0}return p}finally{Ke=c,Ur.transition=a}}return!1}function OS(o,a,c){a=Zl(c,a),a=YT(o,a,1),o=lo(o,a,1),a=Bn(),o!==null&&(Ys(o,1,a),er(o,a))}function Lt(o,a,c){if(o.tag===3)OS(o,o,c);else for(;a!==null;){if(a.tag===3){OS(a,o,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(co===null||!co.has(p))){o=Zl(c,o),o=JT(a,o,1),a=lo(a,o,1),o=Bn(),a!==null&&(Ys(a,1,o),er(a,o));break}}a=a.return}}function SL(o,a,c){var p=o.pingCache;p!==null&&p.delete(a),a=Bn(),o.pingedLanes|=o.suspendedLanes&c,fn===o&&(In&c)===c&&(an===4||an===3&&(In&130023424)===In&&500>ft()-X_?ba(o,0):J_|=c),er(o,a)}function NS(o,a){a===0&&(o.mode&1?(a=Al,Al<<=1,!(Al&130023424)&&(Al=4194304)):a=1);var c=Bn();o=gs(o,a),o!==null&&(Ys(o,a,c),er(o,c))}function RL(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),NS(o,c)}function AL(o,a){var c=0;switch(o.tag){case 13:var p=o.stateNode,y=o.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),NS(o,c)}var DS;DS=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||Yn.current)Xn=!0;else{if(!(o.lanes&c)&&!(a.flags&128))return Xn=!1,fL(o,a,c);Xn=!!(o.flags&131072)}else Xn=!1,It&&a.flags&1048576&&fT(a,up,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Sp(o,a),o=a.pendingProps;var y=ql(a,Pn.current);Jl(a,c),y=C_(null,a,p,o,y,c);var w=k_();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Jn(p)?(w=!0,op(a)):w=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,I_(a),y.updater=Ip,a.stateNode=y,y._reactInternals=a,V_(a,p,o,c),a=$_(null,a,p,!0,w,c)):(a.tag=0,It&&w&&h_(a),$n(null,a,y,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Sp(o,a),o=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=PL(p),o=oi(p,o),y){case 0:a=U_(null,a,p,o,c);break e;case 1:a=oS(null,a,p,o,c);break e;case 11:a=tS(null,a,p,o,c);break e;case 14:a=nS(null,a,p,oi(p.type,o),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:oi(p,y),U_(o,a,p,y,c);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:oi(p,y),oS(o,a,p,y,c);case 3:e:{if(aS(a),o===null)throw Error(t(387));p=a.pendingProps,w=a.memoizedState,y=w.element,IT(o,a),mp(a,p,null,c);var P=a.memoizedState;if(p=P.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){y=Zl(Error(t(423)),a),a=lS(o,a,p,c,y);break e}else if(p!==y){y=Zl(Error(t(424)),a),a=lS(o,a,p,c,y);break e}else for(pr=ro(a.stateNode.containerInfo.firstChild),fr=a,It=!0,si=null,c=wT(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Gl(),p===y){a=_s(o,a,c);break e}$n(o,a,p,c)}a=a.child}return a;case 5:return RT(a),o===null&&m_(a),p=a.type,y=a.pendingProps,w=o!==null?o.memoizedProps:null,P=y.children,o_(p,y)?P=null:w!==null&&o_(p,w)&&(a.flags|=32),sS(o,a),$n(o,a,P,c),a.child;case 6:return o===null&&m_(a),null;case 13:return uS(o,a,c);case 4:return T_(a,a.stateNode.containerInfo),p=a.pendingProps,o===null?a.child=Ql(a,null,p,c):$n(o,a,p,c),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:oi(p,y),tS(o,a,p,y,c);case 7:return $n(o,a,a.pendingProps,c),a.child;case 8:return $n(o,a,a.pendingProps.children,c),a.child;case 12:return $n(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,w=a.memoizedProps,P=y.value,pt(hp,p._currentValue),p._currentValue=P,w!==null)if(ii(w.value,P)){if(w.children===y.children&&!Yn.current){a=_s(o,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var $=w.dependencies;if($!==null){P=w.child;for(var j=$.firstContext;j!==null;){if(j.context===p){if(w.tag===1){j=ys(-1,c&-c),j.tag=2;var ee=w.updateQueue;if(ee!==null){ee=ee.shared;var ce=ee.pending;ce===null?j.next=j:(j.next=ce.next,ce.next=j),ee.pending=j}}w.lanes|=c,j=w.alternate,j!==null&&(j.lanes|=c),w_(w.return,c,a),$.lanes|=c;break}j=j.next}}else if(w.tag===10)P=w.type===a.type?null:w.child;else if(w.tag===18){if(P=w.return,P===null)throw Error(t(341));P.lanes|=c,$=P.alternate,$!==null&&($.lanes|=c),w_(P,c,a),P=w.sibling}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===a){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}$n(o,a,y.children,c),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,Jl(a,c),y=Mr(y),p=p(y),a.flags|=1,$n(o,a,p,c),a.child;case 14:return p=a.type,y=oi(p,a.pendingProps),y=oi(p.type,y),nS(o,a,p,y,c);case 15:return rS(o,a,a.type,a.pendingProps,c);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:oi(p,y),Sp(o,a),a.tag=1,Jn(p)?(o=!0,op(a)):o=!1,Jl(a,c),GT(a,p,y),V_(a,p,y,c),$_(null,a,p,!0,o,c);case 19:return dS(o,a,c);case 22:return iS(o,a,c)}throw Error(t(156,a.tag))};function LS(o,a){return Sl(o,a)}function bL(o,a,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(o,a,c,p){return new bL(o,a,c,p)}function ov(o){return o=o.prototype,!(!o||!o.isReactComponent)}function PL(o){if(typeof o=="function")return ov(o)?1:0;if(o!=null){if(o=o.$$typeof,o===k)return 11;if(o===U)return 14}return 2}function mo(o,a){var c=o.alternate;return c===null?(c=$r(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Lp(o,a,c,p,y,w){var P=2;if(p=o,typeof o=="function")ov(o)&&(P=1);else if(typeof o=="string")P=5;else e:switch(o){case D:return Ca(c.children,y,w,a);case A:P=8,y|=8;break;case C:return o=$r(12,c,a,y|2),o.elementType=C,o.lanes=w,o;case O:return o=$r(13,c,a,y),o.elementType=O,o.lanes=w,o;case X:return o=$r(19,c,a,y),o.elementType=X,o.lanes=w,o;case oe:return Vp(c,y,w,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:P=10;break e;case x:P=9;break e;case k:P=11;break e;case U:P=14;break e;case me:P=16,p=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=$r(P,c,a,y),a.elementType=o,a.type=p,a.lanes=w,a}function Ca(o,a,c,p){return o=$r(7,o,p,a),o.lanes=c,o}function Vp(o,a,c,p){return o=$r(22,o,p,a),o.elementType=oe,o.lanes=c,o.stateNode={isHidden:!1},o}function av(o,a,c){return o=$r(6,o,null,a),o.lanes=c,o}function lv(o,a,c){return a=$r(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function CL(o,a,c,p,y){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qs(0),this.expirationTimes=Qs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function uv(o,a,c,p,y,w,P,$,j){return o=new CL(o,a,c,$,j),a===1?(a=1,w===!0&&(a|=8)):a=0,w=$r(3,null,null,a),o.current=w,w.stateNode=o,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},I_(w),o}function kL(o,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:p==null?null:""+p,children:o,containerInfo:a,implementation:c}}function VS(o){if(!o)return so;o=o._reactInternals;e:{if(Jr(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Jn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Jn(c))return cT(o,c,a)}return a}function MS(o,a,c,p,y,w,P,$,j){return o=uv(c,p,!0,o,y,w,P,$,j),o.context=VS(null),c=o.current,p=Bn(),y=fo(c),w=ys(p,y),w.callback=a??null,lo(c,w,y),o.current.lanes=y,Ys(o,y,p),er(o,p),o}function Mp(o,a,c,p){var y=a.current,w=Bn(),P=fo(y);return c=VS(c),a.context===null?a.context=c:a.pendingContext=c,a=ys(w,P),a.payload={element:o},p=p===void 0?null:p,p!==null&&(a.callback=p),o=lo(y,a,P),o!==null&&(ui(o,y,P,w),pp(o,y,P)),P}function Fp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function FS(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function cv(o,a){FS(o,a),(o=o.alternate)&&FS(o,a)}function xL(){return null}var US=typeof reportError=="function"?reportError:function(o){console.error(o)};function dv(o){this._internalRoot=o}Up.prototype.render=dv.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Mp(o,a,null,null)},Up.prototype.unmount=dv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Aa(function(){Mp(null,o,null,null)}),a[hs]=null}};function Up(o){this._internalRoot=o}Up.prototype.unstable_scheduleHydration=function(o){if(o){var a=Uf();o={blockedOn:null,target:o,priority:a};for(var c=0;c<Ii.length&&a!==0&&a<Ii[c].priority;c++);Ii.splice(c,0,o),c===0&&zf(o)}};function hv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function $p(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function $S(){}function OL(o,a,c,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var ee=Fp(P);w.call(ee)}}var P=MS(a,p,o,0,null,!1,!1,"",$S);return o._reactRootContainer=P,o[hs]=P.current,rd(o.nodeType===8?o.parentNode:o),Aa(),P}for(;y=o.lastChild;)o.removeChild(y);if(typeof p=="function"){var $=p;p=function(){var ee=Fp(j);$.call(ee)}}var j=uv(o,0,!1,null,null,!1,!1,"",$S);return o._reactRootContainer=j,o[hs]=j.current,rd(o.nodeType===8?o.parentNode:o),Aa(function(){Mp(a,j,c,p)}),j}function Bp(o,a,c,p,y){var w=c._reactRootContainer;if(w){var P=w;if(typeof y=="function"){var $=y;y=function(){var j=Fp(P);$.call(j)}}Mp(a,P,o,y)}else P=OL(c,a,o,y,p);return Fp(P)}Mf=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=Gs(a.pendingLanes);c!==0&&(Js(a,c|1),er(a,ft()),!(Ze&6)&&(nu=ft()+500,oo()))}break;case 13:Aa(function(){var p=gs(o,1);if(p!==null){var y=Bn();ui(p,o,1,y)}}),cv(o,1)}},bl=function(o){if(o.tag===13){var a=gs(o,134217728);if(a!==null){var c=Bn();ui(a,o,134217728,c)}cv(o,134217728)}},Ff=function(o){if(o.tag===13){var a=fo(o),c=gs(o,a);if(c!==null){var p=Bn();ui(c,o,a,p)}cv(o,a)}},Uf=function(){return Ke},$f=function(o,a){var c=Ke;try{return Ke=o,a()}finally{Ke=c}},_l=function(o,a,c){switch(a){case"input":if(kr(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==o&&p.form===o.form){var y=ip(p);if(!y)throw Error(t(90));st(p),kr(p,y)}}}break;case"textarea":gl(o,c);break;case"select":a=c.value,a!=null&&is(o,!!c.multiple,a,!1)}},oa=rv,Fc=Aa;var NL={usingClientEntryPoint:!1,Events:[od,jl,ip,wi,Mc,rv]},wd={findFiberByHostInstance:_a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DL={bundleType:wd.bundleType,version:wd.version,rendererPackageName:wd.rendererPackageName,rendererConfig:wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Bc(o),o===null?null:o.stateNode},findFiberByHostInstance:wd.findFiberByHostInstance||xL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zp.isDisabled&&zp.supportsFiber)try{da=zp.inject(DL),ur=zp}catch{}}return tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NL,tr.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hv(a))throw Error(t(200));return kL(o,a,null,c)},tr.createRoot=function(o,a){if(!hv(o))throw Error(t(299));var c=!1,p="",y=US;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=uv(o,1,!1,null,null,c,!1,p,y),o[hs]=a.current,rd(o.nodeType===8?o.parentNode:o),new dv(a)},tr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Bc(a),o=o===null?null:o.stateNode,o},tr.flushSync=function(o){return Aa(o)},tr.hydrate=function(o,a,c){if(!$p(a))throw Error(t(200));return Bp(null,o,a,!0,c)},tr.hydrateRoot=function(o,a,c){if(!hv(o))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,y=!1,w="",P=US;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),a=MS(a,null,o,1,c??null,y,!1,w,P),o[hs]=a.current,rd(o),p)for(o=0;o<p.length;o++)c=p[o],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Up(a)},tr.render=function(o,a,c){if(!$p(a))throw Error(t(200));return Bp(null,o,a,!1,c)},tr.unmountComponentAtNode=function(o){if(!$p(o))throw Error(t(40));return o._reactRootContainer?(Aa(function(){Bp(null,null,o,!1,function(){o._reactRootContainer=null,o[hs]=null})}),!0):!1},tr.unstable_batchedUpdates=rv,tr.unstable_renderSubtreeIntoContainer=function(o,a,c,p){if(!$p(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Bp(o,a,c,!1,p)},tr.version="18.3.1-next-f1338f8080-20240426",tr}var HS;function BL(){if(HS)return pv.exports;HS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pv.exports=$L(),pv.exports}var KS;function zL(){if(KS)return jp;KS=1;var n=BL();return jp.createRoot=n.createRoot,jp.hydrateRoot=n.hydrateRoot,jp}var jL=zL(),HP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},GS=Ge.createContext&&Ge.createContext(HP),WL=["attr","size","title"];function qL(n,e){if(n==null)return{};var t=HL(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function HL(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Fm(){return Fm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Fm.apply(this,arguments)}function QS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Um(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QS(Object(t),!0).forEach(function(r){KL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function KL(n,e,t){return e=GL(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GL(n){var e=QL(n,"string");return typeof e=="symbol"?e:e+""}function QL(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function KP(n){return n&&n.map((e,t)=>Ge.createElement(e.tag,Um({key:t},e.attr),KP(e.child)))}function lc(n){return e=>Ge.createElement(YL,Fm({attr:Um({},n.attr)},e),KP(n.child))}function YL(n){var e=t=>{var{attr:r,size:i,title:s}=n,l=qL(n,WL),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Ge.createElement("svg",Fm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:Um(Um({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&Ge.createElement("title",null,s),n.children)};return GS!==void 0?Ge.createElement(GS.Consumer,null,t=>e(t)):e(HP)}function JL(n){return lc({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function XL(n){return lc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function ZL(n){return lc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}const eV="_fixed_m9orn_11",tV="_header_container_m9orn_23",nV="_logo_container_m9orn_39",rV="_delivery_m9orn_63",iV="_search_m9orn_85",sV="_order_container_m9orn_155",oV="_language_m9orn_183",aV="_cart_m9orn_209",lV="_lower_container_m9orn_241",Is={fixed:eV,header_container:tV,logo_container:nV,delivery:rV,search:iV,order_container:sV,language:oV,cart:aV,lower_container:lV};function uV(n){return lc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}var yv={exports:{}},Ed={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YS;function cV(){if(YS)return Ed;YS=1;var n=Ko(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var m,g={},_=null,T=null;h!==void 0&&(_=""+h),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(T=d.ref);for(m in d)r.call(d,m)&&!s.hasOwnProperty(m)&&(g[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:u,key:_,ref:T,props:g,_owner:i.current}}return Ed.Fragment=t,Ed.jsx=l,Ed.jsxs=l,Ed}var JS;function dV(){return JS||(JS=1,yv.exports=cV()),yv.exports}var vE=dV();const F=vE.jsx,we=vE.jsxs,$m=vE.Fragment;function hV(){return F("div",{className:Is.lower_container,children:we("ul",{children:[F("li",{children:F(uV,{})}),F("li",{children:"All"}),F("li",{children:"Today's Deals"}),F("li",{children:"Costumer Service"}),F("li",{children:"Registry"}),F("li",{children:"Gift Cards"}),F("li",{children:"Sell"})]})})}var Id={},XS;function fV(){if(XS)return Id;XS=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.parse=l,Id.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,T){const I=new s,R=_.length;if(R<2)return I;const b=(T==null?void 0:T.decode)||m;let V=0;do{const L=_.indexOf("=",V);if(L===-1)break;const M=_.indexOf(";",V),z=M===-1?R:M;if(L>z){V=_.lastIndexOf(";",L-1)+1;continue}const B=u(_,V,L),W=d(_,L,B),D=_.slice(B,W);if(I[D]===void 0){let A=u(_,L+1,z),C=d(_,z,A);const E=b(_.slice(A,C));I[D]=E}V=z+1}while(V<R);return I}function u(_,T,I){do{const R=_.charCodeAt(T);if(R!==32&&R!==9)return T}while(++T<I);return I}function d(_,T,I){for(;T>I;){const R=_.charCodeAt(--T);if(R!==32&&R!==9)return T+1}return I}function h(_,T,I){const R=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const b=R(T);if(!e.test(b))throw new TypeError(`argument val is invalid: ${T}`);let V=_+"="+b;if(!I)return V;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);V+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);V+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);V+="; Path="+I.path}if(I.expires){if(!g(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);V+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(V+="; HttpOnly"),I.secure&&(V+="; Secure"),I.partitioned&&(V+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return V}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function g(_){return i.call(_)==="[object Date]"}return Id}fV();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ZS="popstate";function pV(n={}){function e(r,i){let{pathname:s,search:l,hash:u}=r.location;return rw("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:yh(i)}return gV(e,t,null,n)}function Ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Qi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mV(){return Math.random().toString(36).substring(2,10)}function eR(n,e){return{usr:n.state,key:n.key,idx:e}}function rw(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?uc(e):e,state:t,key:e&&e.key||r||mV()}}function yh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function uc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function gV(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",d=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let b=m(),V=b==null?null:b-h;h=b,d&&d({action:u,location:R.location,delta:V})}function _(b,V){u="PUSH";let L=rw(R.location,b,V);h=m()+1;let M=eR(L,h),z=R.createHref(L);try{l.pushState(M,"",z)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(z)}s&&d&&d({action:u,location:R.location,delta:1})}function T(b,V){u="REPLACE";let L=rw(R.location,b,V);h=m();let M=eR(L,h),z=R.createHref(L);l.replaceState(M,"",z),s&&d&&d({action:u,location:R.location,delta:0})}function I(b){let V=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof b=="string"?b:yh(b);return L=L.replace(/ $/,"%20"),Ot(V,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,V)}let R={get action(){return u},get location(){return n(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(ZS,g),d=b,()=>{i.removeEventListener(ZS,g),d=null}},createHref(b){return e(i,b)},createURL:I,encodeLocation(b){let V=I(b);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:_,replace:T,go(b){return l.go(b)}};return R}function GP(n,e,t="/"){return yV(n,e,t,!1)}function yV(n,e,t,r){let i=typeof e=="string"?uc(e):e,s=No(i.pathname||"/",t);if(s==null)return null;let l=QP(n);_V(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=CV(s);u=bV(l[d],h,r)}return u}function QP(n,e=[],t=[],r=""){let i=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(Ot(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=Cs([r,d.relativePath]),m=t.concat(d);s.children&&s.children.length>0&&(Ot(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),QP(s.children,e,m,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:RV(h,s.index),routesMeta:m})};return n.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let d of YP(s.path))i(s,l,d)}),e}function YP(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=YP(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function _V(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:AV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var vV=/^:[\w-]+$/,wV=3,EV=2,IV=1,TV=10,SV=-2,tR=n=>n==="*";function RV(n,e){let t=n.split("/"),r=t.length;return t.some(tR)&&(r+=SV),e&&(r+=EV),t.filter(i=>!tR(i)).reduce((i,s)=>i+(vV.test(s)?wV:s===""?IV:TV),r)}function AV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function bV(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=Bm({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),_=d.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=Bm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Cs([s,g.pathname]),pathnameBase:NV(Cs([s,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(s=Cs([s,g.pathnameBase]))}return l}function Bm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=PV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},_)=>{if(m==="*"){let I=u[_]||"";l=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const T=u[_];return g&&!T?h[m]=void 0:h[m]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:n}}function PV(n,e=!1,t=!0){Qi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function CV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function No(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function kV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?uc(n):n;return{pathname:t?t.startsWith("/")?t:xV(t,e):e,search:DV(r),hash:LV(i)}}function xV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function _v(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function JP(n){let e=OV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function XP(n,e,t,r=!1){let i;typeof n=="string"?i=uc(n):(i={...n},Ot(!i.pathname||!i.pathname.includes("?"),_v("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),_v("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),_v("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}u=g>=0?e[g]:"/"}let d=kV(i,u),h=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Cs=n=>n.join("/").replace(/\/\/+/g,"/"),NV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),DV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,LV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function VV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ZP=["POST","PUT","PATCH","DELETE"];new Set(ZP);var MV=["GET",...ZP];new Set(MV);var cc=K.createContext(null);cc.displayName="DataRouter";var Ag=K.createContext(null);Ag.displayName="DataRouterState";var eC=K.createContext({isTransitioning:!1});eC.displayName="ViewTransition";var FV=K.createContext(new Map);FV.displayName="Fetchers";var UV=K.createContext(null);UV.displayName="Await";var ts=K.createContext(null);ts.displayName="Navigation";var Kh=K.createContext(null);Kh.displayName="Location";var ns=K.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var wE=K.createContext(null);wE.displayName="RouteError";function $V(n,{relative:e}={}){Ot(Gh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=K.useContext(ts),{hash:i,pathname:s,search:l}=Qh(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Cs([t,s])),r.createHref({pathname:u,search:l,hash:i})}function Gh(){return K.useContext(Kh)!=null}function Go(){return Ot(Gh(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Kh).location}var tC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nC(n){K.useContext(ts).static||K.useLayoutEffect(n)}function bg(){let{isDataRoute:n}=K.useContext(ns);return n?ZV():BV()}function BV(){Ot(Gh(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(cc),{basename:e,navigator:t}=K.useContext(ts),{matches:r}=K.useContext(ns),{pathname:i}=Go(),s=JSON.stringify(JP(r)),l=K.useRef(!1);return nC(()=>{l.current=!0}),K.useCallback((d,h={})=>{if(Qi(l.current,tC),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=XP(d,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Cs([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,s,i,n])}K.createContext(null);function rC(){let{matches:n}=K.useContext(ns),e=n[n.length-1];return e?e.params:{}}function Qh(n,{relative:e}={}){let{matches:t}=K.useContext(ns),{pathname:r}=Go(),i=JSON.stringify(JP(t));return K.useMemo(()=>XP(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function zV(n,e){return iC(n,e)}function iC(n,e,t,r){var L;Ot(Gh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=K.useContext(ts),{matches:l}=K.useContext(ns),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let M=g&&g.path||"";sC(h,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let _=Go(),T;if(e){let M=typeof e=="string"?uc(e):e;Ot(m==="/"||((L=M.pathname)==null?void 0:L.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),T=M}else T=_;let I=T.pathname||"/",R=I;if(m!=="/"){let M=m.replace(/^\//,"").split("/");R="/"+I.replace(/^\//,"").split("/").slice(M.length).join("/")}let b=!s&&t&&t.matches&&t.matches.length>0?t.matches:GP(n,{pathname:R});Qi(g||b!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Qi(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=KV(b&&b.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Cs([m,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Cs([m,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,r);return e&&V?K.createElement(Kh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},V):V}function jV(){let n=XV(),e=VV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:s},"ErrorBoundary")," or"," ",K.createElement("code",{style:s},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:i},t):null,l)}var WV=K.createElement(jV,null),qV=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(ns.Provider,{value:this.props.routeContext},K.createElement(wE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HV({routeContext:n,match:e,children:t}){let r=K.useContext(cc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(ns.Provider,{value:n},t)}function KV(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let d=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);Ot(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=t,_=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let g,_=!1,T=null,I=null;t&&(g=s&&h.route.id?s[h.route.id]:void 0,T=h.route.errorElement||WV,l&&(u<0&&m===0?(sC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,I=null):u===m&&(_=!0,I=h.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,m+1)),b=()=>{let V;return g?V=T:_?V=I:h.route.Component?V=K.createElement(h.route.Component,null):h.route.element?V=h.route.element:V=d,K.createElement(HV,{match:h,routeContext:{outlet:d,matches:R,isDataRoute:t!=null},children:V})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?K.createElement(qV,{location:t.location,revalidation:t.revalidation,component:T,error:g,children:b(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):b()},null)}function EE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GV(n){let e=K.useContext(cc);return Ot(e,EE(n)),e}function QV(n){let e=K.useContext(Ag);return Ot(e,EE(n)),e}function YV(n){let e=K.useContext(ns);return Ot(e,EE(n)),e}function IE(n){let e=YV(n),t=e.matches[e.matches.length-1];return Ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function JV(){return IE("useRouteId")}function XV(){var r;let n=K.useContext(wE),e=QV("useRouteError"),t=IE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function ZV(){let{router:n}=GV("useNavigate"),e=IE("useNavigate"),t=K.useRef(!1);return nC(()=>{t.current=!0}),K.useCallback(async(i,s={})=>{Qi(t.current,tC),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var nR={};function sC(n,e,t){!e&&!nR[n]&&(nR[n]=!0,Qi(!1,t))}K.memo(eM);function eM({routes:n,future:e,state:t}){return iC(n,void 0,t,e)}function To(n){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tM({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Ot(!Gh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=K.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=uc(t));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:_="default"}=t,T=K.useMemo(()=>{let I=No(d,l);return I==null?null:{location:{pathname:I,search:h,hash:m,state:g,key:_},navigationType:r}},[l,d,h,m,g,_,r]);return Qi(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:K.createElement(ts.Provider,{value:u},K.createElement(Kh.Provider,{children:e,value:T}))}function nM({children:n,location:e}){return zV(iw(n),e)}function iw(n,e=[]){let t=[];return K.Children.forEach(n,(r,i)=>{if(!K.isValidElement(r))return;let s=[...e,i];if(r.type===K.Fragment){t.push.apply(t,iw(r.props.children,s));return}Ot(r.type===To,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=iw(r.props.children,s)),t.push(l)}),t}var lm="get",um="application/x-www-form-urlencoded";function Pg(n){return n!=null&&typeof n.tagName=="string"}function rM(n){return Pg(n)&&n.tagName.toLowerCase()==="button"}function iM(n){return Pg(n)&&n.tagName.toLowerCase()==="form"}function sM(n){return Pg(n)&&n.tagName.toLowerCase()==="input"}function oM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function aM(n,e){return n.button===0&&(!e||e==="_self")&&!oM(n)}var Wp=null;function lM(){if(Wp===null)try{new FormData(document.createElement("form"),0),Wp=!1}catch{Wp=!0}return Wp}var uM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vv(n){return n!=null&&!uM.has(n)?(Qi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${um}"`),null):n}function cM(n,e){let t,r,i,s,l;if(iM(n)){let u=n.getAttribute("action");r=u?No(u,e):null,t=n.getAttribute("method")||lm,i=vv(n.getAttribute("enctype"))||um,s=new FormData(n)}else if(rM(n)||sM(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?No(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||lm,i=vv(n.getAttribute("formenctype"))||vv(u.getAttribute("enctype"))||um,s=new FormData(u,n),!lM()){let{name:h,type:m,value:g}=n;if(m==="image"){let _=h?`${h}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else h&&s.append(h,g)}}else{if(Pg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lm,r=null,i=um,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}function TE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function dM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function fM(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await dM(s,t);return l.links?l.links():[]}return[]}));return yM(r.flat(1).filter(hM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function rR(n,e,t,r,i,s){let l=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,u=(d,h)=>{var m;return t[h].pathname!==d.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return s==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):s==="data"?e.filter((d,h)=>{var g;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function pM(n,e,{includeHydrateFallback:t}={}){return mM(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function mM(n){return[...new Set(n)]}function gM(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function yM(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(gM(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function _M(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function vM(){let n=K.useContext(cc);return TE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function wM(){let n=K.useContext(Ag);return TE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var SE=K.createContext(void 0);SE.displayName="FrameworkContext";function oC(){let n=K.useContext(SE);return TE(n,"You must render this element inside a <HydratedRouter> element"),n}function EM(n,e){let t=K.useContext(SE),[r,i]=K.useState(!1),[s,l]=K.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,_=K.useRef(null);K.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=V=>{V.forEach(L=>{l(L.isIntersecting)})},b=new IntersectionObserver(R,{threshold:.5});return _.current&&b.observe(_.current),()=>{b.disconnect()}}},[n]),K.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let T=()=>{i(!0)},I=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,_,{}]:[s,_,{onFocus:Td(u,T),onBlur:Td(d,I),onMouseEnter:Td(h,T),onMouseLeave:Td(m,I),onTouchStart:Td(g,T)}]:[!1,_,{}]}function Td(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function IM({page:n,...e}){let{router:t}=vM(),r=K.useMemo(()=>GP(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?K.createElement(SM,{page:n,matches:r,...e}):null}function TM(n){let{manifest:e,routeModules:t}=oC(),[r,i]=K.useState([]);return K.useEffect(()=>{let s=!1;return fM(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function SM({page:n,matches:e,...t}){let r=Go(),{manifest:i,routeModules:s}=oC(),{loaderData:l,matches:u}=wM(),d=K.useMemo(()=>rR(n,e,u,i,r,"data"),[n,e,u,i,r]),h=K.useMemo(()=>rR(n,e,u,i,r,"assets"),[n,e,u,i,r]),m=K.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,I=!1;if(e.forEach(b=>{var L;let V=i.routes[b.route.id];!V||!V.hasLoader||(!d.some(M=>M.route.id===b.route.id)&&b.route.id in l&&((L=s[b.route.id])!=null&&L.shouldRevalidate)||V.hasClientLoader?I=!0:T.add(b.route.id))}),T.size===0)return[];let R=_M(n);return I&&T.size>0&&R.searchParams.set("_routes",e.filter(b=>T.has(b.route.id)).map(b=>b.route.id).join(",")),[R.pathname+R.search]},[l,r,i,d,e,n,s]),g=K.useMemo(()=>pM(h,i),[h,i]),_=TM(h);return K.createElement(K.Fragment,null,m.map(T=>K.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),g.map(T=>K.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),_.map(({key:T,link:I})=>K.createElement("link",{key:T,...I})))}function RM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var aC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aC&&(window.__reactRouterVersion="7.2.0")}catch{}function AM({basename:n,children:e,window:t}){let r=K.useRef();r.current==null&&(r.current=pV({window:t,v5Compat:!0}));let i=r.current,[s,l]=K.useState({action:i.action,location:i.location}),u=K.useCallback(d=>{K.startTransition(()=>l(d))},[l]);return K.useLayoutEffect(()=>i.listen(u),[i,u]),K.createElement(tM,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var lC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hi=K.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:d,to:h,preventScrollReset:m,viewTransition:g,..._},T){let{basename:I}=K.useContext(ts),R=typeof h=="string"&&lC.test(h),b,V=!1;if(typeof h=="string"&&R&&(b=h,aC))try{let C=new URL(window.location.href),E=h.startsWith("//")?new URL(C.protocol+h):new URL(h),x=No(E.pathname,I);E.origin===C.origin&&x!=null?h=x+E.search+E.hash:V=!0}catch{Qi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=$V(h,{relative:i}),[M,z,B]=EM(r,_),W=kM(h,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:g});function D(C){e&&e(C),C.defaultPrevented||W(C)}let A=K.createElement("a",{..._,...B,href:b||L,onClick:V||s?e:D,ref:RM(T,z),target:d,"data-discover":!R&&t==="render"?"true":void 0});return M&&!R?K.createElement(K.Fragment,null,A,K.createElement(IM,{page:L})):A});hi.displayName="Link";var bM=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:d,...h},m){let g=Qh(l,{relative:h.relative}),_=Go(),T=K.useContext(Ag),{navigator:I,basename:R}=K.useContext(ts),b=T!=null&&LM(g)&&u===!0,V=I.encodeLocation?I.encodeLocation(g).pathname:g.pathname,L=_.pathname,M=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(L=L.toLowerCase(),M=M?M.toLowerCase():null,V=V.toLowerCase()),M&&R&&(M=No(M,R)||M);const z=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let B=L===V||!i&&L.startsWith(V)&&L.charAt(z)==="/",W=M!=null&&(M===V||!i&&M.startsWith(V)&&M.charAt(V.length)==="/"),D={isActive:B,isPending:W,isTransitioning:b},A=B?e:void 0,C;typeof r=="function"?C=r(D):C=[r,B?"active":null,W?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let E=typeof s=="function"?s(D):s;return K.createElement(hi,{...h,"aria-current":A,className:C,ref:m,style:E,to:l,viewTransition:u},typeof d=="function"?d(D):d)});bM.displayName="NavLink";var PM=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=lm,action:u,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:g,..._},T)=>{let I=NM(),R=DM(u,{relative:h}),b=l.toLowerCase()==="get"?"get":"post",V=typeof u=="string"&&lC.test(u),L=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let z=M.nativeEvent.submitter,B=(z==null?void 0:z.getAttribute("formmethod"))||l;I(z||M.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:i,state:s,relative:h,preventScrollReset:m,viewTransition:g})};return K.createElement("form",{ref:T,method:b,action:R,onSubmit:r?d:L,..._,"data-discover":!V&&n==="render"?"true":void 0})});PM.displayName="Form";function CM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uC(n){let e=K.useContext(cc);return Ot(e,CM(n)),e}function kM(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=bg(),d=Go(),h=Qh(n,{relative:s});return K.useCallback(m=>{if(aM(m,e)){m.preventDefault();let g=t!==void 0?t:yh(d)===yh(h);u(n,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[d,u,h,t,r,e,n,i,s,l])}var xM=0,OM=()=>`__${String(++xM)}__`;function NM(){let{router:n}=uC("useSubmit"),{basename:e}=K.useContext(ts),t=JV();return K.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:d,body:h}=cM(r,e);if(i.navigate===!1){let m=i.fetcherKey||OM();await n.fetch(m,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function DM(n,{relative:e}={}){let{basename:t}=K.useContext(ts),r=K.useContext(ns);Ot(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Qh(n||".",{relative:e})},l=Go();if(n==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Cs([t,s.pathname])),yh(s)}function LM(n,e={}){let t=K.useContext(eC);Ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=uC("useViewTransitionState"),i=Qh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=No(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=No(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Bm(i.pathname,l)!=null||Bm(i.pathname,s)!=null}new TextEncoder;const VM=()=>{};var iR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},MM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},dC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,h=d?n[i+2]:0,m=s>>2,g=(s&3)<<4|u>>4;let _=(u&15)<<2|h>>6,T=h&63;d||(T=64,l||(_=64)),r.push(t[m],t[g],t[_],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new FM;const _=s<<2|u>>4;if(r.push(_),h!==64){const T=u<<4&240|h>>2;if(r.push(T),g!==64){const I=h<<6&192|g;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class FM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UM=function(n){const e=cC(n);return dC.encodeByteArray(e,!0)},zm=function(n){return UM(n).replace(/\./g,"")},Cg=function(n){try{return dC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jm(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!$M(t)||(n[t]=jm(n[t],e[t]));return n}function $M(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=()=>hC().__FIREBASE_DEFAULTS__,zM=()=>{if(typeof process>"u"||typeof iR>"u")return;const n=iR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},jM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Cg(n[1]);return e&&JSON.parse(e)},kg=()=>{try{return VM()||BM()||zM()||jM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},WM=n=>{var e,t;return(t=(e=kg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},fC=()=>{var n;return(n=kg())===null||n===void 0?void 0:n.config},RE=n=>{var e;return(e=kg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[zm(JSON.stringify(t)),zm(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function AE(){var n;const e=(n=kg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KM(){return typeof window<"u"||mC()}function mC(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function gC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function xg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PE(){const n=qe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yC(){return!AE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _h(){try{return typeof indexedDB=="object"}catch{return!1}}function GM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="FirebaseError";class yn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=QM,Object.setPrototypeOf(this,yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rs.prototype.create)}}class rs{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?YM(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new yn(i,u,r)}}function YM(n,e){return n.replace(JM,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function _C(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function pi(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],l=e[i];if(oR(s)&&oR(l)){if(!pi(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function oR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fi(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $i(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function CE(n,e){const t=new XM(n,e);return t.subscribe.bind(t)}class XM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ZM(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=wv),i.error===void 0&&(i.error=wv),i.complete===void 0&&(i.complete=wv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n){return n&&n._delegate?n._delegate:n}class qr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new qM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n2(e))try{this.getOrInitializeService({instanceIdentifier:Oa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oa){return this.instances.has(e)}getOptions(e=Oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:t2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oa){return this.component?this.component.multipleInstances?e:Oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t2(n){return n===Oa?void 0:n}function n2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new e2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=[];var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const wC={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},r2=$e.INFO,i2={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},s2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=i2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yh{constructor(e){this.name=e,this._logLevel=r2,this._logHandler=s2,this._userLogHandler=null,kE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}function o2(n){kE.forEach(e=>{e.setLogLevel(n)})}function a2(n,e){for(const t of kE){let r=null;e&&e.level&&(r=wC[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...l)=>{const u=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");s>=(r??i.logLevel)&&n({level:$e[s].toLowerCase(),message:u,args:l,type:i.name})}}}const l2=(n,e)=>e.some(t=>n instanceof t);let aR,lR;function u2(){return aR||(aR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c2(){return lR||(lR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EC=new WeakMap,sw=new WeakMap,IC=new WeakMap,Ev=new WeakMap,xE=new WeakMap;function d2(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(Po(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&EC.set(t,n)}).catch(()=>{}),xE.set(e,n),e}function h2(n){if(sw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});sw.set(n,e)}let ow={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||IC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Po(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function f2(n){ow=n(ow)}function p2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Iv(this),e,...t);return IC.set(r,e.sort?e.sort():[e]),Po(r)}:c2().includes(n)?function(...e){return n.apply(Iv(this),e),Po(EC.get(this))}:function(...e){return Po(n.apply(Iv(this),e))}}function m2(n){return typeof n=="function"?p2(n):(n instanceof IDBTransaction&&h2(n),l2(n,u2())?new Proxy(n,ow):n)}function Po(n){if(n instanceof IDBRequest)return d2(n);if(Ev.has(n))return Ev.get(n);const e=m2(n);return e!==n&&(Ev.set(n,e),xE.set(e,n)),e}const Iv=n=>xE.get(n);function g2(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(n,e),u=Po(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Po(l.result),d.oldVersion,d.newVersion,Po(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const y2=["get","getKey","getAll","getAllKeys","count"],_2=["put","add","delete","clear"],Tv=new Map;function uR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Tv.get(e))return Tv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=_2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||y2.includes(t)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&d.done]))[0]};return Tv.set(e,s),s}f2(n=>({...n,get:(e,t,r)=>uR(e,t)||n.get(e,t,r),has:(e,t)=>!!uR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(w2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function w2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wm="@firebase/app",aw="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Yh("@firebase/app"),E2="@firebase/app-compat",I2="@firebase/analytics-compat",T2="@firebase/analytics",S2="@firebase/app-check-compat",R2="@firebase/app-check",A2="@firebase/auth",b2="@firebase/auth-compat",P2="@firebase/database",C2="@firebase/data-connect",k2="@firebase/database-compat",x2="@firebase/functions",O2="@firebase/functions-compat",N2="@firebase/installations",D2="@firebase/installations-compat",L2="@firebase/messaging",V2="@firebase/messaging-compat",M2="@firebase/performance",F2="@firebase/performance-compat",U2="@firebase/remote-config",$2="@firebase/remote-config-compat",B2="@firebase/storage",z2="@firebase/storage-compat",j2="@firebase/firestore",W2="@firebase/vertexai",q2="@firebase/firestore-compat",H2="firebase",K2="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="[DEFAULT]",G2={[Wm]:"fire-core",[E2]:"fire-core-compat",[T2]:"fire-analytics",[I2]:"fire-analytics-compat",[R2]:"fire-app-check",[S2]:"fire-app-check-compat",[A2]:"fire-auth",[b2]:"fire-auth-compat",[P2]:"fire-rtdb",[C2]:"fire-data-connect",[k2]:"fire-rtdb-compat",[x2]:"fire-fn",[O2]:"fire-fn-compat",[N2]:"fire-iid",[D2]:"fire-iid-compat",[L2]:"fire-fcm",[V2]:"fire-fcm-compat",[M2]:"fire-perf",[F2]:"fire-perf-compat",[U2]:"fire-rc",[$2]:"fire-rc-compat",[B2]:"fire-gcs",[z2]:"fire-gcs-compat",[j2]:"fire-fst",[q2]:"fire-fst-compat",[W2]:"fire-vertex","fire-js":"fire-js",[H2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Map,Vu=new Map,Mu=new Map;function vh(n,e){try{n.container.addComponent(e)}catch(t){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function TC(n,e){n.container.addOrOverwriteComponent(e)}function Yi(n){const e=n.name;if(Mu.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;Mu.set(e,n);for(const t of Lo.values())vh(t,n);for(const t of Vu.values())vh(t,n);return!0}function Og(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Q2(n,e,t=Do){Og(n,e).clearInstance(t)}function SC(n){return n.options!==void 0}function Qe(n){return n==null?!1:n.settings!==void 0}function Y2(){Mu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new rs("app","Firebase",J2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RC=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(n,e){const t=Cg(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class X2 extends RC{constructor(e,t,r,i){const s=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,l={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,l,i);else{const u=e;super(u.options,l,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},t),this._serverConfig.authIdToken&&cR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&cR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Tr(Wm,aw,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){NE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Wr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=K2;function OE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Do,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wr.create("bad-app-name",{appName:String(i)});if(t||(t=fC()),!t)throw Wr.create("no-options");const s=Lo.get(i);if(s){if(pi(t,s.options)&&pi(r,s.config))return s;throw Wr.create("duplicate-app",{appName:i})}const l=new vC(i);for(const d of Mu.values())l.addComponent(d);const u=new RC(t,r,l);return Lo.set(i,u),u}function Z2(n,e){if(KM()&&!mC())throw Wr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;SC(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=h=>[...h].reduce((m,g)=>Math.imul(31,m)+g.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Wr.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),l=Vu.get(s);if(l)return l.incRefCount(e.releaseOnDeref),l;const u=new vC(s);for(const h of Mu.values())u.addComponent(h);const d=new X2(t,e,s,u);return Vu.set(s,d),d}function AC(n=Do){const e=Lo.get(n);if(!e&&n===Do&&fC())return OE();if(!e)throw Wr.create("no-app",{appName:n});return e}function eF(){return Array.from(Lo.values())}async function NE(n){let e=!1;const t=n.name;Lo.has(t)?(e=!0,Lo.delete(t)):Vu.has(t)&&n.decRefCount()<=0&&(Vu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function Tr(n,e,t){var r;let i=(r=G2[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(u.join(" "));return}Yi(new qr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function bC(n,e){if(n!==null&&typeof n!="function")throw Wr.create("invalid-log-argument");a2(n,e)}function PC(n){o2(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF="firebase-heartbeat-database",nF=1,wh="firebase-heartbeat-store";let Sv=null;function CC(){return Sv||(Sv=g2(tF,nF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(wh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wr.create("idb-open",{originalErrorMessage:n.message})})),Sv}async function rF(n){try{const t=(await CC()).transaction(wh),r=await t.objectStore(wh).get(kC(n));return await t.done,r}catch(e){if(e instanceof yn)Os.warn(e.message);else{const t=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(t.message)}}}async function dR(n,e){try{const r=(await CC()).transaction(wh,"readwrite");await r.objectStore(wh).put(e,kC(n)),await r.done}catch(t){if(t instanceof yn)Os.warn(t.message);else{const r=Wr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Os.warn(r.message)}}}function kC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=1024,sF=30;class oF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>sF){const l=uF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=hR(),{heartbeatsToSend:r,unsentEntries:i}=aF(this._heartbeatsCache.heartbeats),s=zm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Os.warn(t),""}}}function hR(){return new Date().toISOString().substring(0,10)}function aF(n,e=iF){const t=[];let r=n.slice();for(const i of n){const s=t.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),fR(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),fR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class lF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _h()?GM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rF(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return dR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return dR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fR(n){return zm(JSON.stringify({version:2,heartbeats:n})).length}function uF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(n){Yi(new qr("platform-logger",e=>new v2(e),"PRIVATE")),Yi(new qr("heartbeat",e=>new oF(e),"PRIVATE")),Tr(Wm,aw,n),Tr(Wm,aw,"esm2017"),Tr("fire-js","")}cF("");const dF=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:yn,SDK_VERSION:Pr,_DEFAULT_ENTRY_NAME:Do,_addComponent:vh,_addOrOverwriteComponent:TC,_apps:Lo,_clearComponents:Y2,_components:Mu,_getProvider:Og,_isFirebaseApp:SC,_isFirebaseServerApp:Qe,_registerComponent:Yi,_removeServiceInstance:Q2,_serverApps:Vu,deleteApp:NE,getApp:AC,getApps:eF,initializeApp:OE,initializeServerApp:Z2,onLog:bC,registerVersion:Tr,setLogLevel:PC},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,t){this._delegate=e,this.firebase=t,vh(e,new qr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),NE(this._delegate)))}_getService(e,t=Do){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Do){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){vh(this._delegate,e)}_addOrOverwriteComponent(e){TC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},pR=new rs("app-compat","Firebase",fF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(n){const e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:Tr,setLogLevel:PC,onLog:bC,apps:null,SDK_VERSION:Pr,INTERNAL:{registerComponent:u,removeApp:r,useAsService:d,modularAPIs:dF}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(h){delete e[h]}function i(h){if(h=h||Do,!sR(e,h))throw pR.create("no-app",{appName:h});return e[h]}i.App=n;function s(h,m={}){const g=OE(h,m);if(sR(e,g.name))return e[g.name];const _=new n(g,t);return e[g.name]=_,_}function l(){return Object.keys(e).map(h=>e[h])}function u(h){const m=h.name,g=m.replace("-compat","");if(Yi(h)&&h.type==="PUBLIC"){const _=(T=i())=>{if(typeof T[g]!="function")throw pR.create("invalid-app-argument",{appName:m});return T[g]()};h.serviceProps!==void 0&&jm(_,h.serviceProps),t[g]=_,n.prototype[g]=function(...T){return this._getService.bind(this,m).apply(this,h.multipleInstances?T:[])}}return h.type==="PUBLIC"?t[g]:null}function d(h,m){return m==="serverAuth"?null:m}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(){const n=pF(hF);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:xC,extendNamespace:e,createSubscribe:CE,ErrorFactory:rs,deepExtend:jm});function e(t){jm(n,t)}return n}const mF=xC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new Yh("@firebase/app-compat"),gF="@firebase/app-compat",yF="0.2.51";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(n){Tr(gF,yF,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=hC();if(n.firebase!==void 0){mR.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&mR.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const dc=mF;_F();var vF="firebase",wF="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dc.registerVersion(vF,wF,"app-compat");function hc(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function OC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EF=OC,NC=new rs("auth","Firebase",OC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=new Yh("@firebase/auth");function IF(n,...e){qm.logLevel<=$e.WARN&&qm.warn(`Auth (${Pr}): ${n}`,...e)}function cm(n,...e){qm.logLevel<=$e.ERROR&&qm.error(`Auth (${Pr}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(n,...e){throw DE(n,...e)}function Wi(n,...e){return DE(n,...e)}function DC(n,e,t){const r=Object.assign(Object.assign({},EF()),{[e]:t});return new rs("auth","Firebase",r).create(e,{appName:n.name})}function ks(n){return DC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return NC.create(n,...e)}function De(n,e,...t){if(!n)throw DE(e,...t)}function Ss(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cm(e),new Error(e)}function Ns(n,e){n||Ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function TF(){return gR()==="http:"||gR()==="https:"}function gR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TF()||bE()||"connection"in navigator)?navigator.onLine:!0}function RF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ns(t>e,"Short delay should be less than long delay!"),this.isMobile=pC()||xg()}get(){return SF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(n,e){Ns(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LC=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=new Jh(3e4,6e4);function Qo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Yo(n,e,t,r,i={}){return VC(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=yi(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:d},s);return gC()||(h.referrerPolicy="no-referrer"),LC.fetch()(MC(n,n.config.apiHost,t,u),h)})}async function VC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},AF),e);try{const i=new CF(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw qp(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw qp(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw qp(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw qp(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw DC(n,m,h);mi(n,m)}}catch(i){if(i instanceof yn)throw i;mi(n,"network-request-failed",{message:String(i)})}}async function Xh(n,e,t,r,i={}){const s=await Yo(n,e,t,r,i);return"mfaPendingCredential"in s&&mi(n,"multi-factor-auth-required",{_serverResponse:s}),s}function MC(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?LE(n.config,i):`${n.config.apiScheme}://${i}`}function PF(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let CF=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Wi(this.auth,"network-request-failed")),bF.get())})}};function qp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Wi(n,e,r);return i.customData._tokenResponse=t,i}function yR(n){return n!==void 0&&n.enterprise!==void 0}let kF=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return PF(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function xF(n,e){return Yo(n,"GET","/v2/recaptchaConfig",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(n,e){return Yo(n,"POST","/v1/accounts:delete",e)}async function FC(n,e){return Yo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NF(n,e=!1){const t=ke(n),r=await t.getIdToken(e),i=VE(r);De(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:nh(Rv(i.auth_time)),issuedAtTime:nh(Rv(i.iat)),expirationTime:nh(Rv(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Rv(n){return Number(n)*1e3}function VE(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return cm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Cg(t);return i?JSON.parse(i):(cm("Failed to decode base64 JWT payload"),null)}catch(i){return cm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _R(n){const e=VE(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof yn&&DF(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function DF({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LF=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uw=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nh(this.lastLoginAt),this.creationTime=nh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hm(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Eh(n,FC(t,{idToken:r}));De(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?UC(s.providerUserInfo):[],u=MF(n.providerData,l),d=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new uw(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function VF(n){const e=ke(n);await Hm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MF(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UC(n){return n.map(e=>{var{providerId:t}=e,r=hc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF(n,e){const t=await VC(n,{},async()=>{const r=yi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=MC(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",LC.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function UF(n,e){return Yo(n,"POST","/v2/accounts:revokeToken",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Av=class cw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_R(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=_R(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await FF(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new cw;return r&&(De(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(De(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(De(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cw,this.toJSON())}_performRefresh(){return Ss("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}let Km=class Hd{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=hc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Eh(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return NF(this,e)}reload(){return VF(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Hm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qe(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await Eh(this,OF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,u,d,h,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,T=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,b=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,V=(h=t.createdAt)!==null&&h!==void 0?h:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:z,isAnonymous:B,providerData:W,stsTokenManager:D}=t;De(M&&D,e,"internal-error");const A=Av.fromJSON(this.name,D);De(typeof M=="string",e,"internal-error"),yo(g,e.name),yo(_,e.name),De(typeof z=="boolean",e,"internal-error"),De(typeof B=="boolean",e,"internal-error"),yo(T,e.name),yo(I,e.name),yo(R,e.name),yo(b,e.name),yo(V,e.name),yo(L,e.name);const C=new Hd({uid:M,auth:e,email:_,emailVerified:z,displayName:g,isAnonymous:B,photoURL:I,phoneNumber:T,tenantId:R,stsTokenManager:A,createdAt:V,lastLoginAt:L});return W&&Array.isArray(W)&&(C.providerData=W.map(E=>Object.assign({},E))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new Av;i.updateFromServerResponse(t);const s=new Hd({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hm(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];De(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?UC(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Av;u.updateFromIdToken(r);const d=new Hd({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new uw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,h),d}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new Map;function Rs(n){Ns(n instanceof Function,"Expected a class definition");let e=vR.get(n);return e?(Ns(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vR.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $C=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};$C.type="NONE";const wR=$C;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(n,e,t){return`firebase:${n}:${e}:${t}`}let ER=class hm{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=dm(this.userKey,i.apiKey,s),this.fullPersistenceKey=dm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Km._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new hm(Rs(wR),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Rs(wR);const l=dm(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(l);if(m){const g=Km._fromJSON(e,m);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new hm(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new hm(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HC(e))return"Blackberry";if(KC(e))return"Webos";if(zC(e))return"Safari";if((e.includes("chrome/")||jC(e))&&!e.includes("edge/"))return"Chrome";if(qC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BC(n=qe()){return/firefox\//i.test(n)}function zC(n=qe()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jC(n=qe()){return/crios\//i.test(n)}function WC(n=qe()){return/iemobile/i.test(n)}function qC(n=qe()){return/android/i.test(n)}function HC(n=qe()){return/blackberry/i.test(n)}function KC(n=qe()){return/webos/i.test(n)}function ME(n=qe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $F(n=qe()){var e;return ME(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BF(){return PE()&&document.documentMode===10}function GC(n=qe()){return ME(n)||qC(n)||KC(n)||HC(n)||/windows phone/i.test(n)||WC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(n,e=[]){let t;switch(n){case"Browser":t=IR(qe());break;case"Worker":t=`${IR(qe())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Pr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zF=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jF(n,e={}){return Yo(n,"GET","/v2/passwordPolicy",Qo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=6;let qF=class{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:WF,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HF=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TR(this),this.idTokenSubscription=new TR(this),this.beforeStateQueue=new zF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rs(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ER.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await FC(this,{idToken:e}),r=await Km._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qe(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qe(this.app))return Promise.reject(ks(this));const t=e?ke(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qe(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qe(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jF(this),t=new qF(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await UF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Rs(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await ER.create(this,[Rs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Qe(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&IF(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}};function ul(n){return ke(n)}let TR=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=CE(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ng={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KF(n){Ng=n}function YC(n){return Ng.loadJS(n)}function GF(){return Ng.recaptchaEnterpriseScript}function QF(){return Ng.gapiScript}function YF(n){return`__${n}${Math.floor(Math.random()*1e6)}`}let JF=class{constructor(){this.enterprise=new XF}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},XF=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};const ZF="recaptcha-enterprise",JC="NO_RECAPTCHA";let eU=class{constructor(e){this.type=ZF,this.auth=ul(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{xF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new kF(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;yR(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(JC)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JF().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&yR(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=GF();d.length!==0&&(d+=u),YC(d).then(()=>{i(u,s,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}};async function SR(n,e,t,r=!1,i=!1){const s=new eU(n);let l;if(i)l=JC;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function dw(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await SR(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await SR(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(n,e){const t=Og(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(pi(s,e??{}))return i;mi(i,"already-initialized")}return t.initialize({options:e})}function nU(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Rs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rU(n,e,t){const r=ul(n);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=XC(e),{host:l,port:u}=iU(e),d=u===null?"":`:${u}`,h={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(pi(h,r.config.emulator)&&pi(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,sU()}function XC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function iU(n){const e=XC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:RR(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:RR(l)}}}function RR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function sU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FE=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,t){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}};async function oU(n,e){return Yo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aU(n,e){return Xh(n,"POST","/v1/accounts:signInWithPassword",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(n,e){return Xh(n,"POST","/v1/accounts:signInWithEmailLink",Qo(n,e))}async function uU(n,e){return Xh(n,"POST","/v1/accounts:signInWithEmailLink",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AR=class hw extends FE{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new hw(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new hw(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dw(e,t,"signInWithPassword",aU);case"emailLink":return lU(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dw(e,r,"signUpPassword",oU);case"emailLink":return uU(e,{idToken:t,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(n,e){return Xh(n,"POST","/v1/accounts:signInWithIdp",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU="http://localhost";let Dg=class fw extends FE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=hc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new fw(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return bu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,bu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bu(e,t)}buildRequest(){const e={requestUri:cU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yi(t)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hU(n){const e=fi($i(n)).link,t=e?fi($i(e)).deep_link_id:null,r=fi($i(n)).deep_link_id;return(r?fi($i(r)).link:null)||r||t||e||n}let fU=class ZC{constructor(e){var t,r,i,s,l,u;const d=fi($i(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=dU((i=d.mode)!==null&&i!==void 0?i:null);De(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=hU(e);try{return new ZC(t)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lg=class ek{constructor(){this.providerId=ek.PROVIDER_ID}static credential(e,t){return AR._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=fU.parseLink(t);return De(r,"argument-error"),AR._fromEmailAndCode(e,r.code,r.tenantId)}};Lg.PROVIDER_ID="password";Lg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tk=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh=class extends tk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nk=class gu extends Zh{constructor(){super("facebook.com")}static credential(e){return Dg._fromParams({providerId:gu.PROVIDER_ID,signInMethod:gu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gu.credentialFromTaggedObject(e)}static credentialFromError(e){return gu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gu.credential(e.oauthAccessToken)}catch{return null}}};nk.FACEBOOK_SIGN_IN_METHOD="facebook.com";nk.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rk=class yu extends Zh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Dg._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return yu.credentialFromTaggedObject(e)}static credentialFromError(e){return yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return yu.credential(t,r)}catch{return null}}};rk.GOOGLE_SIGN_IN_METHOD="google.com";rk.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ik=class _u extends Zh{constructor(){super("github.com")}static credential(e){return Dg._fromParams({providerId:_u.PROVIDER_ID,signInMethod:_u.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _u.credentialFromTaggedObject(e)}static credentialFromError(e){return _u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _u.credential(e.oauthAccessToken)}catch{return null}}};ik.GITHUB_SIGN_IN_METHOD="github.com";ik.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sk=class vu extends Zh{constructor(){super("twitter.com")}static credential(e,t){return Dg._fromParams({providerId:vu.PROVIDER_ID,signInMethod:vu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vu.credentialFromTaggedObject(e)}static credentialFromError(e){return vu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return vu.credential(t,r)}catch{return null}}};sk.TWITTER_SIGN_IN_METHOD="twitter.com";sk.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(n,e){return Xh(n,"POST","/v1/accounts:signUp",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg=class pw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Km._fromIdTokenResponse(e,r,i),l=bR(r);return new pw({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=bR(r);return new pw({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function bR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mU=class mw extends yn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new mw(e,t,r,i)}};function ok(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mU._fromErrorAndOperation(n,s,e,r):s})}async function gU(n,e,t=!1){const r=await Eh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vg._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(n,e,t=!1){const{auth:r}=n;if(Qe(r.app))return Promise.reject(ks(r));const i="reauthenticate";try{const s=await Eh(n,ok(r,i,e,n),t);De(s.idToken,r,"internal-error");const l=VE(s.idToken);De(l,r,"internal-error");const{sub:u}=l;return De(n.uid===u,r,"user-mismatch"),Vg._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&mi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(n,e,t=!1){if(Qe(n.app))return Promise.reject(ks(n));const r="signIn",i=await ok(n,r,e),s=await Vg._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function _U(n,e){return ak(ul(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(n){const e=ul(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vU(n,e,t){if(Qe(n.app))return Promise.reject(ks(n));const r=ul(n),l=await dw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pU).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&lk(n),d}),u=await Vg._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function wU(n,e,t){return Qe(n.app)?Promise.reject(ks(n)):_U(ke(n),Lg.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lk(n),r})}function EU(n,e,t,r){return ke(n).onIdTokenChanged(e,t,r)}function IU(n,e,t){return ke(n).beforeAuthStateChanged(e,t)}const Gm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uk=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gm,"1"),this.storage.removeItem(Gm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=1e3,SU=10;let ck=class extends uk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);BF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,SU):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},TU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};ck.type="LOCAL";const RU=ck;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dk=class extends uk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}};dk.type="SESSION";const hk=dk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fk=class pk{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new pk(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(t.origin,s)),d=await AU(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};fk.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bU=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=UE("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return window}function PU(n){qi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function CU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kU(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function xU(){return mk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="firebaseLocalStorageDb",OU=1,Qm="firebaseLocalStorage",yk="fbase_key";let ef=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Mg(n,e){return n.transaction([Qm],e?"readwrite":"readonly").objectStore(Qm)}function NU(){const n=indexedDB.deleteDatabase(gk);return new ef(n).toPromise()}function gw(){const n=indexedDB.open(gk,OU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Qm,{keyPath:yk})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Qm)?e(r):(r.close(),await NU(),e(await gw()))})})}async function PR(n,e,t){const r=Mg(n,!0).put({[yk]:e,value:t});return new ef(r).toPromise()}async function DU(n,e){const t=Mg(n,!1).get(e),r=await new ef(t).toPromise();return r===void 0?null:r.value}function CR(n,e){const t=Mg(n,!0).delete(e);return new ef(t).toPromise()}const LU=800,VU=3;let _k=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>VU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fk._getInstance(xU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await CU(),!this.activeServiceWorker)return;this.sender=new bU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gw();return await PR(e,Gm,"1"),await CR(e,Gm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>PR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>DU(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>CR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Mg(i,!1).getAll();return new ef(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};_k.type="LOCAL";const MU=_k;new Jh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(n,e){return e?Rs(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $E=class extends FE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function UU(n){return ak(n.auth,new $E(n),n.bypassAuthState)}function $U(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),yU(t,new $E(n),n.bypassAuthState)}async function BU(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),gU(t,new $E(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vk=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UU;case"linkViaPopup":case"linkViaRedirect":return BU;case"reauthViaPopup":case"reauthViaRedirect":return $U;default:mi(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=new Jh(2e3,1e4);let jU=class Kd extends vk{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Kd.currentPopupAction&&Kd.currentPopupAction.cancel(),Kd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const e=UE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zU.get())};e()}};jU.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU="pendingRedirect",fm=new Map;let qU=class extends vk{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=fm.get(this.auth._key());if(!e){try{const r=await HU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}fm.set(this.auth._key(),e)}return this.bypassAuthState||fm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function HU(n,e){const t=QU(e),r=GU(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function KU(n,e){fm.set(n._key(),e)}function GU(n){return Rs(n._redirectPersistence)}function QU(n){return dm(WU,n.config.apiKey,n.name)}async function YU(n,e,t=!1){if(Qe(n.app))return Promise.reject(ks(n));const r=ul(n),i=FU(r,e),l=await new qU(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU=10*60*1e3;let XU=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!wk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Wi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JU&&this.cachedEventUids.clear(),this.cachedEventUids.has(kR(e))}saveEventToCache(e){this.cachedEventUids.add(kR(e)),this.lastProcessedEventTime=Date.now()}};function kR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function wk({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ZU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wk(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e$(n,e={}){return Yo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n$=/^https?/;async function r$(n){if(n.config.emulator)return;const{authorizedDomains:e}=await e$(n);for(const t of e)try{if(i$(t))return}catch{}mi(n,"unauthorized-domain")}function i$(n){const e=lw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!n$.test(t))return!1;if(t$.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=new Jh(3e4,6e4);function xR(){const n=qi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function o$(n){return new Promise((e,t)=>{var r,i,s;function l(){xR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xR(),t(Wi(n,"network-request-failed"))},timeout:s$.get()})}if(!((i=(r=qi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=qi().gapi)===null||s===void 0)&&s.load)l();else{const u=YF("iframefcb");return qi()[u]=()=>{gapi.load?l():t(Wi(n,"network-request-failed"))},YC(`${QF()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw pm=null,e})}let pm=null;function a$(n){return pm=pm||o$(n),pm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=new Jh(5e3,15e3),u$="__/auth/iframe",c$="emulator/auth/iframe",d$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f$(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?LE(e,c$):`https://${n.config.authDomain}/${u$}`,r={apiKey:e.apiKey,appName:n.name,v:Pr},i=h$.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${yi(r).slice(1)}`}async function p$(n){const e=await a$(n),t=qi().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:f$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=Wi(n,"network-request-failed"),u=qi().setTimeout(()=>{s(l)},l$.get());function d(){qi().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g$=500,y$=600,_$="_blank",v$="http://localhost";let OR=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function w$(n,e,t,r=g$,i=y$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},m$),{width:r.toString(),height:i.toString(),top:s,left:l}),h=qe().toLowerCase();t&&(u=jC(h)?_$:t),BC(h)&&(e=e||v$,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,I])=>`${_}${T}=${I},`,"");if($F(h)&&u!=="_self")return E$(e||"",u),new OR(null);const g=window.open(e||"",u,m);De(g,n,"popup-blocked");try{g.focus()}catch{}return new OR(g)}function E$(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$="__/auth/handler",T$="emulator/auth/handler",S$=encodeURIComponent("fac");async function NR(n,e,t,r,i,s){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Pr,eventId:i};if(e instanceof tk){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",_C(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Zh){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),h=d?`#${S$}=${encodeURIComponent(d)}`:"";return`${R$(n)}?${yi(u).slice(1)}${h}`}function R$({config:n}){return n.emulator?LE(n,T$):`https://${n.authDomain}/${I$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="webStorageSupport";let A$=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hk,this._completeRedirectFn=YU,this._overrideRedirectResult=KU}async _openPopup(e,t,r,i){var s;Ns((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await NR(e,t,r,lw(),i);return w$(e,l,UE())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await NR(e,t,r,lw(),i);return PU(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ns(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await p$(e),r=new XU(e);return t.register("authEvent",i=>(De(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bv,{type:bv},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[bv];l!==void 0&&t(!!l),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=r$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return GC()||zC()||ME()}};const b$=A$;var DR="@firebase/auth",LR="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P$=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k$(n){Yi(new qr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;De(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QC(n)},h=new HF(r,i,s,d);return nU(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Yi(new qr("auth-internal",e=>{const t=ul(e.getProvider("auth").getImmediate());return(r=>new P$(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(DR,LR,C$(n)),Tr(DR,LR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=5*60,O$=RE("authIdTokenMaxAge")||x$;let VR=null;const N$=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>O$)return;const i=t==null?void 0:t.token;VR!==i&&(VR=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function D$(n=AC()){const e=Og(n,"auth");if(e.isInitialized())return e.getImmediate();const t=tU(n,{popupRedirectResolver:b$,persistence:[MU,RU,hk]}),r=RE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=N$(s.toString());IU(t,l,()=>l(t.currentUser)),EU(t,u=>l(u))}}const i=WM("auth");return i&&rU(t,`http://${i}`),t}function L$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}KF({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Wi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",L$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k$("Browser");const Sd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},iu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function Ek(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M$=V$,F$=Ek,Ik=new rs("auth","Firebase",Ek());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=new Yh("@firebase/auth");function U$(n,...e){Ym.logLevel<=$e.WARN&&Ym.warn(`Auth (${Pr}): ${n}`,...e)}function mm(n,...e){Ym.logLevel<=$e.ERROR&&Ym.error(`Auth (${Pr}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(n,...e){throw zE(n,...e)}function ln(n,...e){return zE(n,...e)}function BE(n,e,t){const r=Object.assign(Object.assign({},F$()),{[e]:t});return new rs("auth","Firebase",r).create(e,{appName:n.name})}function _n(n){return BE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&bn(n,"argument-error"),BE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Ik.create(n,...e)}function de(n,e,...t){if(!n)throw zE(e,...t)}function Bi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mm(e),new Error(e)}function gi(n,e){n||Bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function jE(){return MR()==="http:"||MR()==="https:"}function MR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jE()||bE()||"connection"in navigator)?navigator.onLine:!0}function B$(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t){this.shortDelay=e,this.longDelay=t,gi(t>e,"Short delay should be less than long delay!"),this.isMobile=pC()||xg()}get(){return $$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(n,e){gi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=new tf(3e4,6e4);function Ut(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $t(n,e,t,r,i={}){return Sk(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=yi(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:d},s);return gC()||(h.referrerPolicy="no-referrer"),Tk.fetch()(Rk(n,n.config.apiHost,t,u),h)})}async function Sk(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},z$),e);try{const i=new q$(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Gd(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Gd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Gd(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw BE(n,m,h);bn(n,m)}}catch(i){if(i instanceof yn)throw i;bn(n,"network-request-failed",{message:String(i)})}}async function Us(n,e,t,r,i={}){const s=await $t(n,e,t,r,i);return"mfaPendingCredential"in s&&bn(n,"multi-factor-auth-required",{_serverResponse:s}),s}function Rk(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?WE(n.config,i):`${n.config.apiScheme}://${i}`}function W$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class q${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ln(this.auth,"network-request-failed")),j$.get())})}}function Gd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ln(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(n){return n!==void 0&&n.getResponse!==void 0}function UR(n){return n!==void 0&&n.enterprise!==void 0}class Ak{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return W$(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H$(n){return(await $t(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function bk(n,e){return $t(n,"GET","/v2/recaptchaConfig",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K$(n,e){return $t(n,"POST","/v1/accounts:delete",e)}async function G$(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function Pk(n,e){return $t(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q$(n,e=!1){const t=ke(n),r=await t.getIdToken(e),i=Fg(r);de(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:rh(Pv(i.auth_time)),issuedAtTime:rh(Pv(i.iat)),expirationTime:rh(Pv(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pv(n){return Number(n)*1e3}function Fg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return mm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Cg(t);return i?JSON.parse(i):(mm("Failed to decode base64 JWT payload"),null)}catch(i){return mm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $R(n){const e=Fg(n);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof yn&&Y$(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Y$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rh(this.lastLoginAt),this.creationTime=rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ds(n,Pk(t,{idToken:r}));de(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ck(s.providerUserInfo):[],u=Z$(n.providerData,l),d=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new yw(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function X$(n){const e=ke(n);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ck(n){return n.map(e=>{var{providerId:t}=e,r=hc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(n,e){const t=await Sk(n,{},async()=>{const r=yi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=Rk(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Tk.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function t4(n,e){return $t(n,"POST","/v2/accounts:revokeToken",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$R(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");const t=$R(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await e4(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new Pu;return r&&(de(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pu,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(n,e){de(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class As{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=hc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new J$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Ds(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Q$(this,e)}reload(){return X$(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new As(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qe(this.auth.app))return Promise.reject(_n(this.auth));const e=await this.getIdToken();return await Ds(this,K$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,u,d,h,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,T=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,b=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,V=(h=t.createdAt)!==null&&h!==void 0?h:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:z,isAnonymous:B,providerData:W,stsTokenManager:D}=t;de(M&&D,e,"internal-error");const A=Pu.fromJSON(this.name,D);de(typeof M=="string",e,"internal-error"),_o(g,e.name),_o(_,e.name),de(typeof z=="boolean",e,"internal-error"),de(typeof B=="boolean",e,"internal-error"),_o(T,e.name),_o(I,e.name),_o(R,e.name),_o(b,e.name),_o(V,e.name),_o(L,e.name);const C=new As({uid:M,auth:e,email:_,emailVerified:z,displayName:g,isAnonymous:B,photoURL:I,phoneNumber:T,tenantId:R,stsTokenManager:A,createdAt:V,lastLoginAt:L});return W&&Array.isArray(W)&&(C.providerData=W.map(E=>Object.assign({},E))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new Pu;i.updateFromServerResponse(t);const s=new As({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Th(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];de(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Ck(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Pu;u.updateFromIdToken(r);const d=new As({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new yw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new Map;function Ir(n){gi(n instanceof Function,"Expected a class definition");let e=BR.get(n);return e?(gi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,BR.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}kk.type="NONE";const Fu=kk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(n,e,t){return`firebase:${n}:${e}:${t}`}class Cu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qa(this.userKey,i.apiKey,s),this.fullPersistenceKey=qa("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?As._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Cu(Ir(Fu),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Ir(Fu);const l=qa(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(l);if(m){const g=As._fromJSON(e,m);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Cu(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new Cu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Dk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lk(e))return"Blackberry";if(Vk(e))return"Webos";if(Ok(e))return"Safari";if((e.includes("chrome/")||Nk(e))&&!e.includes("edge/"))return"Chrome";if(nf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xk(n=qe()){return/firefox\//i.test(n)}function Ok(n=qe()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nk(n=qe()){return/crios\//i.test(n)}function Dk(n=qe()){return/iemobile/i.test(n)}function nf(n=qe()){return/android/i.test(n)}function Lk(n=qe()){return/blackberry/i.test(n)}function Vk(n=qe()){return/webos/i.test(n)}function rf(n=qe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function n4(n=qe()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function r4(n=qe()){var e;return rf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function i4(){return PE()&&document.documentMode===10}function Mk(n=qe()){return rf(n)||nf(n)||Vk(n)||Lk(n)||/windows phone/i.test(n)||Dk(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(n,e=[]){let t;switch(n){case"Browser":t=zR(qe());break;case"Worker":t=`${zR(qe())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Pr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(n,e={}){return $t(n,"GET","/v2/passwordPolicy",Ut(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=6;class l4{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:a4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jR(this),this.idTokenSubscription=new jR(this),this.beforeStateQueue=new s4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ik,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ir(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Cu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Pk(this,{idToken:e}),r=await As._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qe(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qe(this.app))return Promise.reject(_n(this));const t=e?ke(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qe(this.app)?Promise.reject(_n(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qe(this.app)?Promise.reject(_n(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o4(this),t=new l4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await t4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ir(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=await Cu.create(this,[Ir(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Qe(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&U$(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Dt(n){return ke(n)}class jR{constructor(e){this.auth=e,this.observer=null,this.addObserver=CE(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c4(n){sf=n}function qE(n){return sf.loadJS(n)}function d4(){return sf.recaptchaV2Script}function h4(){return sf.recaptchaEnterpriseScript}function f4(){return sf.gapiScript}function Uk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=500,m4=6e4,Hp=1e12;class g4{constructor(e){this.auth=e,this.counter=Hp,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new v4(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Hp;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||Hp;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||Hp;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class y4{constructor(){this.enterprise=new _4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class v4{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;de(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=w4(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},m4)},p4))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function w4(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const E4="recaptcha-enterprise",ih="NO_RECAPTCHA";class $k{constructor(e){this.type=E4,this.auth=Dt(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{bk(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new Ak(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;UR(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(ih)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y4().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&UR(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=h4();d.length!==0&&(d+=u),qE(d).then(()=>{i(u,s,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function Rd(n,e,t,r=!1,i=!1){const s=new $k(n);let l;if(i)l=ih;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Co(n,e,t,r,i){var s,l;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Rd(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Rd(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const u=await Rd(n,e,t);return r(n,u).catch(async d=>{var h;if(((h=n._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const m=await Rd(n,e,t,!1,!0);return r(n,m)}return Promise.reject(d)})}else{const u=await Rd(n,e,t,!1,!0);return r(n,u)}else return Promise.reject(i+" provider is not supported.")}async function I4(n){const e=Dt(n),t=await bk(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Ak(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new $k(e).verify()}function T4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ir);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function S4(n,e,t){const r=Dt(n);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),s=Bk(e),{host:l,port:u}=R4(e),d=u===null?"":`:${u}`,h={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(pi(h,r.config.emulator)&&pi(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,i||A4()}function Bk(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function R4(n){const e=Bk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:WR(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:WR(l)}}}function WR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function A4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,t){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,e){return $t(n,"POST","/v1/accounts:resetPassword",Ut(n,e))}async function b4(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function P4(n,e){return $t(n,"POST","/v1/accounts:signUp",e)}async function C4(n,e){return $t(n,"POST","/v1/accounts:update",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(n,e){return Us(n,"POST","/v1/accounts:signInWithPassword",Ut(n,e))}async function Ug(n,e){return $t(n,"POST","/v1/accounts:sendOobCode",Ut(n,e))}async function x4(n,e){return Ug(n,e)}async function O4(n,e){return Ug(n,e)}async function N4(n,e){return Ug(n,e)}async function D4(n,e){return Ug(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(n,e){return Us(n,"POST","/v1/accounts:signInWithEmailLink",Ut(n,e))}async function V4(n,e){return Us(n,"POST","/v1/accounts:signInWithEmailLink",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends pc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Sh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Sh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Co(e,t,"signInWithPassword",k4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return L4(e,{email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Co(e,r,"signUpPassword",P4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return V4(e,{idToken:t,email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xs(n,e){return Us(n,"POST","/v1/accounts:signInWithIdp",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="http://localhost";class Ji extends pc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=hc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ji(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return xs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,xs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xs(e,t)}buildRequest(){const e={requestUri:M4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yi(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(n,e){return $t(n,"POST","/v1/accounts:sendVerificationCode",Ut(n,e))}async function F4(n,e){return Us(n,"POST","/v1/accounts:signInWithPhoneNumber",Ut(n,e))}async function U4(n,e){const t=await Us(n,"POST","/v1/accounts:signInWithPhoneNumber",Ut(n,e));if(t.temporaryProof)throw Gd(n,"account-exists-with-different-credential",t);return t}const $4={USER_NOT_FOUND:"user-not-found"};async function B4(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Us(n,"POST","/v1/accounts:signInWithPhoneNumber",Ut(n,t),$4)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends pc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ha({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ha({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return F4(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return U4(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return B4(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!t&&!i&&!s?null:new Ha({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j4(n){const e=fi($i(n)).link,t=e?fi($i(e)).deep_link_id:null,r=fi($i(n)).deep_link_id;return(r?fi($i(r)).link:null)||r||t||e||n}class $g{constructor(e){var t,r,i,s,l,u;const d=fi($i(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=z4((i=d.mode)!==null&&i!==void 0?i:null);de(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=j4(e);try{return new $g(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,t){return Sh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=$g.parseLink(t);return de(r,"argument-error"),Sh._fromEmailAndCode(e,r.code,r.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends $s{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ku extends mc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return de("providerId"in t&&"signInMethod"in t,"argument-error"),Ji._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return de(e.idToken||e.accessToken,"argument-error"),Ji._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ku.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ku.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:l,providerId:u}=e;if(!r&&!i&&!t&&!s||!u)return null;try{return new ku(u)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends mc{constructor(){super("facebook.com")}static credential(e){return Ji._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ji._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Mi.credential(t,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends mc{constructor(){super("github.com")}static credential(e){return Ji._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="http://localhost";class Uu extends pc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return xs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,xs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xs(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return!r||!i||!s||r!==i?null:new Uu(r,s)}static _create(e,t){return new Uu(e,t)}buildRequest(){return{requestUri:W4,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="saml.";class Jm extends $s{constructor(e){de(e.startsWith(q4),"argument-error"),super(e)}static credentialFromResult(e){return Jm.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Jm.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Uu.fromJSON(e);return de(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Uu._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends mc{constructor(){super("twitter.com")}static credential(e,t){return Ji._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ui.credential(t,r)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(n,e){return Us(n,"POST","/v1/accounts:signUp",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await As._fromIdTokenResponse(e,r,i),l=HR(r);return new Hr({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=HR(r);return new Hr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function HR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(n){var e;if(Qe(n.app))return Promise.reject(_n(n));const t=Dt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Hr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await jk(t,{returnSecureToken:!0}),i=await Hr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends yn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Xm(e,t,r,i)}}function Wk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xm._fromErrorAndOperation(n,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(n,e){const t=ke(n);await Bg(!0,t,e);const{providerUserInfo:r}=await G$(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=qk(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function HE(n,e,t=!1){const r=await Ds(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Hr._forOperation(n,"link",r)}async function Bg(n,e,t){await Th(e);const r=qk(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";de(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(n,e,t=!1){const{auth:r}=n;if(Qe(r.app))return Promise.reject(_n(r));const i="reauthenticate";try{const s=await Ds(n,Wk(r,i,e,n),t);de(s.idToken,r,"internal-error");const l=Fg(s.idToken);de(l,r,"internal-error");const{sub:u}=l;return de(n.uid===u,r,"user-mismatch"),Hr._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(n,e,t=!1){if(Qe(n.app))return Promise.reject(_n(n));const r="signIn",i=await Wk(n,r,e),s=await Hr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function zg(n,e){return Kk(Dt(n),e)}async function Gk(n,e){const t=ke(n);return await Bg(!1,t,e.providerId),HE(t,e)}async function Qk(n,e){return Hk(ke(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(n,e){return Us(n,"POST","/v1/accounts:signInWithCustomToken",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(n,e){if(Qe(n.app))return Promise.reject(_n(n));const t=Dt(n),r=await G4(t,{token:e,returnSecureToken:!0}),i=await Hr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?KE._fromServerResponse(e,t):"totpInfo"in t?GE._fromServerResponse(e,t):bn(e,"internal-error")}}class KE extends of{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new KE(t)}}class GE extends of{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new GE(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(n,e,t){var r;de(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),de(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),de(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(de(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(de(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QE(n){const e=Dt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Y4(n,e,t){const r=Dt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&jg(r,i,t),await Co(r,i,"getOobCode",O4,"EMAIL_PASSWORD_PROVIDER")}async function J4(n,e,t){await zk(ke(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QE(n),r})}async function X4(n,e){await C4(ke(n),{oobCode:e})}async function Yk(n,e){const t=ke(n),r=await zk(t,{oobCode:e}),i=r.requestType;switch(de(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(r.mfaInfo,t,"internal-error");default:de(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=of._fromServerResponse(Dt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Z4(n,e){const{data:t}=await Yk(ke(n),e);return t.email}async function eB(n,e,t){if(Qe(n.app))return Promise.reject(_n(n));const r=Dt(n),l=await Co(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jk,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&QE(n),d}),u=await Hr._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function tB(n,e,t){return Qe(n.app)?Promise.reject(_n(n)):zg(ke(n),Jo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QE(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nB(n,e,t){const r=Dt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(l,u){de(u.handleCodeInApp,r,"argument-error"),u&&jg(r,l,u)}s(i,t),await Co(r,i,"getOobCode",N4,"EMAIL_PASSWORD_PROVIDER")}function rB(n,e){const t=$g.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function iB(n,e,t){if(Qe(n.app))return Promise.reject(_n(n));const r=ke(n),i=Jo.credentialWithLink(e,t||Ih());return de(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),zg(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sB(n,e){return $t(n,"POST","/v1/accounts:createAuthUri",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oB(n,e){const t=jE()?Ih():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await sB(ke(n),r);return i||[]}async function aB(n,e){const t=ke(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&jg(t.auth,i,e);const{email:s}=await x4(t.auth,i);s!==n.email&&await n.reload()}async function lB(n,e,t){const r=ke(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&jg(r.auth,s,t);const{email:l}=await D4(r.auth,s);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(n,e){return $t(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ke(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Ds(r,uB(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function dB(n,e){const t=ke(n);return Qe(t.auth.app)?Promise.reject(_n(t.auth)):Jk(t,e,null)}function hB(n,e){return Jk(ke(n),null,e)}async function Jk(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const l=await Ds(n,b4(r,s));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=Fg(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const u=l!=="anonymous"&&l!=="custom"?l:null;return new xu(s,u)}}if(!r)return null;switch(r){case"facebook.com":return new pB(s,i);case"github.com":return new mB(s,i);case"google.com":return new gB(s,i);case"twitter.com":return new yB(s,i,n.screenName||null);case"custom":case"anonymous":return new xu(s,null);default:return new xu(s,r,i)}}class xu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class Xk extends xu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class pB extends xu{constructor(e,t){super(e,"facebook.com",t)}}class mB extends Xk{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class gB extends xu{constructor(e,t){super(e,"google.com",t)}}class yB extends Xk{constructor(e,t,r){super(e,"twitter.com",t,r)}}function _B(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:fB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new $a("enroll",e,t)}static _fromMfaPendingCredential(e){return new $a("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return $a._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return $a._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Dt(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(u=>of._fromServerResponse(r,u));de(i.mfaPendingCredential,r,"internal-error");const l=$a._fromMfaPendingCredential(i.mfaPendingCredential);return new YE(l,s,async u=>{const d=await u._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const h=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const m=await Hr._fromIdTokenResponse(r,t.operationType,h);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return de(t.user,r,"internal-error"),Hr._forOperation(t.user,t.operationType,h);default:bn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function vB(n,e){var t;const r=ke(n),i=e;return de(e.customData.operationType,r,"argument-error"),de((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),YE._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:start",Ut(n,e))}function wB(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(n,e))}function EB(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(n,e))}class JE{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>of._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new JE(e)}async getSession(){return $a._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),s=await Ds(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ds(this.user,EB(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Cv=new WeakMap;function IB(n){const e=ke(n);return Cv.has(e)||Cv.set(e,JE._fromUser(e)),Cv.get(e)}const Zm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zm,"1"),this.storage.removeItem(Zm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=1e3,SB=10;class e1 extends Zk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Mk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);i4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,SB):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},TB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}e1.type="LOCAL";const XE=e1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1 extends Zk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}t1.type="SESSION";const Qa=t1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Wg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(t.origin,s)),d=await RB(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=af("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return window}function bB(n){Jt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){return typeof Jt().WorkerGlobalScope<"u"&&typeof Jt().importScripts=="function"}async function PB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CB(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function kB(){return ZE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firebaseLocalStorageDb",xB=1,eg="firebaseLocalStorage",r1="fbase_key";class lf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qg(n,e){return n.transaction([eg],e?"readwrite":"readonly").objectStore(eg)}function OB(){const n=indexedDB.deleteDatabase(n1);return new lf(n).toPromise()}function _w(){const n=indexedDB.open(n1,xB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(eg,{keyPath:r1})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(eg)?e(r):(r.close(),await OB(),e(await _w()))})})}async function GR(n,e,t){const r=qg(n,!0).put({[r1]:e,value:t});return new lf(r).toPromise()}async function NB(n,e){const t=qg(n,!1).get(e),r=await new lf(t).toPromise();return r===void 0?null:r.value}function QR(n,e){const t=qg(n,!0).delete(e);return new lf(t).toPromise()}const DB=800,LB=3;class i1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _w(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>LB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wg._getInstance(kB()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await PB(),!this.activeServiceWorker)return;this.sender=new AB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _w();return await GR(e,Zm,"1"),await QR(e,Zm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>GR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>NB(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>QR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=qg(i,!1).getAll();return new lf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i1.type="LOCAL";const Rh=i1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:start",Ut(n,e))}function VB(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:finalize",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=Uk("rcb"),MB=new tf(3e4,6e4);class FB{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Jt().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return de(UB(t),e,"argument-error"),this.shouldResolveImmediately(t)&&FR(Jt().grecaptcha)?Promise.resolve(Jt().grecaptcha):new Promise((r,i)=>{const s=Jt().setTimeout(()=>{i(ln(e,"network-request-failed"))},MB.get());Jt()[kv]=()=>{Jt().clearTimeout(s),delete Jt()[kv];const u=Jt().grecaptcha;if(!u||!FR(u)){i(ln(e,"internal-error"));return}const d=u.render;u.render=(h,m)=>{const g=d(h,m);return this.counter++,g},this.hostLanguage=t,r(u)};const l=`${d4()}?${yi({onload:kv,render:"explicit",hl:t})}`;qE(l).catch(()=>{clearTimeout(s),i(ln(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Jt().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function UB(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class $B{async load(e){return new g4(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="recaptcha",BB={theme:"light",type:"image"};let zB=class{constructor(e,t,r=Object.assign({},BB)){this.parameters=r,this.type=sh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dt(e),this.isInvisible=this.parameters.size==="invisible",de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;de(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $B:new FB,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const s=l=>{l&&(this.tokenChangeListeners.delete(s),i(l))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Jt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){de(jE()&&!ZE(),this.auth,"internal-error"),await jB(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await H$(this.auth);de(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function jB(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ha._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function WB(n,e,t){if(Qe(n.app))return Promise.reject(_n(n));const r=Dt(n),i=await Hg(r,e,ke(t));return new e0(i,s=>zg(r,s))}async function qB(n,e,t){const r=ke(n);await Bg(!1,r,"phone");const i=await Hg(r.auth,e,ke(t));return new e0(i,s=>Gk(r,s))}async function HB(n,e,t){const r=ke(n);if(Qe(r.auth.app))return Promise.reject(_n(r.auth));const i=await Hg(r.auth,e,ke(t));return new e0(i,s=>Qk(r,s))}async function Hg(n,e,t){var r;if(!n._getRecaptchaConfig())try{await I4(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){de(s.type==="enroll",n,"internal-error");const l={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Co(n,l,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===ih){de((t==null?void 0:t.type)===sh,m,"argument-error");const _=await xv(m,g,t);return KR(m,_)}return KR(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{de(s.type==="signin",n,"internal-error");const l=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;de(l,n,"missing-multi-factor-info");const u={mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Co(n,u,"mfaSmsSignIn",async(g,_)=>{if(_.phoneSignInInfo.captchaResponse===ih){de((t==null?void 0:t.type)===sh,g,"argument-error");const T=await xv(g,_,t);return YR(g,T)}return YR(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Co(n,s,"sendVerificationCode",async(h,m)=>{if(m.captchaResponse===ih){de((t==null?void 0:t.type)===sh,h,"argument-error");const g=await xv(h,m,t);return qR(h,g)}return qR(h,m)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{t==null||t._reset()}}async function KB(n,e){const t=ke(n);if(Qe(t.auth.app))return Promise.reject(_n(t.auth));await HE(t,e)}async function xv(n,e,t){de(t.type===sh,n,"argument-error");const r=await t.verify();de(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:l,clientType:u,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:l,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya=class gm{constructor(e){this.providerId=gm.PROVIDER_ID,this.auth=Dt(e)}verifyPhoneNumber(e,t){return Hg(this.auth,e,ke(t))}static credential(e,t){return Ha._fromVerification(e,t)}static credentialFromResult(e){const t=e;return gm.credentialFromTaggedObject(t)}static credentialFromError(e){return gm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Ha._fromTokenResponse(t,r):null}};Ya.PROVIDER_ID="phone";Ya.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(n,e){return e?Ir(e):(de(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends pc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function GB(n){return Kk(n.auth,new t0(n),n.bypassAuthState)}function QB(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),Hk(t,new t0(n),n.bypassAuthState)}async function YB(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),HE(t,new t0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GB;case"linkViaPopup":case"linkViaRedirect":return YB;case"reauthViaPopup":case"reauthViaRedirect":return QB;default:bn(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=new tf(2e3,1e4);async function XB(n,e,t){if(Qe(n.app))return Promise.reject(ln(n,"operation-not-supported-in-this-environment"));const r=Dt(n);fc(n,e,$s);const i=cl(r,t);return new bs(r,"signInViaPopup",e,i).executeNotNull()}async function ZB(n,e,t){const r=ke(n);if(Qe(r.auth.app))return Promise.reject(ln(r.auth,"operation-not-supported-in-this-environment"));fc(r.auth,e,$s);const i=cl(r.auth,t);return new bs(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function e5(n,e,t){const r=ke(n);fc(r.auth,e,$s);const i=cl(r.auth,t);return new bs(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class bs extends s1{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,bs.currentPopupAction&&bs.currentPopupAction.cancel(),bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=af();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JB.get())};e()}}bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="pendingRedirect",oh=new Map;class n5 extends s1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await r5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r5(n,e){const t=a1(e),r=o1(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function n0(n,e){return o1(n)._set(a1(e),"true")}function i5(){oh.clear()}function r0(n,e){oh.set(n._key(),e)}function o1(n){return Ir(n._redirectPersistence)}function a1(n){return qa(t5,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(n,e,t){return o5(n,e,t)}async function o5(n,e,t){if(Qe(n.app))return Promise.reject(_n(n));const r=Dt(n);fc(n,e,$s),await r._initializationPromise;const i=cl(r,t);return await n0(i,r),i._openRedirect(r,e,"signInViaRedirect")}function a5(n,e,t){return l5(n,e,t)}async function l5(n,e,t){const r=ke(n);if(fc(r.auth,e,$s),Qe(r.auth.app))return Promise.reject(_n(r.auth));await r.auth._initializationPromise;const i=cl(r.auth,t);await n0(i,r.auth);const s=await l1(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function u5(n,e,t){return c5(n,e,t)}async function c5(n,e,t){const r=ke(n);fc(r.auth,e,$s),await r.auth._initializationPromise;const i=cl(r.auth,t);await Bg(!1,r,e.providerId),await n0(i,r.auth);const s=await l1(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function d5(n,e){return await Dt(n)._initializationPromise,Kg(n,e,!1)}async function Kg(n,e,t=!1){if(Qe(n.app))return Promise.reject(_n(n));const r=Dt(n),i=cl(r,e),l=await new n5(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function l1(n){const e=af(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=10*60*1e3;class u1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!f5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!c1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ln(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h5&&this.cachedEventUids.clear(),this.cachedEventUids.has(JR(e))}saveEventToCache(e){this.cachedEventUids.add(JR(e)),this.lastProcessedEventTime=Date.now()}}function JR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function c1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function f5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d1(n,e={}){return $t(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m5=/^https?/;async function g5(n){if(n.config.emulator)return;const{authorizedDomains:e}=await d1(n);for(const t of e)try{if(y5(t))return}catch{}bn(n,"unauthorized-domain")}function y5(n){const e=Ih(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!m5.test(t))return!1;if(p5.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=new tf(3e4,6e4);function XR(){const n=Jt().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function v5(n){return new Promise((e,t)=>{var r,i,s;function l(){XR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XR(),t(ln(n,"network-request-failed"))},timeout:_5.get()})}if(!((i=(r=Jt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Jt().gapi)===null||s===void 0)&&s.load)l();else{const u=Uk("iframefcb");return Jt()[u]=()=>{gapi.load?l():t(ln(n,"network-request-failed"))},qE(`${f4()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw ym=null,e})}let ym=null;function w5(n){return ym=ym||v5(n),ym}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=new tf(5e3,15e3),I5="__/auth/iframe",T5="emulator/auth/iframe",S5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A5(n){const e=n.config;de(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?WE(e,T5):`https://${n.config.authDomain}/${I5}`,r={apiKey:e.apiKey,appName:n.name,v:Pr},i=R5.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${yi(r).slice(1)}`}async function b5(n){const e=await w5(n),t=Jt().gapi;return de(t,n,"internal-error"),e.open({where:document.body,url:A5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=ln(n,"network-request-failed"),u=Jt().setTimeout(()=>{s(l)},E5.get());function d(){Jt().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C5=500,k5=600,x5="_blank",O5="http://localhost";class ZR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N5(n,e,t,r=C5,i=k5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},P5),{width:r.toString(),height:i.toString(),top:s,left:l}),h=qe().toLowerCase();t&&(u=Nk(h)?x5:t),xk(h)&&(e=e||O5,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,I])=>`${_}${T}=${I},`,"");if(r4(h)&&u!=="_self")return D5(e||"",u),new ZR(null);const g=window.open(e||"",u,m);de(g,n,"popup-blocked");try{g.focus()}catch{}return new ZR(g)}function D5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="__/auth/handler",V5="emulator/auth/handler",M5=encodeURIComponent("fac");async function vw(n,e,t,r,i,s){de(n.config.authDomain,n,"auth-domain-config-required"),de(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Pr,eventId:i};if(e instanceof $s){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",_C(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries(s||{}))l[m]=g}if(e instanceof mc){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),h=d?`#${M5}=${encodeURIComponent(d)}`:"";return`${F5(n)}?${yi(u).slice(1)}${h}`}function F5({config:n}){return n.emulator?WE(n,V5):`https://${n.authDomain}/${L5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="webStorageSupport";class U5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qa,this._completeRedirectFn=Kg,this._overrideRedirectResult=r0}async _openPopup(e,t,r,i){var s;gi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await vw(e,t,r,Ih(),i);return N5(e,l,af())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await vw(e,t,r,Ih(),i);return bB(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(gi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await b5(e),r=new u1(e);return t.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ov,{type:Ov},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ov];l!==void 0&&t(!!l),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=g5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Mk()||Ok()||rf()}}const $5=U5;class B5{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Bi("unexpected MultiFactorSessionType")}}}class i0 extends B5{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new i0(e)}_finalizeEnroll(e,t,r){return wB(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return VB(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class h1{constructor(){}static assertion(e){return i0._fromCredential(e)}}h1.FACTOR_ID="phone";var eA="@firebase/auth",tA="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W5(n){Yi(new qr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;de(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fk(n)},h=new u4(r,i,s,d);return T4(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Yi(new qr("auth-internal",e=>{const t=Dt(e.getProvider("auth").getImmediate());return(r=>new z5(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(eA,tA,j5(n)),Tr(eA,tA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=5*60;RE("authIdTokenMaxAge");function H5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}c4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=ln("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",H5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W5("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=2e3;async function G5(n,e,t){var r;const{BuildInfo:i}=Ja();gi(e.sessionId,"AuthEvent did not contain a session ID");const s=await Z5(e.sessionId),l={};return rf()?l.ibi=i.packageName:nf()?l.apn=i.packageName:bn(n,"operation-not-supported-in-this-environment"),i.displayName&&(l.appDisplayName=i.displayName),l.sessionId=s,vw(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,l)}async function Q5(n){const{BuildInfo:e}=Ja(),t={};rf()?t.iosBundleId=e.packageName:nf()?t.androidPackageName=e.packageName:bn(n,"operation-not-supported-in-this-environment"),await d1(n,t)}function Y5(n){const{cordova:e}=Ja();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,n4()?"_blank":"_system","location=yes"),t(i)})})}async function J5(n,e,t){const{cordova:r}=Ja();let i=()=>{};try{await new Promise((s,l)=>{let u=null;function d(){var g;s();const _=(g=r.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof _=="function"&&_(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function h(){u||(u=window.setTimeout(()=>{l(ln(n,"redirect-cancelled-by-user"))},K5))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&h()}e.addPassiveListener(d),document.addEventListener("resume",h,!1),nf()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",m,!1),u&&window.clearTimeout(u)}})}finally{i()}}function X5(n){var e,t,r,i,s,l,u,d,h,m;const g=Ja();de(typeof((e=g==null?void 0:g.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),de(typeof((t=g==null?void 0:g.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),de(typeof((s=(i=(r=g==null?void 0:g.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de(typeof((d=(u=(l=g==null?void 0:g.cordova)===null||l===void 0?void 0:l.plugins)===null||u===void 0?void 0:u.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de(typeof((m=(h=g==null?void 0:g.cordova)===null||h===void 0?void 0:h.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Z5(n){const e=e3(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function e3(n){if(gi(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=20;class n3 extends u1{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function r3(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:o3(),postBody:null,tenantId:n.tenantId,error:ln(n,"no-auth-event")}}function i3(n,e){return ww()._set(Ew(n),e)}async function nA(n){const e=await ww()._get(Ew(n));return e&&await ww()._remove(Ew(n)),e}function s3(n,e){var t,r;const i=l3(e);if(i.includes("/__/auth/callback")){const s=_m(i),l=s.firebaseError?a3(decodeURIComponent(s.firebaseError)):null,u=(r=(t=l==null?void 0:l.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=u?ln(u):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function o3(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<t3;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function ww(){return Ir(XE)}function Ew(n){return qa("authEvent",n.config.apiKey,n.name)}function a3(n){try{return JSON.parse(n)}catch{return null}}function l3(n){const e=_m(n),t=e.link?decodeURIComponent(e.link):void 0,r=_m(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return _m(i).link||i||r||t||n}function _m(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return fi(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=500;class c3{constructor(){this._redirectPersistence=Qa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Kg,this._overrideRedirectResult=r0}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new n3(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){bn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){X5(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),i5(),await this._originValidation(e);const l=r3(e,r,i);await i3(e,l);const u=await G5(e,l,t),d=await Y5(u);return J5(e,s,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Q5(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Ja(),l=setTimeout(async()=>{await nA(e),t.onEvent(rA())},u3),u=async m=>{clearTimeout(l);const g=await nA(e);let _=null;g&&(m!=null&&m.url)&&(_=s3(g,m.url)),t.onEvent(_||rA())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const d=i,h=`${s.packageName.toLowerCase()}://`;Ja().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(h)&&u({url:m}),typeof d=="function")try{d(m)}catch(g){console.error(g)}}}}const d3=c3;function rA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ln("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(n,e){Dt(n)._logFramework(e)}var f3="@firebase/auth-compat",p3="0.5.19";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=1e3;function ah(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function g3(){return ah()==="http:"||ah()==="https:"}function f1(n=qe()){return!!((ah()==="file:"||ah()==="ionic:"||ah()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function y3(){return xg()||AE()}function _3(){return PE()&&(document==null?void 0:document.documentMode)===11}function v3(n=qe()){return/Edge\/\d+/.test(n)}function w3(n=qe()){return _3()||v3(n)}function p1(){try{const n=self.localStorage,e=af();if(n)return n.setItem(e,"1"),n.removeItem(e),w3()?_h():!0}catch{return s0()&&_h()}return!1}function s0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Nv(){return(g3()||bE()||f1())&&!y3()&&p1()&&!s0()}function m1(){return f1()&&typeof document<"u"}async function E3(){return m1()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},m3);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function I3(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr={LOCAL:"local",NONE:"none",SESSION:"session"},Ad=de,g1="persistence";function T3(n,e){if(Ad(Object.values(wr).includes(e),n,"invalid-persistence-type"),xg()){Ad(e!==wr.SESSION,n,"unsupported-persistence-type");return}if(AE()){Ad(e===wr.NONE,n,"unsupported-persistence-type");return}if(s0()){Ad(e===wr.NONE||e===wr.LOCAL&&_h(),n,"unsupported-persistence-type");return}Ad(e===wr.NONE||p1(),n,"unsupported-persistence-type")}async function Iw(n){await n._initializationPromise;const e=y1(),t=qa(g1,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function S3(n,e){const t=y1();if(!t)return[];const r=qa(g1,n,e);switch(t.getItem(r)){case wr.NONE:return[Fu];case wr.LOCAL:return[Rh,Qa];case wr.SESSION:return[Qa];default:return[]}}function y1(){var n;try{return((n=I3())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=de;class Ro{constructor(){this.browserResolver=Ir($5),this.cordovaResolver=Ir(d3),this.underlyingResolver=null,this._redirectPersistence=Qa,this._completeRedirectFn=Kg,this._overrideRedirectResult=r0}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return m1()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return R3(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await E3();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(n){return n.unwrap()}function A3(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(n){return v1(n)}function P3(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new C3(n,vB(n,e))}else if(r){const i=v1(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function v1(n){const{_tokenResponse:e}=n instanceof yn?n.customData:n;if(!e)return null;if(!(n instanceof yn)&&"temporaryProof"in e&&"phoneNumber"in e)return Ya.credentialFromResult(n);const t=e.providerId;if(!t||t===Sd.PASSWORD)return null;let r;switch(t){case Sd.GOOGLE:r=Mi;break;case Sd.FACEBOOK:r=Vi;break;case Sd.GITHUB:r=Fi;break;case Sd.TWITTER:r=Ui;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:l,pendingToken:u,nonce:d}=e;return!s&&!l&&!i&&!u?null:u?t.startsWith("saml.")?Uu._create(t,u):Ji._fromParams({providerId:t,signInMethod:t,pendingToken:u,idToken:i,accessToken:s}):new ku(t).credential({idToken:i,accessToken:s,rawNonce:d})}return n instanceof yn?r.credentialFromError(n):r.credentialFromResult(n)}function nr(n,e){return e.catch(t=>{throw t instanceof yn&&P3(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:b3(t),additionalUserInfo:_B(t),user:Gg.getOrCreate(i)}})}async function Tw(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>nr(n,t.confirm(r))}}class C3{constructor(e,t){this.resolver=t,this.auth=A3(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return nr(_1(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gg=class Qd{constructor(e){this._delegate=e,this.multiFactor=IB(e)}static getOrCreate(e){return Qd.USER_MAP.has(e)||Qd.USER_MAP.set(e,new Qd(e)),Qd.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return nr(this.auth,Gk(this._delegate,e))}async linkWithPhoneNumber(e,t){return Tw(this.auth,qB(this._delegate,e,t))}async linkWithPopup(e){return nr(this.auth,e5(this._delegate,e,Ro))}async linkWithRedirect(e){return await Iw(Dt(this.auth)),u5(this._delegate,e,Ro)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return nr(this.auth,Qk(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Tw(this.auth,HB(this._delegate,e,t))}reauthenticateWithPopup(e){return nr(this.auth,ZB(this._delegate,e,Ro))}async reauthenticateWithRedirect(e){return await Iw(Dt(this.auth)),a5(this._delegate,e,Ro)}sendEmailVerification(e){return aB(this._delegate,e)}async unlink(e){return await K4(this._delegate,e),this}updateEmail(e){return dB(this._delegate,e)}updatePassword(e){return hB(this._delegate,e)}updatePhoneNumber(e){return KB(this._delegate,e)}updateProfile(e){return cB(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return lB(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Gg.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=de;let Sw=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;bd(r,"invalid-api-key",{appName:e.name}),bd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Ro:void 0;this._delegate=t.initialize({options:{persistence:k3(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(M$),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Gg.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){S4(this._delegate,e,t)}applyActionCode(e){return X4(this._delegate,e)}checkActionCode(e){return Yk(this._delegate,e)}confirmPasswordReset(e,t){return J4(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return nr(this._delegate,eB(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return oB(this._delegate,e)}isSignInWithEmailLink(e){return rB(this._delegate,e)}async getRedirectResult(){bd(Nv(),this._delegate,"operation-not-supported-in-this-environment");const e=await d5(this._delegate,Ro);return e?nr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){h3(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:s,complete:l}=iA(e,t,r);return this._delegate.onAuthStateChanged(i,s,l)}onIdTokenChanged(e,t,r){const{next:i,error:s,complete:l}=iA(e,t,r);return this._delegate.onIdTokenChanged(i,s,l)}sendSignInLinkToEmail(e,t){return nB(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Y4(this._delegate,e,t||void 0)}async setPersistence(e){T3(this._delegate,e);let t;switch(e){case wr.SESSION:t=Qa;break;case wr.LOCAL:t=await Ir(Rh)._isAvailable()?Rh:XE;break;case wr.NONE:t=Fu;break;default:return bn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return nr(this._delegate,H4(this._delegate))}signInWithCredential(e){return nr(this._delegate,zg(this._delegate,e))}signInWithCustomToken(e){return nr(this._delegate,Q4(this._delegate,e))}signInWithEmailAndPassword(e,t){return nr(this._delegate,tB(this._delegate,e,t))}signInWithEmailLink(e,t){return nr(this._delegate,iB(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Tw(this._delegate,WB(this._delegate,e,t))}async signInWithPopup(e){return bd(Nv(),this._delegate,"operation-not-supported-in-this-environment"),nr(this._delegate,XB(this._delegate,e,Ro))}async signInWithRedirect(e){return bd(Nv(),this._delegate,"operation-not-supported-in-this-environment"),await Iw(this._delegate),s5(this._delegate,e,Ro)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Z4(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};Sw.Persistence=wr;function iA(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:l=>i(l&&Gg.getOrCreate(l)),error:e,complete:t}}function k3(n,e){const t=S3(n,e);if(typeof self<"u"&&!t.includes(Rh)&&t.push(Rh),typeof window<"u")for(const r of[XE,Qa])t.includes(r)||t.push(r);return t.includes(Fu)||t.push(Fu),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{static credential(e,t){return Ya.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Ya(_1(dc.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}o0.PHONE_SIGN_IN_METHOD=Ya.PHONE_SIGN_IN_METHOD;o0.PROVIDER_ID=Ya.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=de;class O3{constructor(e,t,r=dc.app()){var i;x3((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new zB(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="auth-compat";function D3(n){n.INTERNAL.registerComponent(new qr(N3,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Sw(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:iu.EMAIL_SIGNIN,PASSWORD_RESET:iu.PASSWORD_RESET,RECOVER_EMAIL:iu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:iu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:iu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:iu.VERIFY_EMAIL}},EmailAuthProvider:Jo,FacebookAuthProvider:Vi,GithubAuthProvider:Fi,GoogleAuthProvider:Mi,OAuthProvider:ku,SAMLAuthProvider:Jm,PhoneAuthProvider:o0,PhoneMultiFactorGenerator:h1,RecaptchaVerifier:O3,TwitterAuthProvider:Ui,Auth:Sw,AuthCredential:pc,Error:yn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(f3,p3)}D3(dc);var sA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ko,w1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function C(){}C.prototype=A.prototype,D.D=A.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(E,x,k){for(var O=Array(arguments.length-2),X=2;X<arguments.length;X++)O[X-2]=arguments[X];return A.prototype[x].apply(E,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,A,C){C||(C=0);var E=Array(16);if(typeof A=="string")for(var x=0;16>x;++x)E[x]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(x=0;16>x;++x)E[x]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=D.g[0],C=D.g[1],x=D.g[2];var k=D.g[3],O=A+(k^C&(x^k))+E[0]+3614090360&4294967295;A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+E[1]+3905402710&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+E[2]+606105819&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+E[3]+3250441966&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(k^C&(x^k))+E[4]+4118548399&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+E[5]+1200080426&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+E[6]+2821735955&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+E[7]+4249261313&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(k^C&(x^k))+E[8]+1770035416&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+E[9]+2336552879&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+E[10]+4294925233&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+E[11]+2304563134&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(k^C&(x^k))+E[12]+1804603682&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+E[13]+4254626195&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+E[14]+2792965006&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+E[15]+1236535329&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(x^k&(C^x))+E[1]+4129170786&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+E[6]+3225465664&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+E[11]+643717713&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+E[0]+3921069994&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^k&(C^x))+E[5]+3593408605&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+E[10]+38016083&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+E[15]+3634488961&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+E[4]+3889429448&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^k&(C^x))+E[9]+568446438&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+E[14]+3275163606&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+E[3]+4107603335&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+E[8]+1163531501&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^k&(C^x))+E[13]+2850285829&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+E[2]+4243563512&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+E[7]+1735328473&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+E[12]+2368359562&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(C^x^k)+E[5]+4294588738&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+E[8]+2272392833&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+E[11]+1839030562&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+E[14]+4259657740&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^k)+E[1]+2763975236&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+E[4]+1272893353&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+E[7]+4139469664&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+E[10]+3200236656&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^k)+E[13]+681279174&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+E[0]+3936430074&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+E[3]+3572445317&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+E[6]+76029189&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^k)+E[9]+3654602809&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+E[12]+3873151461&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+E[15]+530742520&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+E[2]+3299628645&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(x^(C|~k))+E[0]+4096336452&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+E[7]+1126891415&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+E[14]+2878612391&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+E[5]+4237533241&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~k))+E[12]+1700485571&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+E[3]+2399980690&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+E[10]+4293915773&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+E[1]+2240044497&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~k))+E[8]+1873313359&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+E[15]+4264355552&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+E[6]+2734768916&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+E[13]+1309151649&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~k))+E[4]+4149444226&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+E[11]+3174756917&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+E[2]+718787259&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(x+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var C=A-this.blockSize,E=this.B,x=this.h,k=0;k<A;){if(x==0)for(;k<=C;)i(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<A;)if(E[x++]=D.charCodeAt(k++),x==this.blockSize){i(this,E),x=0;break}}else for(;k<A;)if(E[x++]=D[k++],x==this.blockSize){i(this,E),x=0;break}}this.h=x,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var C=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=C&255,C/=256;for(this.u(D),D=Array(16),A=C=0;4>A;++A)for(var E=0;32>E;E+=8)D[C++]=this.g[A]>>>E&255;return D};function s(D,A){var C=u;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=A(D)}function l(D,A){this.h=A;for(var C=[],E=!0,x=D.length-1;0<=x;x--){var k=D[x]|0;E&&k==A||(C[x]=k,E=!1)}this.g=C}var u={};function d(D){return-128<=D&&128>D?s(D,function(A){return new l([A|0],0>A?-1:0)}):new l([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return b(h(-D));for(var A=[],C=1,E=0;D>=C;E++)A[E]=D/C|0,C*=4294967296;return new l(A,0)}function m(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return b(m(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(A,8)),E=g,x=0;x<D.length;x+=8){var k=Math.min(8,D.length-x),O=parseInt(D.substring(x,x+k),A);8>k?(k=h(Math.pow(A,k)),E=E.j(k).add(h(O))):(E=E.j(C),E=E.add(h(O)))}return E}var g=d(0),_=d(1),T=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-b(this).m();for(var D=0,A=1,C=0;C<this.g.length;C++){var E=this.i(C);D+=(0<=E?E:4294967296+E)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(R(this))return"-"+b(this).toString(D);for(var A=h(Math.pow(D,6)),C=this,E="";;){var x=z(C,A).g;C=V(C,x.j(A));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=x,I(C))return k+E;for(;6>k.length;)k="0"+k;E=k+E}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function R(D){return D.h==-1}n.l=function(D){return D=V(this,D),R(D)?-1:I(D)?0:1};function b(D){for(var A=D.g.length,C=[],E=0;E<A;E++)C[E]=~D.g[E];return new l(C,~D.h).add(_)}n.abs=function(){return R(this)?b(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],E=0,x=0;x<=A;x++){var k=E+(this.i(x)&65535)+(D.i(x)&65535),O=(k>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);E=O>>>16,k&=65535,O&=65535,C[x]=O<<16|k}return new l(C,C[C.length-1]&-2147483648?-1:0)};function V(D,A){return D.add(b(A))}n.j=function(D){if(I(this)||I(D))return g;if(R(this))return R(D)?b(this).j(b(D)):b(b(this).j(D));if(R(D))return b(this.j(b(D)));if(0>this.l(T)&&0>D.l(T))return h(this.m()*D.m());for(var A=this.g.length+D.g.length,C=[],E=0;E<2*A;E++)C[E]=0;for(E=0;E<this.g.length;E++)for(var x=0;x<D.g.length;x++){var k=this.i(E)>>>16,O=this.i(E)&65535,X=D.i(x)>>>16,U=D.i(x)&65535;C[2*E+2*x]+=O*U,L(C,2*E+2*x),C[2*E+2*x+1]+=k*U,L(C,2*E+2*x+1),C[2*E+2*x+1]+=O*X,L(C,2*E+2*x+1),C[2*E+2*x+2]+=k*X,L(C,2*E+2*x+2)}for(E=0;E<A;E++)C[E]=C[2*E+1]<<16|C[2*E];for(E=A;E<2*A;E++)C[E]=0;return new l(C,0)};function L(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function M(D,A){this.g=D,this.h=A}function z(D,A){if(I(A))throw Error("division by zero");if(I(D))return new M(g,g);if(R(D))return A=z(b(D),A),new M(b(A.g),b(A.h));if(R(A))return A=z(D,b(A)),new M(b(A.g),A.h);if(30<D.g.length){if(R(D)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var C=_,E=A;0>=E.l(D);)C=B(C),E=B(E);var x=W(C,1),k=W(E,1);for(E=W(E,2),C=W(C,2);!I(E);){var O=k.add(E);0>=O.l(D)&&(x=x.add(C),k=O),E=W(E,1),C=W(C,1)}return A=V(D,x.j(A)),new M(x,A)}for(x=g;0<=D.l(A);){for(C=Math.max(1,Math.floor(D.m()/A.m())),E=Math.ceil(Math.log(C)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),k=h(C),O=k.j(A);R(O)||0<O.l(D);)C-=E,k=h(C),O=k.j(A);I(k)&&(k=_),x=x.add(k),D=V(D,O)}return new M(x,D)}n.A=function(D){return z(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)&D.i(E);return new l(C,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)|D.i(E);return new l(C,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)^D.i(E);return new l(C,this.h^D.h)};function B(D){for(var A=D.g.length+1,C=[],E=0;E<A;E++)C[E]=D.i(E)<<1|D.i(E-1)>>>31;return new l(C,D.h)}function W(D,A){var C=A>>5;A%=32;for(var E=D.g.length-C,x=[],k=0;k<E;k++)x[k]=0<A?D.i(k+C)>>>A|D.i(k+C+1)<<32-A:D.i(k+C);return new l(x,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,w1=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,ko=l}).apply(typeof sA<"u"?sA:typeof self<"u"?self:typeof window<"u"?window:{});var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E1,Yd,I1,vm,Rw,T1,S1,R1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,S){return f==Array.prototype||f==Object.prototype||(f[v]=S.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kp=="object"&&Kp];for(var v=0;v<f.length;++v){var S=f[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(f,v){if(v)e:{var S=r;f=f.split(".");for(var N=0;N<f.length-1;N++){var Q=f[N];if(!(Q in S))break e;S=S[Q]}f=f[f.length-1],N=S[f],v=v(N),v!=N&&v!=null&&e(S,f,{configurable:!0,writable:!0,value:v})}}function s(f,v){f instanceof String&&(f+="");var S=0,N=!1,Q={next:function(){if(!N&&S<f.length){var ne=S++;return{value:v(ne,f[ne]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(f){return f||function(){return s(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function h(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,S){return f.call.apply(f.bind,arguments)}function g(f,v,S){if(!f)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,N),f.apply(v,Q)}}return function(){return f.apply(v,arguments)}}function _(f,v,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,_.apply(null,arguments)}function T(f,v){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function I(f,v){function S(){}S.prototype=v.prototype,f.aa=v.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(N,Q,ne){for(var ye=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)ye[ot-2]=arguments[ot];return v.prototype[Q].apply(N,ye)}}function R(f){const v=f.length;if(0<v){const S=Array(v);for(let N=0;N<v;N++)S[N]=f[N];return S}return[]}function b(f,v){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(d(N)){const Q=f.length||0,ne=N.length||0;f.length=Q+ne;for(let ye=0;ye<ne;ye++)f[Q+ye]=N[ye]}else f.push(N)}}class V{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(f){return/^[\s\xa0]*$/.test(f)}function M(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function z(f){return z[" "](f),f}z[" "]=function(){};var B=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function W(f,v,S){for(const N in f)v.call(S,f[N],N,f)}function D(f,v){for(const S in f)v.call(void 0,f[S],S,f)}function A(f){const v={};for(const S in f)v[S]=f[S];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(f,v){let S,N;for(let Q=1;Q<arguments.length;Q++){N=arguments[Q];for(S in N)f[S]=N[S];for(let ne=0;ne<C.length;ne++)S=C[ne],Object.prototype.hasOwnProperty.call(N,S)&&(f[S]=N[S])}}function x(f){var v=1;f=f.split(":");const S=[];for(;0<v&&f.length;)S.push(f.shift()),v--;return f.length&&S.push(f.join(":")),S}function k(f){u.setTimeout(()=>{throw f},0)}function O(){var f=pe;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class X{constructor(){this.h=this.g=null}add(v,S){const N=U.get();N.set(v,S),this.h?this.h.next=N:this.g=N,this.h=N}}var U=new V(()=>new me,f=>f.reset());class me{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Z=!1,pe=new X,he=()=>{const f=u.Promise.resolve(void 0);oe=()=>{f.then(q)}};var q=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(S){k(S)}var v=U;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}Z=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};u.addEventListener("test",S,v),u.removeEventListener("test",S,v)}catch{}return f}();function Me(f,v){if(Se.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(B){e:{try{z(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else S=="mouseover"?v=f.fromElement:S=="mouseout"&&(v=f.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Be[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Me.aa.h.call(this)}}I(Me,Se);var Be={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),He=0;function it(f,v,S,N,Q){this.listener=f,this.proxy=null,this.src=v,this.type=S,this.capture=!!N,this.ha=Q,this.key=++He,this.da=this.fa=!1}function wt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function cn(f){this.src=f,this.g={},this.h=0}cn.prototype.add=function(f,v,S,N,Q){var ne=f.toString();f=this.g[ne],f||(f=this.g[ne]=[],this.h++);var ye=gt(f,v,N,Q);return-1<ye?(v=f[ye],S||(v.fa=!1)):(v=new it(v,this.src,ne,!!N,Q),v.fa=S,f.push(v)),v};function st(f,v){var S=v.type;if(S in f.g){var N=f.g[S],Q=Array.prototype.indexOf.call(N,v,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(N,Q,1),ne&&(wt(v),f.g[S].length==0&&(delete f.g[S],f.h--))}}function gt(f,v,S,N){for(var Q=0;Q<f.length;++Q){var ne=f[Q];if(!ne.da&&ne.listener==v&&ne.capture==!!S&&ne.ha==N)return Q}return-1}var tn="closure_lm_"+(1e6*Math.random()|0),Gr={};function Cr(f,v,S,N,Q){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)Cr(f,v[ne],S,N,Q);return null}return S=kc(S),f&&f[Ye]?f.K(v,S,h(N)?!!N.capture:!1,Q):kr(f,v,S,!1,N,Q)}function kr(f,v,S,N,Q,ne){if(!v)throw Error("Invalid event type");var ye=h(Q)?!!Q.capture:!!Q,ot=ml(f);if(ot||(f[tn]=ot=new cn(f)),S=ot.add(v,S,N,ye,ne),S.proxy)return S;if(N=Hn(),S.proxy=N,N.src=f,N.listener=S,f.addEventListener)xe||(Q=ye),Q===void 0&&(Q=!1),f.addEventListener(v.toString(),N,Q);else if(f.attachEvent)f.attachEvent(is(v.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Hn(){function f(S){return v.call(f.src,f.listener,S)}const v=Cc;return f}function Kn(f,v,S,N,Q){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Kn(f,v[ne],S,N,Q);else N=h(N)?!!N.capture:!!N,S=kc(S),f&&f[Ye]?(f=f.i,v=String(v).toString(),v in f.g&&(ne=f.g[v],S=gt(ne,S,N,Q),-1<S&&(wt(ne[S]),Array.prototype.splice.call(ne,S,1),ne.length==0&&(delete f.g[v],f.h--)))):f&&(f=ml(f))&&(v=f.g[v.toString()],f=-1,v&&(f=gt(v,S,N,Q)),(S=-1<f?v[f]:null)&&lr(S))}function lr(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Ye])st(v.i,f);else{var S=f.type,N=f.proxy;v.removeEventListener?v.removeEventListener(S,N,f.capture):v.detachEvent?v.detachEvent(is(S),N):v.addListener&&v.removeListener&&v.removeListener(N),(S=ml(v))?(st(S,f),S.h==0&&(S.src=null,v[tn]=null)):wt(f)}}}function is(f){return f in Gr?Gr[f]:Gr[f]="on"+f}function Cc(f,v){if(f.da)f=!0;else{v=new Me(v,this);var S=f.listener,N=f.ha||f.src;f.fa&&lr(f),f=S.call(N,v)}return f}function ml(f){return f=f[tn],f instanceof cn?f:null}var gl="__closure_events_fn_"+(1e9*Math.random()>>>0);function kc(f){return typeof f=="function"?f:(f[gl]||(f[gl]=function(v){return f.handleEvent(v)}),f[gl])}function nn(){ie.call(this),this.i=new cn(this),this.M=this,this.F=null}I(nn,ie),nn.prototype[Ye]=!0,nn.prototype.removeEventListener=function(f,v,S,N){Kn(this,f,v,S,N)};function rn(f,v){var S,N=f.F;if(N)for(S=[];N;N=N.F)S.push(N);if(f=f.M,N=v.type||v,typeof v=="string")v=new Se(v,f);else if(v instanceof Se)v.target=v.target||f;else{var Q=v;v=new Se(N,f),E(v,Q)}if(Q=!0,S)for(var ne=S.length-1;0<=ne;ne--){var ye=v.g=S[ne];Q=ss(ye,N,!0,v)&&Q}if(ye=v.g=f,Q=ss(ye,N,!0,v)&&Q,Q=ss(ye,N,!1,v)&&Q,S)for(ne=0;ne<S.length;ne++)ye=v.g=S[ne],Q=ss(ye,N,!1,v)&&Q}nn.prototype.N=function(){if(nn.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var S=f.g[v],N=0;N<S.length;N++)wt(S[N]);delete f.g[v],f.h--}}this.F=null},nn.prototype.K=function(f,v,S,N){return this.i.add(String(f),v,!1,S,N)},nn.prototype.L=function(f,v,S,N){return this.i.add(String(f),v,!0,S,N)};function ss(f,v,S,N){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,ne=0;ne<v.length;++ne){var ye=v[ne];if(ye&&!ye.da&&ye.capture==S){var ot=ye.listener,sn=ye.ha||ye.src;ye.fa&&st(f.i,ye),Q=ot.call(sn,N)!==!1&&Q}}return Q&&!N.defaultPrevented}function xc(f,v,S){if(typeof f=="function")S&&(f=_(f,S));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(f,v||0)}function Hs(f){f.g=xc(()=>{f.g=null,f.i&&(f.i=!1,Hs(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class ra extends ie{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Hs(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ia(f){ie.call(this),this.h=f,this.g={}}I(ia,ie);var Oc=[];function Nc(f){W(f.g,function(v,S){this.g.hasOwnProperty(S)&&lr(v)},f),f.g={}}ia.prototype.N=function(){ia.aa.N.call(this),Nc(this)},ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dc=u.JSON.stringify,Lc=u.JSON.parse,Vc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function sa(){}sa.prototype.h=null;function yl(f){return f.h||(f.h=f.i())}function _l(){}var xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){Se.call(this,"d")}I(vi,Se);function vl(){Se.call(this,"c")}I(vl,Se);var wi={},Mc=null;function oa(){return Mc=Mc||new nn}wi.La="serverreachability";function Fc(f){Se.call(this,wi.La,f)}I(Fc,Se);function os(f){const v=oa();rn(v,new Fc(v))}wi.STAT_EVENT="statevent";function Uc(f,v){Se.call(this,wi.STAT_EVENT,f),this.stat=v}I(Uc,Se);function Bt(f){const v=oa();rn(v,new Uc(v,f))}wi.Ma="timingevent";function wl(f,v){Se.call(this,wi.Ma,f),this.size=v}I(wl,Se);function Qr(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},v)}function aa(){this.g=!0}aa.prototype.xa=function(){this.g=!1};function la(f,v,S,N,Q,ne){f.info(function(){if(f.g)if(ne)for(var ye="",ot=ne.split("&"),sn=0;sn<ot.length;sn++){var Je=ot[sn].split("=");if(1<Je.length){var dn=Je[0];Je=Je[1];var Kt=dn.split("_");ye=2<=Kt.length&&Kt[1]=="type"?ye+(dn+"="+Je+"&"):ye+(dn+"=redacted&")}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+N+") [attempt "+Q+"]: "+v+`
`+S+`
`+ye})}function El(f,v,S,N,Q,ne,ye){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Q+"]: "+v+`
`+S+`
`+ne+" "+ye})}function Yr(f,v,S,N){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+By(f,S)+(N?" "+N:"")})}function $c(f,v){f.info(function(){return"TIMEOUT: "+v})}aa.prototype.info=function(){};function By(f,v){if(!f.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var N=S[f];if(!(2>N.length)){var Q=N[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ye=1;ye<Q.length;ye++)Q[ye]=""}}}}return Dc(S)}catch{return v}}var Il={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jr;function ua(){}I(ua,sa),ua.prototype.g=function(){return new XMLHttpRequest},ua.prototype.i=function(){return{}},Jr=new ua;function Xr(f,v,S,N){this.j=f,this.i=v,this.l=S,this.R=N||1,this.U=new ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kf}function kf(){this.i=null,this.g="",this.h=!1}var Bc={},Tl={};function Sl(f,v,S){f.L=1,f.v=Js(cr(v)),f.m=S,f.P=!0,zc(f,null)}function zc(f,v){f.F=Date.now(),ft(f),f.A=cr(f.v);var S=f.A,N=f.R;Array.isArray(N)||(N=[String(N)]),Zs(S.i,"t",N),f.C=0,S=f.j.J,f.h=new kf,f.g=Gf(f.j,S?v:null,!f.m),0<f.O&&(f.M=new ra(_(f.Y,f,f.g),f.O)),v=f.U,S=f.g,N=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Oc[0]=Q.toString()),Q=Oc);for(var ne=0;ne<Q.length;ne++){var ye=Cr(S,Q[ne],N||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),os(),la(f.i,f.u,f.A,f.l,f.R,f.m)}Xr.prototype.ca=function(f){f=f.target;const v=this.M;v&&Qn(f)==3?v.j():this.Y(f)},Xr.prototype.Y=function(f){try{if(f==this.g)e:{const Kt=Qn(this.g);var v=this.g.Ba();const Dr=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Gc(this.g)))){this.J||Kt!=4||v==7||(v==8||0>=Dr?os(3):os(2)),ca(this);var S=this.g.Z();this.X=S;t:if(xf(this)){var N=Gc(this.g);f="";var Q=N.length,ne=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Or(this),Ks(this);var ye="";break t}this.h.i=new u.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,f+=this.h.i.decode(N[v],{stream:!(ne&&v==Q-1)});N.length=0,this.h.g+=f,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=S==200,El(this.i,this.u,this.A,this.l,this.R,Kt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,sn=this.g;if((ot=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(ot)){var Je=ot;break t}}Je=null}if(S=Je)Yr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jc(this,S);else{this.o=!1,this.s=3,Bt(12),Or(this),Ks(this);break e}}if(this.P){S=!0;let hr;for(;!this.J&&this.C<ye.length;)if(hr=zy(this,ye),hr==Tl){Kt==4&&(this.s=4,Bt(14),S=!1),Yr(this.i,this.l,null,"[Incomplete Response]");break}else if(hr==Bc){this.s=4,Bt(15),Yr(this.i,this.l,ye,"[Invalid Chunk]"),S=!1;break}else Yr(this.i,this.l,hr,null),jc(this,hr);if(xf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||ye.length!=0||this.h.h||(this.s=1,Bt(16),S=!1),this.o=this.o&&S,!S)Yr(this.i,this.l,ye,"[Invalid Chunked Response]"),Or(this),Ks(this);else if(0<ye.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Yc(dn),dn.M=!0,Bt(11))}}else Yr(this.i,this.l,ye,null),jc(this,ye);Kt==4&&Or(this),this.o&&!this.J&&(Kt==4?Ll(this.j,this):(this.o=!1,ft(this)))}else kl(this.g),S==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),Or(this),Ks(this)}}}catch{}finally{}};function xf(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function zy(f,v){var S=f.C,N=v.indexOf(`
`,S);return N==-1?Tl:(S=Number(v.substring(S,N)),isNaN(S)?Bc:(N+=1,N+S>v.length?Tl:(v=v.slice(N,N+S),f.C=N+S,v)))}Xr.prototype.cancel=function(){this.J=!0,Or(this)};function ft(f){f.S=Date.now()+f.I,Of(f,f.I)}function Of(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Qr(_(f.ba,f),v)}function ca(f){f.B&&(u.clearTimeout(f.B),f.B=null)}Xr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?($c(this.i,this.A),this.L!=2&&(os(),Bt(17)),Or(this),this.s=2,Ks(this)):Of(this,this.S-f)};function Ks(f){f.j.G==0||f.J||Ll(f.j,f)}function Or(f){ca(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Nc(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function jc(f,v){try{var S=f.j;if(S.G!=0&&(S.g==f||Fn(S.h,f))){if(!f.K&&Fn(S.h,f)&&S.G==3){try{var N=S.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Q=N;if(Q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)Dl(S),ri(S);else break e;Nl(S),Bt(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=Qr(_(S.Za,S),6e3));if(1>=Df(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ds(S,11)}else if((f.K||S.g==f)&&Dl(S),!L(v))for(Q=S.Da.g.parse(v),v=0;v<Q.length;v++){let Je=Q[v];if(S.T=Je[0],Je=Je[1],S.G==2)if(Je[0]=="c"){S.K=Je[1],S.ia=Je[2];const dn=Je[3];dn!=null&&(S.la=dn,S.j.info("VER="+S.la));const Kt=Je[4];Kt!=null&&(S.Aa=Kt,S.j.info("SVER="+S.Aa));const Dr=Je[5];Dr!=null&&typeof Dr=="number"&&0<Dr&&(N=1.5*Dr,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const hr=f.g;if(hr){const ya=hr.g?hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var ne=N.h;ne.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Wc(ne,ne.h),ne.h=null))}if(N.D){const Ml=hr.g?hr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(N.ya=Ml,ct(N.I,N.D,Ml))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var ye=f;if(N.qa=Kf(N,N.J?N.ia:null,N.W),ye.K){Lf(N.h,ye);var ot=ye,sn=N.L;sn&&(ot.I=sn),ot.B&&(ca(ot),ft(ot)),N.g=ye}else ga(N);0<S.i.length&&Si(S)}else Je[0]!="stop"&&Je[0]!="close"||ds(S,7);else S.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?ds(S,7):wn(S):Je[0]!="noop"&&S.l&&S.l.ta(Je),S.v=0)}}os(4)}catch{}}var Nf=class{constructor(f,v){this.g=f,this.map=v}};function da(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ur(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Df(f){return f.h?1:f.g?f.g.size:0}function Fn(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Wc(f,v){f.g?f.g.add(v):f.h=v}function Lf(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}da.prototype.cancel=function(){if(this.i=Vf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Vf(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const S of f.g.values())v=v.concat(S.D);return v}return R(f.i)}function Rl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],S=f.length,N=0;N<S;N++)v.push(f[N]);return v}v=[],S=0;for(N in f)v[S++]=f[N];return v}function Al(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var S=0;S<f;S++)v.push(S);return v}v=[],S=0;for(const N in f)v[S++]=N;return v}}}function Gs(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var S=Al(f),N=Rl(f),Q=N.length,ne=0;ne<Q;ne++)v.call(void 0,N[ne],S&&S[ne],f)}var ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jy(f,v){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var N=f[S].indexOf("="),Q=null;if(0<=N){var ne=f[S].substring(0,N);Q=f[S].substring(N+1)}else ne=f[S];v(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function as(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof as){this.h=f.h,fa(this,f.j),this.o=f.o,this.g=f.g,Qs(this,f.s),this.l=f.l;var v=f.i,S=new Ei;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),Ys(this,S),this.m=f.m}else f&&(v=String(f).match(ha))?(this.h=!1,fa(this,v[1]||"",!0),this.o=Ke(v[2]||""),this.g=Ke(v[3]||"",!0),Qs(this,v[4]),this.l=Ke(v[5]||"",!0),Ys(this,v[6]||"",!0),this.m=Ke(v[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}as.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Xs(v,bl,!0),":");var S=this.g;return(S||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Xs(v,bl,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Xs(S,S.charAt(0)=="/"?Uf:Ff,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Xs(S,qc)),f.join("")};function cr(f){return new as(f)}function fa(f,v,S){f.j=S?Ke(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Qs(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function Ys(f,v,S){v instanceof Ei?(f.i=v,Ii(f.i,f.h)):(S||(v=Xs(v,$f)),f.i=new Ei(v,f.h))}function ct(f,v,S){f.i.set(v,S)}function Js(f){return ct(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ke(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Xs(f,v,S){return typeof f=="string"?(f=encodeURI(f).replace(v,Mf),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Mf(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var bl=/[#\/\?@]/g,Ff=/[#\?:]/g,Uf=/[#\?]/g,$f=/[#\?@]/g,qc=/#/g;function Ei(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function vn(f){f.g||(f.g=new Map,f.h=0,f.i&&jy(f.i,function(v,S){f.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}n=Ei.prototype,n.add=function(f,v){vn(this),this.i=null,f=Nr(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(v),this.h+=1,this};function Zr(f,v){vn(f),v=Nr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function ei(f,v){return vn(f),v=Nr(f,v),f.g.has(v)}n.forEach=function(f,v){vn(this),this.g.forEach(function(S,N){S.forEach(function(Q){f.call(v,Q,N,this)},this)},this)},n.na=function(){vn(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let N=0;N<v.length;N++){const Q=f[N];for(let ne=0;ne<Q.length;ne++)S.push(v[N])}return S},n.V=function(f){vn(this);let v=[];if(typeof f=="string")ei(this,f)&&(v=v.concat(this.g.get(Nr(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)v=v.concat(f[S])}return v},n.set=function(f,v){return vn(this),this.i=null,f=Nr(this,f),ei(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Zs(f,v,S){Zr(f,v),0<S.length&&(f.i=null,f.g.set(Nr(f,v),R(S)),f.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var N=v[S];const ne=encodeURIComponent(String(N)),ye=this.V(N);for(N=0;N<ye.length;N++){var Q=ne;ye[N]!==""&&(Q+="="+encodeURIComponent(String(ye[N]))),f.push(Q)}}return this.i=f.join("&")};function Nr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Ii(f,v){v&&!f.j&&(vn(f),f.i=null,f.g.forEach(function(S,N){var Q=N.toLowerCase();N!=Q&&(Zr(this,N),Zs(this,Q,S))},f)),f.j=v}function Wy(f,v){const S=new aa;if(u.Image){const N=new Image;N.onload=T(Gn,S,"TestLoadImage: loaded",!0,v,N),N.onerror=T(Gn,S,"TestLoadImage: error",!1,v,N),N.onabort=T(Gn,S,"TestLoadImage: abort",!1,v,N),N.ontimeout=T(Gn,S,"TestLoadImage: timeout",!1,v,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else v(!1)}function Bf(f,v){const S=new aa,N=new AbortController,Q=setTimeout(()=>{N.abort(),Gn(S,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:N.signal}).then(ne=>{clearTimeout(Q),ne.ok?Gn(S,"TestPingServer: ok",!0,v):Gn(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Gn(S,"TestPingServer: error",!1,v)})}function Gn(f,v,S,N,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),N(S)}catch{}}function qy(){this.g=new Vc}function zf(f,v,S){const N=S||"";try{Gs(f,function(Q,ne){let ye=Q;h(Q)&&(ye=Dc(Q)),v.push(N+ne+"="+encodeURIComponent(ye))})}catch(Q){throw v.push(N+"type="+encodeURIComponent("_badmap")),Q}}function ls(f){this.l=f.Ub||null,this.j=f.eb||!1}I(ls,sa),ls.prototype.g=function(){return new pa(this.l,this.j)},ls.prototype.i=function(f){return function(){return f}}({});function pa(f,v){nn.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(pa,nn),n=pa.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,ni(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jf(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function jf(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?ti(this):ni(this),this.readyState==3&&jf(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,ti(this))},n.Qa=function(f){this.g&&(this.response=f,ti(this))},n.ga=function(){this.g&&ti(this)};function ti(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ni(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=v.next();return f.join(`\r
`)};function ni(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function us(f){let v="";return W(f,function(S,N){v+=N,v+=":",v+=S,v+=`\r
`}),v}function eo(f,v,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=us(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):ct(f,v,S))}function Et(f){nn.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Et,nn);var Hy=/^https?$/i,Hc=["POST","PUT"];n=Et.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jr.g(),this.v=this.o?yl(this.o):yl(Jr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(ne){ma(this,ne);return}if(f=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Q in N)S.set(Q,N[Q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())S.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Hc,v,void 0))||N||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of S)this.g.setRequestHeader(ne,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cl(this),this.u=!0,this.g.send(f),this.u=!1}catch(ne){ma(this,ne)}};function ma(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Pl(f),dr(f)}function Pl(f){f.A||(f.A=!0,rn(f,"complete"),rn(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,rn(this,"complete"),rn(this,"abort"),dr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),Et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Kc(this):this.bb())},n.bb=function(){Kc(this)};function Kc(f){if(f.h&&typeof l<"u"&&(!f.v[1]||Qn(f)!=4||f.Z()!=2)){if(f.u&&Qn(f)==4)xc(f.Ea,0,f);else if(rn(f,"readystatechange"),Qn(f)==4){f.h=!1;try{const ye=f.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var N;if(N=ye===0){var Q=String(f.D).match(ha)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),N=!Hy.test(Q?Q.toLowerCase():"")}S=N}if(S)rn(f,"complete"),rn(f,"success");else{f.m=6;try{var ne=2<Qn(f)?f.g.statusText:""}catch{ne=""}f.l=ne+" ["+f.Z()+"]",Pl(f)}}finally{dr(f)}}}}function dr(f,v){if(f.g){Cl(f);const S=f.g,N=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||rn(f,"ready");try{S.onreadystatechange=N}catch{}}}function Cl(f){f.I&&(u.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Qn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Lc(v)}};function Gc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function kl(f){const v={};f=(f.g&&2<=Qn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(L(f[N]))continue;var S=x(f[N]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=v[Q]||[];v[Q]=ne,ne.push(S)}D(v,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(f,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||v}function Qc(f){this.Aa=0,this.i=[],this.j=new aa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ti("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ti("baseRetryDelayMs",5e3,f),this.cb=Ti("retryDelaySeedMs",1e4,f),this.Wa=Ti("forwardChannelMaxRetries",2,f),this.wa=Ti("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new da(f&&f.concurrentRequestLimit),this.Da=new qy,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Qc.prototype,n.la=8,n.G=1,n.connect=function(f,v,S,N){Bt(0),this.W=f,this.H=v||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=Kf(this,null,this.W),Si(this)};function wn(f){if(xl(f),f.G==3){var v=f.U++,S=cr(f.I);if(ct(S,"SID",f.K),ct(S,"RID",v),ct(S,"TYPE","terminate"),cs(f,S),v=new Xr(f,f.j,v),v.L=2,v.v=Js(cr(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=v.v,S=!0),S||(v.g=Gf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ft(v)}Hf(f)}function ri(f){f.g&&(Yc(f),f.g.cancel(),f.g=null)}function xl(f){ri(f),f.u&&(u.clearTimeout(f.u),f.u=null),Dl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function Si(f){if(!ur(f.h)&&!f.s){f.s=!0;var v=f.Ga;oe||he(),Z||(oe(),Z=!0),pe.add(v,f),f.B=0}}function Ky(f,v){return Df(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Qr(_(f.Ga,f,v),qf(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new Xr(this,this.j,f);let ne=this.o;if(this.S&&(ne?(ne=A(ne),E(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=to(this,Q,v),S=cr(this.I),ct(S,"RID",f),ct(S,"CVER",22),this.D&&ct(S,"X-HTTP-Session-Id",this.D),cs(this,S),ne&&(this.O?v="headers="+encodeURIComponent(String(us(ne)))+"&"+v:this.m&&eo(S,this.m,ne)),Wc(this.h,Q),this.Ua&&ct(S,"TYPE","init"),this.P?(ct(S,"$req",v),ct(S,"SID","null"),Q.T=!0,Sl(Q,S,null)):Sl(Q,S,v),this.G=2}}else this.G==3&&(f?Ol(this,f):this.i.length==0||ur(this.h)||Ol(this))};function Ol(f,v){var S;v?S=v.l:S=f.U++;const N=cr(f.I);ct(N,"SID",f.K),ct(N,"RID",S),ct(N,"AID",f.T),cs(f,N),f.m&&f.o&&eo(N,f.m,f.o),S=new Xr(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),v&&(f.i=v.D.concat(f.i)),v=to(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Wc(f.h,S),Sl(S,N,v)}function cs(f,v){f.H&&W(f.H,function(S,N){ct(v,N,S)}),f.l&&Gs({},function(S,N){ct(v,N,S)})}function to(f,v,S){S=Math.min(f.i.length,S);var N=f.l?_(f.l.Na,f.l,f):null;e:{var Q=f.i;let ne=-1;for(;;){const ye=["count="+S];ne==-1?0<S?(ne=Q[0].g,ye.push("ofs="+ne)):ne=0:ye.push("ofs="+ne);let ot=!0;for(let sn=0;sn<S;sn++){let Je=Q[sn].g;const dn=Q[sn].map;if(Je-=ne,0>Je)ne=Math.max(0,Q[sn].g-100),ot=!1;else try{zf(dn,ye,"req"+Je+"_")}catch{N&&N(dn)}}if(ot){N=ye.join("&");break e}}}return f=f.i.splice(0,S),v.D=f,N}function ga(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;oe||he(),Z||(oe(),Z=!0),pe.add(v,f),f.v=0}}function Nl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Qr(_(f.Fa,f),qf(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Wf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Qr(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),ri(this),Wf(this))};function Yc(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function Wf(f){f.g=new Xr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=cr(f.qa);ct(v,"RID","rpc"),ct(v,"SID",f.K),ct(v,"AID",f.T),ct(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&ct(v,"TO",f.ja),ct(v,"TYPE","xmlhttp"),cs(f,v),f.m&&f.o&&eo(v,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=Js(cr(v)),S.m=null,S.P=!0,zc(S,f)}n.Za=function(){this.C!=null&&(this.C=null,ri(this),Nl(this),Bt(19))};function Dl(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Ll(f,v){var S=null;if(f.g==v){Dl(f),Yc(f),f.g=null;var N=2}else if(Fn(f.h,v))S=v.D,Lf(f.h,v),N=1;else return;if(f.G!=0){if(v.o)if(N==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var Q=f.B;N=oa(),rn(N,new wl(N,S)),Si(f)}else ga(f);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(N==1&&Ky(f,v)||N==2&&Nl(f)))switch(S&&0<S.length&&(v=f.h,v.i=v.i.concat(S)),Q){case 1:ds(f,5);break;case 4:ds(f,10);break;case 3:ds(f,6);break;default:ds(f,2)}}}function qf(f,v){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*v}function ds(f,v){if(f.j.info("Error code "+v),v==2){var S=_(f.fb,f),N=f.Xa;const Q=!N;N=new as(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||fa(N,"https"),Js(N),Q?Wy(N.toString(),S):Bf(N.toString(),S)}else Bt(2);f.G=0,f.l&&f.l.sa(v),Hf(f),xl(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Hf(f){if(f.G=0,f.ka=[],f.l){const v=Vf(f.h);(v.length!=0||f.i.length!=0)&&(b(f.ka,v),b(f.ka,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.ra()}}function Kf(f,v,S){var N=S instanceof as?cr(S):new as(S);if(N.g!="")v&&(N.g=v+"."+N.g),Qs(N,N.s);else{var Q=u.location;N=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new as(null);N&&fa(ne,N),v&&(ne.g=v),Q&&Qs(ne,Q),S&&(ne.l=S),N=ne}return S=f.D,v=f.ya,S&&v&&ct(N,S,v),ct(N,"VER",f.la),cs(f,N),N}function Gf(f,v,S){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new Et(new ls({eb:S})):new Et(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}n=Jc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Vl(){}Vl.prototype.g=function(f,v){return new Un(f,v)};function Un(f,v){nn.call(this),this.g=new Qc(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!L(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!L(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Ri(this)}I(Un,nn),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){wn(this.g)},Un.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Dc(f),f=S);v.i.push(new Nf(v.Ya++,f)),v.G==3&&Si(v)},Un.prototype.N=function(){this.g.l=null,delete this.j,wn(this.g),delete this.g,Un.aa.N.call(this)};function Qf(f){vi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const S in v){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}I(Qf,vi);function Yf(){vl.call(this),this.status=1}I(Yf,vl);function Ri(f){this.g=f}I(Ri,Jc),Ri.prototype.ua=function(){rn(this.g,"a")},Ri.prototype.ta=function(f){rn(this.g,new Qf(f))},Ri.prototype.sa=function(f){rn(this.g,new Yf)},Ri.prototype.ra=function(){rn(this.g,"b")},Vl.prototype.createWebChannel=Vl.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,R1=function(){return new Vl},S1=function(){return oa()},T1=wi,Rw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Il.NO_ERROR=0,Il.TIMEOUT=8,Il.HTTP_ERROR=6,vm=Il,Cf.COMPLETE="complete",I1=Cf,_l.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",nn.prototype.listen=nn.prototype.K,Yd=_l,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,E1=Et}).apply(typeof Kp<"u"?Kp:typeof self<"u"?self:typeof window<"u"?window:{});const oA="@firebase/firestore",aA="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new Yh("@firebase/firestore");function wu(){return Vo.logLevel}function L3(n){Vo.setLogLevel(n)}function ue(n,...e){if(Vo.logLevel<=$e.DEBUG){const t=e.map(a0);Vo.debug(`Firestore (${gc}): ${n}`,...t)}}function jt(n,...e){if(Vo.logLevel<=$e.ERROR){const t=e.map(a0);Vo.error(`Firestore (${gc}): ${n}`,...t)}}function Xi(n,...e){if(Vo.logLevel<=$e.WARN){const t=e.map(a0);Vo.warn(`Firestore (${gc}): ${n}`,...t)}}function a0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n="Unexpected state"){const e=`FIRESTORE (${gc}) INTERNAL ASSERTION FAILED: `+n;throw jt(e),new Error(e)}function Ae(n,e){n||Ie()}function V3(n,e){n||Ie()}function ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends yn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gn.UNAUTHENTICATED))}shutdown(){}}class F3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class U3{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new An;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new An,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=s;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new An)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new A1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new gn(e)}}class $3{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class B3{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new $3(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z3{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Qe(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0);const r=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new lA(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string"),this.R=t.token,new lA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=j3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function $u(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function P1(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=-62135596800,cA=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*cA);return new bt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<uA)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cA}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-uA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new bt(0,0))}static max(){return new Ce(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="__name__";class Oi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ie(),r===void 0?r=e.length-t:r>e.length-t&&Ie(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Oi.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Oi.isNumericId(e),i=Oi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Oi.extractNumericId(e).compare(Oi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ko.fromString(e.substring(4,e.length-2))}}class je extends Oi{construct(e,t,r){return new je(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new je(t)}static emptyPath(){return new je([])}}const W3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Oi{construct(e,t,r){return new Rt(e,t,r)}static isValidIdentifier(e){return W3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dA}static keyField(){return new Rt([dA])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ae(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ae(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new ae(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(t)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(je.fromString(e))}static fromName(e){return new _e(je.fromString(e).popFirst(5))}static empty(){return new _e(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=-1;class tg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Aw(n){return n.fields.find(e=>e.kind===2)}function Na(n){return n.fields.filter(e=>e.kind!==2)}tg.UNKNOWN_ID=-1;class wm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ah{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ah(0,br.min())}}function C1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new bt(t+1,0):new bt(t,r));return new br(i,_e.empty(),e)}function k1(n){return new br(n.readTime,n.key,Bu)}class br{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new br(Ce.min(),_e.empty(),Bu)}static max(){return new br(Ce.max(),_e.empty(),Bu)}}function l0(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==x1)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,r)=>{t(e)})}static reject(e){return new G((t,r)=>{r(e)})}static waitFor(e){return new G((t,r)=>{let i=0,s=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++s,l&&s===i&&t()},d=>r(d))}),l=!0,s===i&&t()})}static or(e){let t=G.resolve(!1);for(const r of e)t=t.next(i=>i?G.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new G((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const h=d;t(e[h]).next(m=>{l[h]=m,++u,u===s&&r(l)},m=>i(m))}})}static doWhile(e,t){return new G((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="SimpleDb";class Qg{static open(e,t,r,i){try{return new Qg(t,e.transaction(i,r))}catch(s){throw new lh(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new An,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new lh(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=u0(r.target.error);this.m.reject(new lh(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(ue(vr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new H3(t)}}class Hi{static delete(e){return ue(vr,"Removing database:",e),La(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!_h())return!1;if(Hi.v())return!0;const e=qe(),t=Hi.C(e),r=0<t&&t<10,i=N1(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,Hi.C(qe())===12.2&&jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(ue(vr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;t(l)},i.onblocked=()=>{r(new lh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new ae(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ae(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new lh(e,l))},i.onupgradeneeded=s=>{ue(vr,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.O.B(l,i.transaction,s.oldVersion,this.version).next(()=>{ue(vr,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.N(e);const u=Qg.open(this.db,e,s?"readonly":"readwrite",r),d=i(u).next(h=>(u.S(),h)).catch(h=>(u.abort(h),G.reject(h))).toPromise();return d.catch(()=>{}),await u.p,d}catch(u){const d=u,h=d.name!=="FirebaseError"&&l<3;if(ue(vr,"Transaction failed with error:",d.message,"Retrying:",h),this.close(),!h)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function N1(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class q3{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return La(this.q.delete())}}class lh extends ae{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Zo(n){return n.name==="IndexedDbTransactionError"}class H3{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ue(vr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue(vr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),La(r)}add(e){return ue(vr,"ADD",this.store.name,e,e),La(this.store.add(e))}get(e){return La(this.store.get(e)).next(t=>(t===void 0&&(t=null),ue(vr,"GET",this.store.name,e,t),t))}delete(e){return ue(vr,"DELETE",this.store.name,e),La(this.store.delete(e))}count(){return ue(vr,"COUNT",this.store.name),La(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new G((l,u)=>{s.onerror=d=>{u(d.target.error)},s.onsuccess=d=>{l(d.target.result)}})}{const s=this.cursor(r),l=[];return this.j(s,(u,d)=>{l.push(d)}).next(()=>l)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new G((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){ue(vr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(s,l,u)=>u.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new G((r,i)=>{t.onerror=s=>{const l=u0(s.target.error);i(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(u=>{u?l.continue():r()}):r()}})}j(e,t){const r=[];return new G((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const d=new q3(u),h=t(u.primaryKey,u.value,d);if(h instanceof G){const m=h.catch(g=>(d.done(),G.reject(g)));r.push(m)}d.isDone?i():d.U===null?u.continue():u.continue(d.U)}}).next(()=>G.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function La(n){return new G((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=u0(r.target.error);t(i)}})}let hA=!1;function u0(n){const e=Hi.C(qe());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hA||(hA=!0,setTimeout(()=>{throw r},0)),r}}return n}const uh="IndexBackfiller";class K3{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){ue(uh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();ue(uh,`Documents written: ${t}`)}catch(t){Zo(t)?ue(uh,"Ignoring IndexedDB error during index backfill: ",t):await Xo(t)}await this.te(6e4)})}}class G3{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,s=!0;return G.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!r.has(l))return ue(uh,`Processing collection: ${l}`),this.ie(e,l,i).next(u=>{i-=u,r.add(l)});s=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.se(i,s)).next(u=>(ue(uh,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u))).next(()=>l.size)}))}se(e,t){let r=e;return t.changes.forEach((i,s)=>{const l=k1(s);l0(l,r)>0&&(r=l)}),new br(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}rr.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=-1;function uf(n){return n==null}function bh(n){return n===0&&1/n==-1/0}function D1(n){return typeof n=="number"&&Number.isInteger(n)&&!bh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="";function Vn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fA(e)),e=Q3(n.get(t),e);return fA(e)}function Q3(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case ng:t+="";break;default:t+=s}}return t}function fA(n){return n+ng+""}function zi(n){const e=n.length;if(Ae(e>=2),e===2)return Ae(n.charAt(0)===ng&&n.charAt(1)===""),je.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const l=n.indexOf(ng,s);switch((l<0||l>t)&&Ie(),n.charAt(l+1)){case"":const u=n.substring(s,l);let d;i.length===0?d=u:(i+=u,d=i,i=""),r.push(d);break;case"":i+=n.substring(s,l),i+="\0";break;case"":i+=n.substring(s,l+1);break;default:Ie()}s=l+2}return new je(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="remoteDocuments",cf="owner",su="owner",Ph="mutationQueues",Y3="userId",di="mutations",pA="batchId",Ba="userMutationsIndex",mA=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n,e){return[n,Vn(e)]}function L1(n,e,t){return[n,Vn(e),t]}const J3={},zu="documentMutations",rg="remoteDocumentsV14",X3=["prefixPath","collectionGroup","readTime","documentId"],Im="documentKeyIndex",Z3=["prefixPath","collectionGroup","documentId"],V1="collectionGroupIndex",ez=["collectionGroup","readTime","prefixPath","documentId"],Ch="remoteDocumentGlobal",bw="remoteDocumentGlobalKey",ju="targets",M1="queryTargetsIndex",tz=["canonicalId","targetId"],Wu="targetDocuments",nz=["targetId","path"],c0="documentTargetsIndex",rz=["path","targetId"],ig="targetGlobalKey",Ka="targetGlobal",kh="collectionParents",iz=["collectionId","parent"],qu="clientMetadata",sz="clientId",Yg="bundles",oz="bundleId",Jg="namedQueries",az="name",d0="indexConfiguration",lz="indexId",Pw="collectionGroupIndex",uz="collectionGroup",sg="indexState",cz=["indexId","uid"],F1="sequenceNumberIndex",dz=["uid","sequenceNumber"],og="indexEntries",hz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],U1="documentKeyIndex",fz=["indexId","uid","orderedDocumentKey"],Xg="documentOverlays",pz=["userId","collectionPath","documentId"],Cw="collectionPathOverlayIndex",mz=["userId","collectionPath","largestBatchId"],$1="collectionGroupOverlayIndex",gz=["userId","collectionGroup","largestBatchId"],h0="globals",yz="name",B1=[Ph,di,zu,Da,ju,cf,Ka,Wu,qu,Ch,kh,Yg,Jg],_z=[...B1,Xg],z1=[Ph,di,zu,rg,ju,cf,Ka,Wu,qu,Ch,kh,Yg,Jg,Xg],j1=z1,f0=[...j1,d0,sg,og],vz=f0,wz=[...f0,h0];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw extends O1{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function un(n,e){const t=ve(n);return Hi.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ea(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function W1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||Tn.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gp(this.root,e,this.comparator,!0)}}class Gp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Tn.RED,this.left=i??Tn.EMPTY,this.right=s??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Tn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yA(this.data.getIterator())}getIteratorFrom(e){return new yA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lt(this.comparator);return t.data=e,t}}class yA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ou(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new ir([])}unionWith(e){let t=new lt(Rt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ir(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $u(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new q1("Invalid base64 string: "+s):s}}(e);return new Ft(t)}static fromUint8Array(e){const t=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const Iz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(n){if(Ae(!!n),typeof n=="string"){let e=0;const t=Iz.exec(n);if(Ae(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vs(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="server_timestamp",K1="__type__",G1="__previous_value__",Q1="__local_write_time__";function Zg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[K1])===null||t===void 0?void 0:t.stringValue)===H1}function ey(n){const e=n.mapValue.fields[G1];return Zg(e)?ey(e):e}function xh(n){const e=Ls(n.mapValue.fields[Q1].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e,t,r,i,s,l,u,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}const xw="(default)";class Mo{constructor(e,t){this.projectId=e,this.database=t||xw}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===xw}isEqual(e){return e instanceof Mo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="__type__",Y1="__max__",Ao={mapValue:{fields:{__type__:{stringValue:Y1}}}},m0="__vector__",Hu="value",Tm={nullValue:"NULL_VALUE"};function Fo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zg(n)?4:J1(n)?9007199254740991:ty(n)?10:11:Ie()}function Zi(n,e){if(n===e)return!0;const t=Fo(n);if(t!==Fo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xh(n).isEqual(xh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Ls(i.timestampValue),u=Ls(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Vs(i.bytesValue).isEqual(Vs(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return St(i.geoPointValue.latitude)===St(s.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return St(i.integerValue)===St(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=St(i.doubleValue),u=St(s.doubleValue);return l===u?bh(l)===bh(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return $u(n.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(gA(l)!==gA(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Zi(l[d],u[d])))return!1;return!0}(n,e);default:return Ie()}}function Oh(n,e){return(n.values||[]).find(t=>Zi(t,e))!==void 0}function Uo(n,e){if(n===e)return 0;const t=Fo(n),r=Fo(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(s,l){const u=St(s.integerValue||s.doubleValue),d=St(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return _A(n.timestampValue,e.timestampValue);case 4:return _A(xh(n),xh(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(s,l){const u=Vs(s),d=Vs(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const u=s.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const m=Ve(u[h],d[h]);if(m!==0)return m}return Ve(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const u=Ve(St(s.latitude),St(l.latitude));return u!==0?u:Ve(St(s.longitude),St(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return vA(n.arrayValue,e.arrayValue);case 10:return function(s,l){var u,d,h,m;const g=s.fields||{},_=l.fields||{},T=(u=g[Hu])===null||u===void 0?void 0:u.arrayValue,I=(d=_[Hu])===null||d===void 0?void 0:d.arrayValue,R=Ve(((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0,((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0);return R!==0?R:vA(T,I)}(n.mapValue,e.mapValue);case 11:return function(s,l){if(s===Ao.mapValue&&l===Ao.mapValue)return 0;if(s===Ao.mapValue)return 1;if(l===Ao.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const _=Ve(d[g],m[g]);if(_!==0)return _;const T=Uo(u[d[g]],h[m[g]]);if(T!==0)return T}return Ve(d.length,m.length)}(n.mapValue,e.mapValue);default:throw Ie()}}function _A(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Ls(n),r=Ls(e),i=Ve(t.seconds,r.seconds);return i!==0?i:Ve(t.nanos,r.nanos)}function vA(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Uo(t[i],r[i]);if(s)return s}return Ve(t.length,r.length)}function Ku(n){return Ow(n)}function Ow(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ls(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Vs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=Ow(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Ow(t.fields[l])}`;return i+"}"}(n.mapValue):Ie()}function Sm(n){switch(Fo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ey(n);return e?16+Sm(e):16;case 5:return 2*n.stringValue.length;case 6:return Vs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Sm(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ea(r.fields,(s,l)=>{i+=s.length+Sm(l)}),i}(n.mapValue);default:throw Ie()}}function Xa(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Nw(n){return!!n&&"integerValue"in n}function Nh(n){return!!n&&"arrayValue"in n}function wA(n){return!!n&&"nullValue"in n}function EA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rm(n){return!!n&&"mapValue"in n}function ty(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[p0])===null||t===void 0?void 0:t.stringValue)===m0}function ch(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ea(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ch(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ch(n.arrayValue.values[t]);return e}return Object.assign({},n)}function J1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Y1}const X1={mapValue:{fields:{[p0]:{stringValue:m0},[Hu]:{arrayValue:{}}}}};function Sz(n){return"nullValue"in n?Tm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Xa(Mo.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?ty(n)?X1:{mapValue:{}}:Ie()}function Rz(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Xa(Mo.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?X1:"mapValue"in n?ty(n)?{mapValue:{}}:Ao:Ie()}function IA(n,e){const t=Uo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function TA(n,e){const t=Uo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Rm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ch(t)}setAll(e){let t=Rt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=ch(l):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Rm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Rm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ea(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Rn(ch(this.value))}}function Z1(n){const e=[];return ea(n.fields,(t,r)=>{const i=new Rt([t]);if(Rm(r)){const s=Z1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t,r,i,s,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new vt(e,0,Ce.min(),Ce.min(),Ce.min(),Rn.empty(),0)}static newFoundDocument(e,t,r,i){return new vt(e,1,t,Ce.min(),r,i,0)}static newNoDocument(e,t){return new vt(e,2,t,Ce.min(),Ce.min(),Rn.empty(),0)}static newUnknownDocument(e,t){return new vt(e,3,t,Ce.min(),Ce.min(),Rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,t){this.position=e,this.inclusive=t}}function SA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),t.key):r=Uo(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function RA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Zi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Az(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{}class We extends ex{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new bz(e,t,r):t==="array-contains"?new kz(e,r):t==="in"?new ox(e,r):t==="not-in"?new xz(e,r):t==="array-contains-any"?new Oz(e,r):new We(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Pz(e,r):new Cz(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Uo(t,this.value)):t!==null&&Fo(this.value)===Fo(t)&&this.matchesComparison(Uo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class at extends ex{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new at(e,t)}matches(e){return Gu(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Gu(n){return n.op==="and"}function Dw(n){return n.op==="or"}function g0(n){return tx(n)&&Gu(n)}function tx(n){for(const e of n.filters)if(e instanceof at)return!1;return!0}function Lw(n){if(n instanceof We)return n.field.canonicalString()+n.op.toString()+Ku(n.value);if(g0(n))return n.filters.map(e=>Lw(e)).join(",");{const e=n.filters.map(t=>Lw(t)).join(",");return`${n.op}(${e})`}}function nx(n,e){return n instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&Zi(r.value,i.value)}(n,e):n instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,u)=>s&&nx(l,i.filters[u]),!0):!1}(n,e):void Ie()}function rx(n,e){const t=n.filters.concat(e);return at.create(t,n.op)}function ix(n){return n instanceof We?function(t){return`${t.field.canonicalString()} ${t.op} ${Ku(t.value)}`}(n):n instanceof at?function(t){return t.op.toString()+" {"+t.getFilters().map(ix).join(" ,")+"}"}(n):"Filter"}class bz extends We{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pz extends We{constructor(e,t){super(e,"in",t),this.keys=sx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cz extends We{constructor(e,t){super(e,"not-in",t),this.keys=sx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class kz extends We{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nh(t)&&Oh(t.arrayValue,this.value)}}class ox extends We{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Oh(this.value.arrayValue,t)}}class xz extends We{constructor(e,t){super(e,"not-in",t)}matches(e){if(Oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Oh(this.value.arrayValue,t)}}class Oz extends We{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Oh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e,t=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.le=null}}function Vw(n,e=null,t=[],r=[],i=null,s=null,l=null){return new Nz(n,e,t,r,i,s,l)}function Za(n){const e=ve(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Lw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),uf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ku(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ku(r)).join(",")),e.le=t}return e.le}function df(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Az(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!nx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!RA(n.startAt,e.startAt)&&RA(n.endAt,e.endAt)}function ag(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function lg(n,e){return n.filters.filter(t=>t instanceof We&&t.field.isEqual(e))}function AA(n,e,t){let r=Tm,i=!0;for(const s of lg(n,e)){let l=Tm,u=!0;switch(s.op){case"<":case"<=":l=Sz(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,u=!1;break;case"!=":case"not-in":l=Tm}IA({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];IA({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function bA(n,e,t){let r=Ao,i=!0;for(const s of lg(n,e)){let l=Ao,u=!0;switch(s.op){case">=":case">":l=Rz(s.value),u=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,u=!1;break;case"!=":case"not-in":l=Ao}TA({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];TA({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ax(n,e,t,r,i,s,l,u){return new Bs(n,e,t,r,i,s,l,u)}function yc(n){return new Bs(n)}function PA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function y0(n){return n.collectionGroup!==null}function Ou(n){const e=ve(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new lt(Rt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new Dh(s,r))}),t.has(Rt.keyField().canonicalString())||e.he.push(new Dh(Rt.keyField(),r))}return e.he}function Wn(n){const e=ve(n);return e.Pe||(e.Pe=Dz(e,Ou(n))),e.Pe}function Dz(n,e){if(n.limitType==="F")return Vw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Dh(i.field,s)});const t=n.endAt?new $o(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $o(n.startAt.position,n.startAt.inclusive):null;return Vw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Mw(n,e){const t=n.filters.concat([e]);return new Bs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ug(n,e,t){return new Bs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hf(n,e){return df(Wn(n),Wn(e))&&n.limitType===e.limitType}function lx(n){return`${Za(Wn(n))}|lt:${n.limitType}`}function Eu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>ix(i)).join(", ")}]`),uf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ku(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ku(i)).join(",")),`Target(${r})`}(Wn(n))}; limitType=${n.limitType})`}function ff(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Ou(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,d){const h=SA(l,u,d);return l.inclusive?h<=0:h<0}(r.startAt,Ou(r),i)||r.endAt&&!function(l,u,d){const h=SA(l,u,d);return l.inclusive?h>=0:h>0}(r.endAt,Ou(r),i))}(n,e)}function ux(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cx(n){return(e,t)=>{let r=!1;for(const i of Ou(n)){const s=Lz(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Lz(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(s,l,u){const d=l.data.field(s),h=u.data.field(s);return d!==null&&h!==null?Uo(d,h):Ie()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return W1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=new mt(_e.comparator);function sr(){return Vz}const dx=new mt(_e.comparator);function Jd(...n){let e=dx;for(const t of n)e=e.insert(t.key,t);return e}function hx(n){let e=dx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ji(){return dh()}function fx(){return dh()}function dh(){return new zs(n=>n.toString(),(n,e)=>n.isEqual(e))}const Mz=new mt(_e.comparator),Fz=new lt(_e.comparator);function Ue(...n){let e=Fz;for(const t of n)e=e.add(t);return e}const Uz=new lt(Ve);function _0(){return Uz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function px(n){return{integerValue:""+n}}function mx(n,e){return D1(e)?px(e):v0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this._=void 0}}function $z(n,e,t){return n instanceof Qu?function(i,s){const l={fields:{[K1]:{stringValue:H1},[Q1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Zg(s)&&(s=ey(s)),s&&(l.fields[G1]=s),{mapValue:l}}(t,e):n instanceof el?yx(n,e):n instanceof tl?_x(n,e):function(i,s){const l=gx(i,s),u=CA(l)+CA(i.Ie);return Nw(l)&&Nw(i.Ie)?px(u):v0(i.serializer,u)}(n,e)}function Bz(n,e,t){return n instanceof el?yx(n,e):n instanceof tl?_x(n,e):t}function gx(n,e){return n instanceof Yu?function(r){return Nw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Qu extends ny{}class el extends ny{constructor(e){super(),this.elements=e}}function yx(n,e){const t=vx(e);for(const r of n.elements)t.some(i=>Zi(i,r))||t.push(r);return{arrayValue:{values:t}}}class tl extends ny{constructor(e){super(),this.elements=e}}function _x(n,e){let t=vx(e);for(const r of n.elements)t=t.filter(i=>!Zi(i,r));return{arrayValue:{values:t}}}class Yu extends ny{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function CA(n){return St(n.integerValue||n.doubleValue)}function vx(n){return Nh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t){this.field=e,this.transform=t}}function zz(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof el&&i instanceof el||r instanceof tl&&i instanceof tl?$u(r.elements,i.elements,Zi):r instanceof Yu&&i instanceof Yu?Zi(r.Ie,i.Ie):r instanceof Qu&&i instanceof Qu}(n.transform,e.transform)}class jz{constructor(e,t){this.version=e,this.transformResults=t}}class At{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new At}static exists(e){return new At(void 0,e)}static updateTime(e){return new At(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Am(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ry{}function wx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vc(n.key,At.none()):new _c(n.key,n.data,At.none());{const t=n.data,r=Rn.empty();let i=new lt(Rt.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new js(n.key,r,new ir(i.toArray()),At.none())}}function Wz(n,e,t){n instanceof _c?function(i,s,l){const u=i.value.clone(),d=xA(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof js?function(i,s,l){if(!Am(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=xA(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(Ex(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function hh(n,e,t,r){return n instanceof _c?function(s,l,u,d){if(!Am(s.precondition,l))return u;const h=s.value.clone(),m=OA(s.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof js?function(s,l,u,d){if(!Am(s.precondition,l))return u;const h=OA(s.fieldTransforms,d,l),m=l.data;return m.setAll(Ex(s)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(s,l,u){return Am(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function qz(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=gx(r.transform,i||null);s!=null&&(t===null&&(t=Rn.empty()),t.set(r.field,s))}return t||null}function kA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$u(r,i,(s,l)=>zz(s,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class _c extends ry{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class js extends ry{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ex(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function xA(n,e,t){const r=new Map;Ae(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,Bz(l,u,t[i]))}return r}function OA(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,$z(s,l,e))}return r}class vc extends ry{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w0 extends ry{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Wz(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=hh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=hh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=fx();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(i.key)?null:u;const d=wx(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&$u(this.mutations,e.mutations,(t,r)=>kA(t,r))&&$u(this.baseMutations,e.baseMutations,(t,r)=>kA(t,r))}}class I0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length);let i=function(){return Mz}();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new I0(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,Xe;function Ix(n){switch(n){case te.OK:return Ie();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ie()}}function Tx(n){if(n===void 0)return jt("GRPC error has no .code"),te.UNKNOWN;switch(n){case Yt.OK:return te.OK;case Yt.CANCELLED:return te.CANCELLED;case Yt.UNKNOWN:return te.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return te.INTERNAL;case Yt.UNAVAILABLE:return te.UNAVAILABLE;case Yt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Yt.NOT_FOUND:return te.NOT_FOUND;case Yt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Yt.ABORTED:return te.ABORTED;case Yt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Yt.DATA_LOSS:return te.DATA_LOSS;default:return Ie()}}(Xe=Yt||(Yt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz=new ko([4294967295,4294967295],0);function NA(n){const e=Sx().encode(n),t=new w1;return t.update(e),new Uint8Array(t.digest())}function DA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ko([t,r],0),new ko([i,s],0)]}class S0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Xd(`Invalid padding: ${t}`);if(r<0)throw new Xd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Xd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ko.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(ko.fromNumber(r)));return i.compare(Kz)===1&&(i=new ko([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=NA(e),[r,i]=DA(t);for(let s=0;s<this.hashCount;s++){const l=this.Ae(r,i,s);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new S0(s,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=NA(e),[r,i]=DA(t);for(let s=0;s<this.hashCount;s++){const l=this.Ae(r,i,s);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Xd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,gf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new mf(Ce.min(),i,new mt(Ve),sr(),Ue())}}class gf{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new gf(r,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class Rx{constructor(e,t){this.targetId=e,this.ge=t}}class Ax{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class LA{constructor(){this.pe=0,this.ye=VA(),this.we=Ft.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),r=Ue();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ie()}}),new gf(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=VA()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ae(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Gz{constructor(e){this.ke=e,this.qe=new Map,this.Qe=sr(),this.$e=Qp(),this.Ke=Qp(),this.Ue=new mt(Ve)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const s=i.target;if(ag(s))if(r===0){const l=new _e(s.path);this.ze(t,l,vt.newNoDocument(l,Ce.min()))}else Ae(r===1);else{const l=this.et(t);if(l!==r){const u=this.tt(e),d=u?this.nt(u,e,l):1;if(d!==0){this.Ye(t);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let l,u;try{l=Vs(r).toUint8Array()}catch(d){if(d instanceof q1)return Xi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new S0(l,i,s)}catch(d){return Xi(d instanceof Xd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,s,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((s,l)=>{const u=this.Xe(l);if(u){if(s.current&&ag(u.target)){const d=new _e(u.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,vt.newNoDocument(d,e))}s.ve&&(t.set(l,s.Fe()),s.Me())}});let r=Ue();this.Ke.forEach((s,l)=>{let u=!0;l.forEachWhile(d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.Qe.forEach((s,l)=>l.setReadTime(e));const i=new mf(e,t,this.Ue,this.Qe,r);return this.Qe=sr(),this.$e=Qp(),this.Ke=Qp(),this.Ue=new mt(Ve),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new LA,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new lt(Ve),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new lt(Ve),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new LA),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Qp(){return new mt(_e.comparator)}function VA(){return new mt(_e.comparator)}const Qz={asc:"ASCENDING",desc:"DESCENDING"},Yz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jz={and:"AND",or:"OR"};class Xz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fw(n,e){return n.useProto3Json||uf(e)?e:{value:e}}function Ju(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Zz(n,e){return Ju(n,e.toTimestamp())}function Wt(n){return Ae(!!n),Ce.fromTimestamp(function(t){const r=Ls(t);return new bt(r.seconds,r.nanos)}(n))}function R0(n,e){return Uw(n,e).canonicalString()}function Uw(n,e){const t=function(i){return new je(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Px(n){const e=je.fromString(n);return Ae(Fx(e)),e}function Lh(n,e){return R0(n.databaseId,e.path)}function Ki(n,e){const t=Px(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(xx(t))}function Cx(n,e){return R0(n.databaseId,e)}function kx(n){const e=Px(n);return e.length===4?je.emptyPath():xx(e)}function $w(n){return new je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xx(n){return Ae(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function MA(n,e,t){return{name:Lh(n,e),fields:t.value.mapValue.fields}}function Ox(n,e,t){const r=Ki(n,e.name),i=Wt(e.updateTime),s=e.createTime?Wt(e.createTime):Ce.min(),l=new Rn({mapValue:{fields:e.fields}}),u=vt.newFoundDocument(r,i,s,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function ej(n,e){return"found"in e?function(r,i){Ae(!!i.found),i.found.name,i.found.updateTime;const s=Ki(r,i.found.name),l=Wt(i.found.updateTime),u=i.found.createTime?Wt(i.found.createTime):Ce.min(),d=new Rn({mapValue:{fields:i.found.fields}});return vt.newFoundDocument(s,l,u,d)}(n,e):"missing"in e?function(r,i){Ae(!!i.missing),Ae(!!i.readTime);const s=Ki(r,i.missing),l=Wt(i.readTime);return vt.newNoDocument(s,l)}(n,e):Ie()}function tj(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,m){return h.useProto3Json?(Ae(m===void 0||typeof m=="string"),Ft.fromBase64String(m||"")):(Ae(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Ft.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const m=h.code===void 0?te.UNKNOWN:Tx(h.code);return new ae(m,h.message||"")}(l);t=new Ax(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ki(n,r.document.name),s=Wt(r.document.updateTime),l=r.document.createTime?Wt(r.document.createTime):Ce.min(),u=new Rn({mapValue:{fields:r.document.fields}}),d=vt.newFoundDocument(i,s,l,u),h=r.targetIds||[],m=r.removedTargetIds||[];t=new bm(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ki(n,r.document),s=r.readTime?Wt(r.readTime):Ce.min(),l=vt.newNoDocument(i,s),u=r.removedTargetIds||[];t=new bm([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ki(n,r.document),s=r.removedTargetIds||[];t=new bm([],s,i,null)}else{if(!("filter"in e))return Ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new Hz(i,s),u=r.targetId;t=new Rx(u,l)}}return t}function Vh(n,e){let t;if(e instanceof _c)t={update:MA(n,e.key,e.value)};else if(e instanceof vc)t={delete:Lh(n,e.key)};else if(e instanceof js)t={update:MA(n,e.key,e.data),updateMask:aj(e.fieldMask)};else{if(!(e instanceof w0))return Ie();t={verify:Lh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const u=l.transform;if(u instanceof Qu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof el)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof tl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Yu)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Ie()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Zz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ie()}(n,e.precondition)),t}function Bw(n,e){const t=e.currentDocument?function(s){return s.updateTime!==void 0?At.updateTime(Wt(s.updateTime)):s.exists!==void 0?At.exists(s.exists):At.none()}(e.currentDocument):At.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let d=null;if("setToServerValue"in u)Ae(u.setToServerValue==="REQUEST_TIME"),d=new Qu;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];d=new el(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];d=new tl(m)}else"increment"in u?d=new Yu(l,u.increment):Ie();const h=Rt.fromServerFormat(u.fieldPath);return new pf(h,d)}(n,i)):[];if(e.update){e.update.name;const i=Ki(n,e.update.name),s=new Rn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(d){const h=d.fieldPaths||[];return new ir(h.map(m=>Rt.fromServerFormat(m)))}(e.updateMask);return new js(i,s,l,t,r)}return new _c(i,s,t,r)}if(e.delete){const i=Ki(n,e.delete);return new vc(i,t)}if(e.verify){const i=Ki(n,e.verify);return new w0(i,t)}return Ie()}function nj(n,e){return n&&n.length>0?(Ae(e!==void 0),n.map(t=>function(i,s){let l=i.updateTime?Wt(i.updateTime):Wt(s);return l.isEqual(Ce.min())&&(l=Wt(s)),new jz(l,i.transformResults||[])}(t,e))):[]}function Nx(n,e){return{documents:[Cx(n,e.path)]}}function Dx(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Cx(n,i);const s=function(h){if(h.length!==0)return Mx(at.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const l=function(h){if(h.length!==0)return h.map(m=>function(_){return{field:Iu(_.field),direction:ij(_.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Fw(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:i}}function Lx(n){let e=kx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ae(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(g){const _=Vx(g);return _ instanceof at&&g0(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(_=>function(I){return new Dh(Tu(I.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(g){let _;return _=typeof g=="object"?g.value:g,uf(_)?null:_}(t.limit));let d=null;t.startAt&&(d=function(g){const _=!!g.before,T=g.values||[];return new $o(T,_)}(t.startAt));let h=null;return t.endAt&&(h=function(g){const _=!g.before,T=g.values||[];return new $o(T,_)}(t.endAt)),ax(e,i,l,s,u,"F",d,h)}function rj(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Vx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Tu(t.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tu(t.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Tu(t.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Tu(t.unaryFilter.field);return We.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(n):n.fieldFilter!==void 0?function(t){return We.create(Tu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return at.create(t.compositeFilter.filters.map(r=>Vx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}}(t.compositeFilter.op))}(n):Ie()}function ij(n){return Qz[n]}function sj(n){return Yz[n]}function oj(n){return Jz[n]}function Iu(n){return{fieldPath:n.canonicalString()}}function Tu(n){return Rt.fromServerFormat(n.fieldPath)}function Mx(n){return n instanceof We?function(t){if(t.op==="=="){if(EA(t.value))return{unaryFilter:{field:Iu(t.field),op:"IS_NAN"}};if(wA(t.value))return{unaryFilter:{field:Iu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(EA(t.value))return{unaryFilter:{field:Iu(t.field),op:"IS_NOT_NAN"}};if(wA(t.value))return{unaryFilter:{field:Iu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(t.field),op:sj(t.op),value:t.value}}}(n):n instanceof at?function(t){const r=t.getFilters().map(i=>Mx(i));return r.length===1?r[0]:{compositeFilter:{op:oj(t.op),filters:r}}}(n):Ie()}function aj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Fx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,r,i,s=Ce.min(),l=Ce.min(),u=Ft.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.Tt=e}}function lj(n,e){let t;if(e.document)t=Ox(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=rl(e.noDocument.readTime);t=vt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ie();{const r=_e.fromSegments(e.unknownDocument.path),i=rl(e.unknownDocument.version);t=vt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new bt(i[0],i[1]);return Ce.fromTimestamp(s)}(e.readTime)),t}function FA(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:cg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,l){return{name:Lh(s,l.key),fields:l.data.value.mapValue.fields,updateTime:Ju(s,l.version.toTimestamp()),createTime:Ju(s,l.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:nl(e.version)};else{if(!e.isUnknownDocument())return Ie();r.unknownDocument={path:t.path.toArray(),version:nl(e.version)}}return r}function cg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function nl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function rl(n){const e=new bt(n.seconds,n.nanoseconds);return Ce.fromTimestamp(e)}function Va(n,e){const t=(e.baseMutations||[]).map(s=>Bw(n.Tt,s));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const u=e.mutations[s+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Bw(n.Tt,s)),i=bt.fromMillis(e.localWriteTimeMs);return new E0(e.batchId,i,t,r)}function Zd(n){const e=rl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?rl(n.lastLimboFreeSnapshotVersion):Ce.min();let r;return r=function(s){return s.documents!==void 0}(n.query)?function(s){return Ae(s.documents.length===1),Wn(yc(kx(s.documents[0])))}(n.query):function(s){return Wn(Lx(s))}(n.query),new Ps(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ft.fromBase64String(n.resumeToken))}function $x(n,e){const t=nl(e.snapshotVersion),r=nl(e.lastLimboFreeSnapshotVersion);let i;i=ag(e.target)?Nx(n.Tt,e.target):Dx(n.Tt,e.target).ht;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Za(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function A0(n){const e=Lx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ug(e,e.limit,"L"):e}function Dv(n,e){return new T0(e.largestBatchId,Bw(n.Tt,e.overlayMutation))}function UA(n,e){const t=e.path.lastSegment();return[n,Vn(e.path.popLast()),t]}function $A(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:nl(r.readTime),documentKey:Vn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{getBundleMetadata(e,t){return BA(e).get(t).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:rl(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,t){return BA(e).put(function(i){return{bundleId:i.id,createTime:nl(Wt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return zA(e).get(t).next(r=>{if(r)return function(s){return{name:s.name,query:A0(s.bundledQuery),readTime:rl(s.readTime)}}(r)})}saveNamedQuery(e,t){return zA(e).put(function(i){return{name:i.name,readTime:nl(Wt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function BA(n){return un(n,Yg)}function zA(n){return un(n,Jg)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new iy(e,r)}getOverlay(e,t){return Pd(e).get(UA(this.userId,t)).next(r=>r?Dv(this.serializer,r):null)}getOverlays(e,t){const r=ji();return G.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,l)=>{const u=new T0(t,l);i.push(this.Et(e,u))}),G.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Vn(l.getCollectionPath())));const s=[];return i.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(Pd(e).J(Cw,u))}),G.waitFor(s)}getOverlaysForCollection(e,t,r){const i=ji(),s=Vn(t),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Pd(e).G(Cw,l).next(u=>{for(const d of u){const h=Dv(this.serializer,d);i.set(h.getKey(),h)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=ji();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Pd(e).Z({index:$1,range:u},(d,h,m)=>{const g=Dv(this.serializer,h);s.size()<i||g.largestBatchId===l?(s.set(g.getKey(),g),l=g.largestBatchId):m.done()}).next(()=>s)}Et(e,t){return Pd(e).put(function(i,s,l){const[u,d,h]=UA(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:h,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Vh(i.Tt,l.mutation)}}(this.serializer,this.userId,t))}}function Pd(n){return un(n,Xg)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{dt(e){return un(e,h0)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Ft.fromUint8Array(r):Ft.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(St(e.integerValue));else if("doubleValue"in e){const r=St(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),bh(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Ls(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Vs(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?J1(e)?this.ft(t,Number.MAX_SAFE_INTEGER):ty(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):Ie()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const s=e.fields||{};this.ft(t,53);const l=Hu,u=((i=(r=s[l].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(St(u)),this.wt(l,t),this.Rt(s[l],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}Ma.xt=new Ma;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=255;function dj(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function jA(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const l=dj(255&r[s]);if(i+=l,l!==8)break}return i}(n);return Math.ceil(e/8)}class hj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=jA(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=jA(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(au),this.jt(255)}Ht(){this.Jt(au),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===au?(this.jt(au),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===au?(this.Jt(au),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class fj{constructor(e){this.Zt=e}St(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class pj{constructor(e){this.Zt=e}St(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class Cd{constructor(){this.Zt=new hj,this.Xt=new fj(this.Zt),this.en=new pj(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Fa(this.indexId,this.documentKey,this.arrayValue,r)}}function vo(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=WA(n.arrayValue,e.arrayValue),t!==0?t:(t=WA(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function WA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.rn=new lt((t,r)=>Rt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Ae(e.collectionGroup===this.collectionId),this.an)return!1;const t=Aw(e);if(t!==void 0&&!this.cn(t))return!1;const r=Na(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.cn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.rn.size>0){const u=this.rn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const d=r[s];if(!this.ln(u,d)||!this.hn(this.sn[l++],d))return!1}++s}for(;s<r.length;++s){const u=r[s];if(l>=this.sn.length||!this.hn(this.sn[l++],u))return!1}return!0}Pn(){if(this.an)return null;let e=new lt(Rt.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new wm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new wm(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new wm(r.field,r.dir==="asc"?0:1)));return new tg(tg.UNKNOWN_ID,this.collectionId,t,Ah.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(n){var e,t;if(Ae(n instanceof We||n instanceof at),n instanceof We){if(n instanceof ox){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>We.create(n.field,"==",s)))||[];return at.create(i,"or")}return n}const r=n.filters.map(i=>Bx(i));return at.create(r,n.op)}function mj(n){if(n.getFilters().length===0)return[];const e=Ww(Bx(n));return Ae(zx(e)),zw(e)||jw(e)?[e]:e.getFilters()}function zw(n){return n instanceof We}function jw(n){return n instanceof at&&g0(n)}function zx(n){return zw(n)||jw(n)||function(t){if(t instanceof at&&Dw(t)){for(const r of t.getFilters())if(!zw(r)&&!jw(r))return!1;return!0}return!1}(n)}function Ww(n){if(Ae(n instanceof We||n instanceof at),n instanceof We)return n;if(n.filters.length===1)return Ww(n.filters[0]);const e=n.filters.map(r=>Ww(r));let t=at.create(e,n.op);return t=dg(t),zx(t)?t:(Ae(t instanceof at),Ae(Gu(t)),Ae(t.filters.length>1),t.filters.reduce((r,i)=>b0(r,i)))}function b0(n,e){let t;return Ae(n instanceof We||n instanceof at),Ae(e instanceof We||e instanceof at),t=n instanceof We?e instanceof We?function(i,s){return at.create([i,s],"and")}(n,e):HA(n,e):e instanceof We?HA(e,n):function(i,s){if(Ae(i.filters.length>0&&s.filters.length>0),Gu(i)&&Gu(s))return rx(i,s.getFilters());const l=Dw(i)?i:s,u=Dw(i)?s:i,d=l.filters.map(h=>b0(h,u));return at.create(d,"or")}(n,e),dg(t)}function HA(n,e){if(Gu(e))return rx(e,n.getFilters());{const t=e.filters.map(r=>b0(n,r));return at.create(t,"or")}}function dg(n){if(Ae(n instanceof We||n instanceof at),n instanceof We)return n;const e=n.getFilters();if(e.length===1)return dg(e[0]);if(tx(n))return n;const t=e.map(i=>dg(i)),r=[];return t.forEach(i=>{i instanceof We?r.push(i):i instanceof at&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:at.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.Tn=new P0}addToCollectionParentIndex(e,t){return this.Tn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(br.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(br.min())}updateCollectionGroup(e,t,r){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class P0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new lt(je.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="IndexedDbIndexManager",Yp=new Uint8Array(0);class yj{constructor(e,t){this.databaseId=t,this.In=new P0,this.En=new zs(r=>Za(r),(r,i)=>df(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const s={collectionId:r,parent:Vn(i)};return GA(e).put(s)}return G.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[P1(t),""],!1,!0);return GA(e).G(i).next(s=>{for(const l of s){if(l.collectionId!==t)break;r.push(zi(l.parent))}return r})}addFieldIndex(e,t){const r=kd(e),i=function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const s=r.add(i);if(t.indexState){const l=uu(e);return s.next(u=>{l.put($A(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=kd(e),i=uu(e),s=lu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=kd(e),r=lu(e),i=uu(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return G.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new qA(r).Pn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=lu(e);let i=!0;const s=new Map;return G.forEach(this.dn(t),l=>this.An(e,l).next(u=>{i&&(i=!!u),s.set(l,u)})).next(()=>{if(i){let l=Ue();const u=[];return G.forEach(s,(d,h)=>{ue(KA,`Using index ${function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(z=>`${z.fieldPath}:${z.kind}`).join(",")}`}(d)} to execute ${Za(t)}`);const m=function(M,z){const B=Aw(z);if(B===void 0)return null;for(const W of lg(M,B.fieldPath))switch(W.op){case"array-contains-any":return W.value.arrayValue.values||[];case"array-contains":return[W.value]}return null}(h,d),g=function(M,z){const B=new Map;for(const W of Na(z))for(const D of lg(M,W.fieldPath))switch(D.op){case"==":case"in":B.set(W.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return B.set(W.fieldPath.canonicalString(),D.value),Array.from(B.values())}return null}(h,d),_=function(M,z){const B=[];let W=!0;for(const D of Na(z)){const A=D.kind===0?AA(M,D.fieldPath,M.startAt):bA(M,D.fieldPath,M.startAt);B.push(A.value),W&&(W=A.inclusive)}return new $o(B,W)}(h,d),T=function(M,z){const B=[];let W=!0;for(const D of Na(z)){const A=D.kind===0?bA(M,D.fieldPath,M.endAt):AA(M,D.fieldPath,M.endAt);B.push(A.value),W&&(W=A.inclusive)}return new $o(B,W)}(h,d),I=this.Rn(d,h,_),R=this.Rn(d,h,T),b=this.Vn(d,h,g),V=this.mn(d.indexId,m,I,_.inclusive,R,T.inclusive,b);return G.forEach(V,L=>r.H(L,t.limit).next(M=>{M.forEach(z=>{const B=_e.fromSegments(z.documentKey);l.has(B)||(l=l.add(B),u.push(B))})}))}).next(()=>u)}return G.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=mj(at.create(e.filters,"and")).map(r=>Vw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,s,l,u){const d=(t!=null?t.length:1)*Math.max(r.length,s.length),h=d/(t!=null?t.length:1),m=[];for(let g=0;g<d;++g){const _=t?this.fn(t[g/h]):Yp,T=this.gn(e,_,r[g%h],i),I=this.pn(e,_,s[g%h],l),R=u.map(b=>this.gn(e,_,b,!0));m.push(...this.createRange(T,I,R))}return m}gn(e,t,r,i){const s=new Fa(e,_e.empty(),t,r);return i?s:s.nn()}pn(e,t,r,i){const s=new Fa(e,_e.empty(),t,r);return i?s.nn():s}An(e,t){const r=new qA(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let l=null;for(const u of s)r.un(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(e,t){let r=2;const i=this.dn(t);return G.forEach(i,s=>this.An(e,s).next(l=>{l?r!==0&&l.fields.length<function(d){let h=new lt(Rt.comparator),m=!1;for(const g of d.filters)for(const _ of g.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?m=!0:h=h.add(_.field));for(const g of d.orderBy)g.field.isKeyField()||(h=h.add(g.field));return h.size+(m?1:0)}(s)&&(r=1):r=0})).next(()=>function(l){return l.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new Cd;for(const i of Na(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const l=r.tn(i.kind);Ma.xt.At(s,l)}return r.Yt()}fn(e){const t=new Cd;return Ma.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new Cd;return Ma.xt.At(Xa(this.databaseId,t),r.tn(function(s){const l=Na(s);return l.length===0?0:l[l.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new Cd);let s=0;for(const l of Na(e)){const u=r[s++];for(const d of i)if(this.bn(t,l.fieldPath)&&Nh(u))i=this.Sn(i,l,u);else{const h=d.tn(l.kind);Ma.xt.At(u,h)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}Sn(e,t,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const u of i){const d=new Cd;d.seed(u.Yt()),Ma.xt.At(l,d.tn(t.kind)),s.push(d)}return s}bn(e,t){return!!e.filters.find(r=>r instanceof We&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=kd(e),i=uu(e);return(t?r.G(Pw,IDBKeyRange.bound(t,t)):r.G()).next(s=>{const l=[];return G.forEach(s,u=>i.get([u.indexId,this.uid]).next(d=>{l.push(function(m,g){const _=g?new Ah(g.sequenceNumber,new br(rl(g.readTime),new _e(zi(g.documentKey)),g.largestBatchId)):Ah.empty(),T=m.fields.map(([I,R])=>new wm(Rt.fromServerFormat(I),R));return new tg(m.indexId,m.collectionGroup,T,_)}(u,d))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ve(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=kd(e),s=uu(e);return this.vn(e).next(l=>i.G(Pw,IDBKeyRange.bound(t,t)).next(u=>G.forEach(u,d=>s.put($A(d.indexId,this.uid,l,r)))))}updateIndexEntries(e,t){const r=new Map;return G.forEach(t,(i,s)=>{const l=r.get(i.collectionGroup);return(l?G.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),G.forEach(u,d=>this.Cn(e,i,d).next(h=>{const m=this.Fn(s,d);return h.isEqual(m)?G.resolve():this.Mn(e,s,d,h,m)}))))})}xn(e,t,r,i){return lu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return lu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=lu(e);let s=new lt(vo);return i.Z({index:U1,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(l,u)=>{s=s.add(new Fa(r.indexId,t,u.arrayValue,u.directionalValue))}).next(()=>s)}Fn(e,t){let r=new lt(vo);const i=this.yn(t,e);if(i==null)return r;const s=Aw(t);if(s!=null){const l=e.data.field(s.fieldPath);if(Nh(l))for(const u of l.arrayValue.values||[])r=r.add(new Fa(t.indexId,e.key,this.fn(u),i))}else r=r.add(new Fa(t.indexId,e.key,Yp,i));return r}Mn(e,t,r,i,s){ue(KA,"Updating index entries for document '%s'",t.key);const l=[];return function(d,h,m,g,_){const T=d.getIterator(),I=h.getIterator();let R=ou(T),b=ou(I);for(;R||b;){let V=!1,L=!1;if(R&&b){const M=m(R,b);M<0?L=!0:M>0&&(V=!0)}else R!=null?L=!0:V=!0;V?(g(b),b=ou(I)):L?(_(R),R=ou(T)):(R=ou(T),b=ou(I))}}(i,s,vo,u=>{l.push(this.xn(e,t,r,u))},u=>{l.push(this.On(e,t,r,u))}),G.waitFor(l)}vn(e){let t=1;return uu(e).Z({index:F1,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,u)=>vo(l,u)).filter((l,u,d)=>!u||vo(l,d[u-1])!==0);const i=[];i.push(e);for(const l of r){const u=vo(l,e),d=vo(l,t);if(u===0)i[0]=e.nn();else if(u>0&&d<0)i.push(l),i.push(l.nn());else if(d>0)break}i.push(t);const s=[];for(let l=0;l<i.length;l+=2){if(this.Nn(i[l],i[l+1]))return[];const u=[i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Yp,[]],d=[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Yp,[]];s.push(IDBKeyRange.bound(u,d))}return s}Nn(e,t){return vo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(QA)}getMinOffset(e,t){return G.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||Ie())).next(QA)}}function GA(n){return un(n,kh)}function lu(n){return un(n,og)}function kd(n){return un(n,d0)}function uu(n){return un(n,sg)}function QA(n){Ae(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;l0(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new br(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jx=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(n,e,t){const r=n.store(di),i=n.store(zu),s=[],l=IDBKeyRange.only(t.batchId);let u=0;const d=r.Z({range:l},(m,g,_)=>(u++,_.delete()));s.push(d.next(()=>{Ae(u===1)}));const h=[];for(const m of t.mutations){const g=L1(e,m.key.path,t.batchId);s.push(i.delete(g)),h.push(m.key)}return G.waitFor(s).next(()=>h)}function hg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ie();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(jx,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class sy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Ae(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new sy(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wo(e).Z({index:Ba,range:r},(i,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Su(e),l=wo(e);return l.add({}).next(u=>{Ae(typeof u=="number");const d=new E0(u,t,r,i),h=function(T,I,R){const b=R.baseMutations.map(L=>Vh(T.Tt,L)),V=R.mutations.map(L=>Vh(T.Tt,L));return{userId:I,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:b,mutations:V}}(this.serializer,this.userId,d),m=[];let g=new lt((_,T)=>Ve(_.canonicalString(),T.canonicalString()));for(const _ of i){const T=L1(this.userId,_.key.path,u);g=g.add(_.key.path.popLast()),m.push(l.put(h)),m.push(s.put(T,J3))}return g.forEach(_=>{m.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.Bn[u]=d.keys()}),G.waitFor(m).next(()=>d)})}lookupMutationBatch(e,t){return wo(e).get(t).next(r=>r?(Ae(r.userId===this.userId),Va(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?G.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return wo(e).Z({index:Ba,range:i},(l,u,d)=>{u.userId===this.userId&&(Ae(u.batchId>=r),s=Va(this.serializer,u)),d.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=xo;return wo(e).Z({index:Ba,range:t,reverse:!0},(i,s,l)=>{r=s.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,xo],[this.userId,Number.POSITIVE_INFINITY]);return wo(e).G(Ba,t).next(r=>r.map(i=>Va(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Em(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Su(e).Z({range:i},(l,u,d)=>{const[h,m,g]=l,_=zi(m);if(h===this.userId&&t.path.isEqual(_))return wo(e).get(g).next(T=>{if(!T)throw Ie();Ae(T.userId===this.userId),s.push(Va(this.serializer,T))});d.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(Ve);const i=[];return t.forEach(s=>{const l=Em(this.userId,s.path),u=IDBKeyRange.lowerBound(l),d=Su(e).Z({range:u},(h,m,g)=>{const[_,T,I]=h,R=zi(T);_===this.userId&&s.path.isEqual(R)?r=r.add(I):g.done()});i.push(d)}),G.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Em(this.userId,r),l=IDBKeyRange.lowerBound(s);let u=new lt(Ve);return Su(e).Z({range:l},(d,h,m)=>{const[g,_,T]=d,I=zi(_);g===this.userId&&r.isPrefixOf(I)?I.length===i&&(u=u.add(T)):m.done()}).next(()=>this.kn(e,u))}kn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(wo(e).get(s).next(l=>{if(l===null)throw Ie();Ae(l.userId===this.userId),r.push(Va(this.serializer,l))}))}),G.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Wx(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),G.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return G.resolve();const r=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),i=[];return Su(e).Z({range:r},(s,l,u)=>{if(s[0]===this.userId){const d=zi(s[1]);i.push(d)}else u.done()}).next(()=>{Ae(i.length===0)})})}containsKey(e,t){return qx(e,this.userId,t)}Qn(e){return Hx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:xo,lastStreamToken:""})}}function qx(n,e,t){const r=Em(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Su(n).Z({range:s,Y:!0},(u,d,h)=>{const[m,g,_]=u;m===e&&g===i&&(l=!0),h.done()}).next(()=>l)}function wo(n){return un(n,di)}function Su(n){return un(n,zu)}function Hx(n){return un(n,Ph)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new il(0)}static Un(){return new il(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new il(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>Ce.fromTimestamp(new bt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>cu(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Ae(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return cu(e).Z((l,u)=>{const d=Zd(u);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))}).next(()=>G.waitFor(s)).next(()=>i)}forEachTarget(e,t){return cu(e).Z((r,i)=>{const s=Zd(i);t(s)})}Wn(e){return JA(e).get(ig).next(t=>(Ae(t!==null),t))}Gn(e,t){return JA(e).put(ig,t)}zn(e,t){return cu(e).put($x(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Za(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return cu(e).Z({range:i,index:M1},(l,u,d)=>{const h=Zd(u);df(t,h.target)&&(s=h,d.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=So(e);return t.forEach(l=>{const u=Vn(l.path);i.push(s.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))}),G.waitFor(i)}removeMatchingKeys(e,t,r){const i=So(e);return G.forEach(t,s=>{const l=Vn(s.path);return G.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=So(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=So(e);let s=Ue();return i.Z({range:r,Y:!0},(l,u,d)=>{const h=zi(l[1]),m=new _e(h);s=s.add(m)}).next(()=>s)}containsKey(e,t){const r=Vn(t.path),i=IDBKeyRange.bound([r],[P1(r)],!1,!0);let s=0;return So(e).Z({index:c0,Y:!0,range:i},([l,u],d,h)=>{l!==0&&(s++,h.done())}).next(()=>s>0)}lt(e,t){return cu(e).get(t).next(r=>r?Zd(r):null)}}function cu(n){return un(n,ju)}function JA(n){return un(n,Ka)}function So(n){return un(n,Wu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="LruGarbageCollector",vj=1048576;function ZA([n,e],[t,r]){const i=Ve(n,t);return i===0?Ve(e,r):i}class wj{constructor(e){this.Hn=e,this.buffer=new lt(ZA),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ZA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Kx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(XA,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?ue(XA,"Ignoring IndexedDB error during garbage collection: ",t):await Xo(t)}await this.er(3e5)})}}class Ej{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return G.resolve(rr.ae);const r=new wj(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(YA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YA):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,l,u,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),wu()<=$e.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function Gx(n,e){return new Ej(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,t){this.db=e,this.garbageCollector=Gx(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return Jp(e,r)}removeReference(e,t,r){return Jp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Jp(e,t)}ar(e,t){return function(i,s){let l=!1;return Hx(i).X(u=>qx(i,u,s).next(d=>(d&&(l=!0),G.resolve(!d)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this._r(e,(l,u)=>{if(u<=t){const d=this.ar(e,l).next(h=>{if(!h)return s++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Ce.min()),So(e).delete(function(g){return[0,Vn(g.path)]}(l))))});i.push(d)}}).next(()=>G.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Jp(e,t)}_r(e,t){const r=So(e);let i,s=rr.ae;return r.Z({index:c0},([l,u],{path:d,sequenceNumber:h})=>{l===0?(s!==rr.ae&&t(new _e(zi(i)),s),s=h,i=d):s=rr.ae}).next(()=>{s!==rr.ae&&t(new _e(zi(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jp(n,e){return So(n).put(function(r,i){return{targetId:0,path:Vn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.changes=new zs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?G.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ka(e).put(r)}removeEntry(e,t,r){return ka(e).delete(function(s,l){const u=s.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],cg(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=vt.newInvalidDocument(t);return ka(e).Z({index:Im,range:IDBKeyRange.only(xd(t))},(i,s)=>{r=this.cr(t,s)}).next(()=>r)}lr(e,t){let r={size:0,document:vt.newInvalidDocument(t)};return ka(e).Z({index:Im,range:IDBKeyRange.only(xd(t))},(i,s)=>{r={document:this.cr(t,s),size:hg(s)}}).next(()=>r)}getEntries(e,t){let r=sr();return this.hr(e,t,(i,s)=>{const l=this.cr(i,s);r=r.insert(i,l)}).next(()=>r)}Pr(e,t){let r=sr(),i=new mt(_e.comparator);return this.hr(e,t,(s,l)=>{const u=this.cr(s,l);r=r.insert(s,u),i=i.insert(s,hg(l))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return G.resolve();let i=new lt(nb);t.forEach(d=>i=i.add(d));const s=IDBKeyRange.bound(xd(i.first()),xd(i.last())),l=i.getIterator();let u=l.getNext();return ka(e).Z({index:Im,range:s},(d,h,m)=>{const g=_e.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;u&&nb(u,g)<0;)r(u,null),u=l.getNext();u&&u.isEqual(g)&&(r(u,h),u=l.hasNext()?l.getNext():null),u?m.W(xd(u)):m.done()}).next(()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),cg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ka(e).G(IDBKeyRange.bound(u,d,!0)).next(h=>{s==null||s.incrementDocumentReadCount(h.length);let m=sr();for(const g of h){const _=this.cr(_e.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);_.isFoundDocument()&&(ff(t,_)||i.has(_.key))&&(m=m.insert(_.key,_))}return m})}getAllFromCollectionGroup(e,t,r,i){let s=sr();const l=tb(t,r),u=tb(t,br.max());return ka(e).Z({index:V1,range:IDBKeyRange.bound(l,u,!0)},(d,h,m)=>{const g=this.cr(_e.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(g.key,g),s.size===i&&m.done()}).next(()=>s)}newChangeBuffer(e){return new Sj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return eb(e).get(bw).next(t=>(Ae(!!t),t))}ur(e,t){return eb(e).put(bw,t)}cr(e,t){if(t){const r=lj(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ce.min())))return r}return vt.newInvalidDocument(e)}}function Yx(n){return new Tj(n)}class Sj extends Qx{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new zs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new lt((s,l)=>Ve(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const u=this.Er.get(s);if(t.push(this.Ir.removeEntry(e,s,u.readTime)),l.isValidDocument()){const d=FA(this.Ir.serializer,l);i=i.add(s.path.popLast());const h=hg(d);r+=h-u.size,t.push(this.Ir.addEntry(e,s,d))}else if(r-=u.size,this.trackRemovals){const d=FA(this.Ir.serializer,l.convertToNoDocument(Ce.min()));t.push(this.Ir.addEntry(e,s,d))}}),i.forEach(s=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Ir.updateMetadata(e,r)),G.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((s,l)=>{this.Er.set(s,{size:l,readTime:r.get(s).readTime})}),r))}}function eb(n){return un(n,Ch)}function ka(n){return un(n,rg)}function xd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function tb(n,e){const t=e.documentKey.path.toArray();return[n,cg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function nb(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Ve(t[s],r[s]),i)return i;return i=Ve(t.length,r.length),i||(i=Ve(t[t.length-2],r[r.length-2]),i||Ve(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&hh(r.mutation,i,ir.empty(),bt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ue()){const i=ji();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let l=Jd();return s.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=ji();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ue()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let s=sr();const l=dh(),u=function(){return dh()}();return t.forEach((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof js)?s=s.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),hh(m.mutation,h,m.mutation.getFieldMask(),bt.now())):l.set(h.key,ir.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((h,m)=>l.set(h,m)),t.forEach((h,m)=>{var g;return u.set(h,new Rj(m,(g=l.get(h))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const r=dh();let i=new mt((l,u)=>l-u),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const h=t.get(d);if(h===null)return;let m=r.get(d)||ir.empty();m=u.applyToLocalView(h,m),r.set(d,m);const g=(i.get(u.batchId)||Ue()).add(d);i=i.insert(u.batchId,g)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,m=d.value,g=fx();m.forEach(_=>{if(!s.has(_)){const T=wx(t.get(_),r.get(_));T!==null&&g.set(_,T),s=s.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return G.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):y0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):G.resolve(ji());let u=Bu,d=s;return l.next(h=>G.forEach(h,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(m)?G.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,d,h,Ue())).next(m=>({batchId:u,changes:hx(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=Jd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let l=Jd();return this.indexManager.getCollectionParents(e,s).next(u=>G.forEach(u,d=>{const h=function(g,_){return new Bs(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((g,_)=>{l=l.insert(g,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(l=>{s.forEach((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,vt.newInvalidDocument(m)))});let u=Jd();return l.forEach((d,h)=>{const m=s.get(d);m!==void 0&&hh(m.mutation,h,ir.empty(),bt.now()),ff(t,h)&&(u=u.insert(d,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return G.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Wt(i.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:A0(i.bundledQuery),readTime:Wt(i.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(){this.overlays=new mt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ji();return G.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Et(e,t,s)}),G.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),G.resolve()}getOverlaysForCollection(e,t,r){const i=ji(),s=t.length+1,l=new _e(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return G.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new mt((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=s.get(h.largestBatchId);m===null&&(m=ji(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=ji(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=i)););return G.resolve(u)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new T0(t,r));let s=this.Rr.get(t);s===void 0&&(s=Ue(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.Vr=new lt(mn.mr),this.gr=new lt(mn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new mn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new mn(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new _e(new je([])),r=new mn(t,e),i=new mn(t,e+1),s=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),s.push(l.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new je([])),r=new mn(t,e),i=new mn(t,e+1);let s=Ue();return this.gr.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new mn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class mn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Ve(e.Cr,t.Cr)}static pr(e,t){return Ve(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new lt(mn.mr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new E0(s,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Mr=this.Mr.add(new mn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return G.resolve(l)}lookupMutationBatch(e,t){return G.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),s=i<0?0:i;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?xo:this.Fr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new mn(t,0),i=new mn(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],l=>{const u=this.Or(l.Cr);s.push(u)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(Ve);return t.forEach(i=>{const s=new mn(i,0),l=new mn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,l],u=>{r=r.add(u.Cr)})}),G.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const l=new mn(new _e(s),0);let u=new lt(Ve);return this.Mr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Cr)),!0)},l),G.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return G.forEach(t.mutations,i=>{const s=new mn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new mn(t,0),i=this.Mr.firstAfterOrEqual(r);return G.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.kr=e,this.docs=function(){return new mt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return G.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(t))}getEntries(e,t){let r=sr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vt.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=sr();const l=t.path,u=new _e(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||l0(k1(m),r)<=0||(i.has(m.key)||ff(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ie()}qr(e,t){return G.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new xj(this)}getSize(e){return G.resolve(this.size)}}class xj extends Qx{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),G.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.persistence=e,this.Qr=new zs(t=>Za(t),df),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Kr=new C0,this.targetCount=0,this.Ur=il.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),G.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new il(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.zn(t),G.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),G.waitFor(s).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return G.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),G.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return G.resolve(r)}containsKey(e,t){return G.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new rr(0),this.zr=!1,this.zr=!0,this.jr=new Pj,this.referenceDelegate=e(this),this.Hr=new Oj(this),this.indexManager=new gj,this.remoteDocumentCache=function(i){return new kj(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Ux(t),this.Yr=new Aj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new Cj(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const i=new Nj(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,t){return G.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class Nj extends O1{constructor(e){super(),this.currentSequenceNumber=e}}class oy{constructor(e){this.persistence=e,this.ti=new C0,this.ni=null}static ri(e){return new oy(e)}get ii(){if(this.ni)return this.ni;throw Ie()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),G.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),G.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(s=>{s||t.removeEntry(i,Ce.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return G.or([()=>G.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class fg{constructor(e,t){this.persistence=e,this.oi=new zs(r=>Vn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Gx(this,t)}static ri(e,t){return new fg(e,t)}Zr(){}Xr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return G.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?G.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(u=>{u||(r++,s.removeEntry(l,Ce.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sm(e.data.value)),t}ar(e,t,r){return G.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return G.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.serializer=e}B(e,t,r,i){const s=new Qg("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(cf)}(e),function(d){d.createObjectStore(Ph,{keyPath:Y3}),d.createObjectStore(di,{keyPath:pA,autoIncrement:!0}).createIndex(Ba,mA,{unique:!0}),d.createObjectStore(zu)}(e),rb(e),function(d){d.createObjectStore(Da)}(e));let l=G.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(Wu),d.deleteObjectStore(ju),d.deleteObjectStore(Ka)}(e),rb(e)),l=l.next(()=>function(d){const h=d.store(Ka),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ce.min().toTimestamp(),targetCount:0};return h.put(ig,m)}(s))),r<4&&i>=4&&(r!==0&&(l=l.next(()=>function(d,h){return h.store(di).G().next(g=>{d.deleteObjectStore(di),d.createObjectStore(di,{keyPath:pA,autoIncrement:!0}).createIndex(Ba,mA,{unique:!0});const _=h.store(di),T=g.map(I=>_.put(I));return G.waitFor(T)})}(e,s))),l=l.next(()=>{(function(d){d.createObjectStore(qu,{keyPath:sz})})(e)})),r<5&&i>=5&&(l=l.next(()=>this._i(s))),r<6&&i>=6&&(l=l.next(()=>(function(d){d.createObjectStore(Ch)}(e),this.ai(s)))),r<7&&i>=7&&(l=l.next(()=>this.ui(s))),r<8&&i>=8&&(l=l.next(()=>this.ci(e,s))),r<9&&i>=9&&(l=l.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(l=l.next(()=>this.li(s))),r<11&&i>=11&&(l=l.next(()=>{(function(d){d.createObjectStore(Yg,{keyPath:oz})})(e),function(d){d.createObjectStore(Jg,{keyPath:az})}(e)})),r<12&&i>=12&&(l=l.next(()=>{(function(d){const h=d.createObjectStore(Xg,{keyPath:pz});h.createIndex(Cw,mz,{unique:!1}),h.createIndex($1,gz,{unique:!1})})(e)})),r<13&&i>=13&&(l=l.next(()=>function(d){const h=d.createObjectStore(rg,{keyPath:X3});h.createIndex(Im,Z3),h.createIndex(V1,ez)}(e)).next(()=>this.hi(e,s)).next(()=>e.deleteObjectStore(Da))),r<14&&i>=14&&(l=l.next(()=>this.Pi(e,s))),r<15&&i>=15&&(l=l.next(()=>function(d){d.createObjectStore(d0,{keyPath:lz,autoIncrement:!0}).createIndex(Pw,uz,{unique:!1}),d.createObjectStore(sg,{keyPath:cz}).createIndex(F1,dz,{unique:!1}),d.createObjectStore(og,{keyPath:hz}).createIndex(U1,fz,{unique:!1})}(e))),r<16&&i>=16&&(l=l.next(()=>{t.objectStore(sg).clear()}).next(()=>{t.objectStore(og).clear()})),r<17&&i>=17&&(l=l.next(()=>{(function(d){d.createObjectStore(h0,{keyPath:yz})})(e)})),l}ai(e){let t=0;return e.store(Da).Z((r,i)=>{t+=hg(i)}).next(()=>{const r={byteSize:t};return e.store(Ch).put(bw,r)})}_i(e){const t=e.store(Ph),r=e.store(di);return t.G().next(i=>G.forEach(i,s=>{const l=IDBKeyRange.bound([s.userId,xo],[s.userId,s.lastAcknowledgedBatchId]);return r.G(Ba,l).next(u=>G.forEach(u,d=>{Ae(d.userId===s.userId);const h=Va(this.serializer,d);return Wx(e,s.userId,h).next(()=>{})}))}))}ui(e){const t=e.store(Wu),r=e.store(Da);return e.store(Ka).get(ig).next(i=>{const s=[];return r.Z((l,u)=>{const d=new je(l),h=function(g){return[0,Vn(g)]}(d);s.push(t.get(h).next(m=>m?G.resolve():(g=>t.put({targetId:0,path:Vn(g),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>G.waitFor(s))})}ci(e,t){e.createObjectStore(kh,{keyPath:iz});const r=t.store(kh),i=new P0,s=l=>{if(i.add(l)){const u=l.lastSegment(),d=l.popLast();return r.put({collectionId:u,parent:Vn(d)})}};return t.store(Da).Z({Y:!0},(l,u)=>{const d=new je(l);return s(d.popLast())}).next(()=>t.store(zu).Z({Y:!0},([l,u,d],h)=>{const m=zi(u);return s(m.popLast())}))}li(e){const t=e.store(ju);return t.Z((r,i)=>{const s=Zd(i),l=$x(this.serializer,s);return t.put(l)})}hi(e,t){const r=t.store(Da),i=[];return r.Z((s,l)=>{const u=t.store(rg),d=function(g){return g.document?new _e(je.fromString(g.document.name).popFirst(5)):g.noDocument?_e.fromSegments(g.noDocument.path):g.unknownDocument?_e.fromSegments(g.unknownDocument.path):Ie()}(l).path.toArray(),h={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(h))}).next(()=>G.waitFor(i))}Pi(e,t){const r=t.store(di),i=Yx(this.serializer),s=new k0(oy.ri,this.serializer.Tt);return r.G().next(l=>{const u=new Map;return l.forEach(d=>{var h;let m=(h=u.get(d.userId))!==null&&h!==void 0?h:Ue();Va(this.serializer,d).keys().forEach(g=>m=m.add(g)),u.set(d.userId,m)}),G.forEach(u,(d,h)=>{const m=new gn(h),g=iy.It(this.serializer,m),_=s.getIndexManager(m),T=sy.It(m,this.serializer,_,s.referenceDelegate);return new Jx(i,T,g,_).recalculateAndSaveOverlaysForDocumentKeys(new kw(t,rr.ae),d).next()})})}}function rb(n){n.createObjectStore(Wu,{keyPath:nz}).createIndex(c0,rz,{unique:!0}),n.createObjectStore(ju,{keyPath:"targetId"}).createIndex(M1,tz,{unique:!0}),n.createObjectStore(Ka)}const Eo="IndexedDbPersistence",Lv=18e5,Vv=5e3,Mv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Xx="main";class x0{constructor(e,t,r,i,s,l,u,d,h,m,g=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=s,this.window=l,this.document=u,this.Ii=h,this.Ei=m,this.di=g,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=_=>Promise.resolve(),!x0.D())throw new ae(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ij(this,i),this.gi=t+Xx,this.serializer=new Ux(d),this.pi=new Hi(this.gi,this.di,new Dj(this.serializer)),this.jr=new cj,this.Hr=new _j(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Yx(this.serializer),this.Yr=new uj,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,m===!1&&jt(Eo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,Mv);return this.bi(),this.Si(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new rr(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(Zo(e))return ue(Eo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue(Eo,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return Od(e).get(su).next(t=>G.resolve(this.Ni(t)))}Bi(e){return Xp(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,Lv)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=un(t,qu);return r.G().next(i=>{const s=this.qi(i,Lv),l=i.filter(u=>s.indexOf(u)===-1);return G.forEach(l,u=>r.delete(u.clientId)).next(()=>l)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?G.resolve(!0):Od(e).get(su).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,Vv)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,Mv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xp(e).G().next(r=>this.qi(r,Vv).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(s||l&&u)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&ue(Eo,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[cf,qu],e=>{const t=new kw(e,rr.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>Xp(e).G().next(t=>this.qi(t,Lv).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return sy.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new yj(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return iy.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue(Eo,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=function(d){return d===17?wz:d===16?vz:d===15?f0:d===14?j1:d===13?z1:d===12?_z:d===11?B1:void Ie()}(this.di);let l;return this.pi.runTransaction(e,i,s,u=>(l=new kw(u,this.Gr?this.Gr.next():rr.ae),t==="readwrite-primary"?this.Fi(l).next(d=>!!d||this.Mi(l)).next(d=>{if(!d)throw jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new ae(te.FAILED_PRECONDITION,x1);return r(l)}).next(d=>this.Oi(l).next(()=>d)):this.ji(l).next(()=>r(l)))).then(u=>(l.raiseOnCommittedEvent(),u))}ji(e){return Od(e).get(su).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,Vv)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ae(te.FAILED_PRECONDITION,Mv)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Od(e).put(su,t)}static D(){return Hi.D()}xi(e){const t=Od(e);return t.get(su).next(r=>this.Ni(r)?(ue(Eo,"Releasing primary lease."),t.delete(su)):G.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(jt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}bi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}Si(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;yC()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return ue(Eo,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return jt(Eo,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){jt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Od(n){return un(n,cf)}function Xp(n){return un(n,qu)}function O0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Ue(),i=Ue();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new N0(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return yC()?8:N1(qe())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.rs(e,t).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.ss(e,t,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new Lj;return this._s(e,t,l).next(u=>{if(s.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>s.result)}us(e,t,r,i){return r.documentReadCount<this.es?(wu()<=$e.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Eu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(wu()<=$e.DEBUG&&ue("QueryEngine","Query:",Eu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(wu()<=$e.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Eu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(t))):G.resolve())}rs(e,t){if(PA(t))return G.resolve(null);let r=Wn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=ug(t,null,"F"),r=Wn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=Ue(...s);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.cs(t,u);return this.ls(t,h,l,d.readTime)?this.rs(e,ug(t,null,"F")):this.hs(e,h,t,d)}))})))}ss(e,t,r,i){return PA(t)||i.isEqual(Ce.min())?G.resolve(null):this.ns.getDocuments(e,r).next(s=>{const l=this.cs(t,s);return this.ls(t,l,r,i)?G.resolve(null):(wu()<=$e.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Eu(t)),this.hs(e,l,t,C1(i,Bu)).next(u=>u))})}cs(e,t){let r=new lt(cx(e));return t.forEach((i,s)=>{ff(e,s)&&(r=r.add(s))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return wu()<=$e.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Eu(t)),this.ns.getDocumentsMatchingQuery(e,t,br.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="LocalStore",Vj=3e8;class Mj{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new mt(Ve),this.Is=new zs(s=>Za(s),df),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function eO(n,e,t,r){return new Mj(n,e,t,r)}async function tO(n,e){const t=ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],u=[];let d=Ue();for(const h of i){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of s){u.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(h=>({Rs:h,removedBatchIds:l,addedBatchIds:u}))})})}function Fj(n,e){const t=ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,d,h,m){const g=h.batch,_=g.keys();let T=G.resolve();return _.forEach(I=>{T=T.next(()=>m.getEntry(d,I)).next(R=>{const b=h.docVersions.get(I);Ae(b!==null),R.version.compareTo(b)<0&&(g.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),m.addEntry(R)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(d,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=Ue();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function nO(n){const e=ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Uj(n,e){const t=ve(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((m,g)=>{const _=i.get(g);if(!_)return;u.push(t.Hr.removeMatchingKeys(s,m.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(s,m.addedDocuments,g)));let T=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(Ft.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(g,T),function(R,b,V){return R.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=Vj?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,T,m)&&u.push(t.Hr.updateTargetData(s,T))});let d=sr(),h=Ue();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(rO(s,l,e.documentUpdates).next(m=>{d=m.Vs,h=m.fs})),!r.isEqual(Ce.min())){const m=t.Hr.getLastRemoteSnapshotVersion(s).next(g=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(m)}return G.waitFor(u).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,d,h)).next(()=>d)}).then(s=>(t.Ts=i,s))}function rO(n,e,t){let r=Ue(),i=Ue();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let l=sr();return t.forEach((u,d)=>{const h=s.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):ue(D0,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)}),{Vs:l,fs:i}})}function $j(n,e){const t=ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=xo),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xu(n,e){const t=ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(s=>s?(i=s,G.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new Ps(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Zu(n,e,t){const r=ve(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Zo(l))throw l;ue(D0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function pg(n,e,t){const r=ve(n);let i=Ce.min(),s=Ue();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,m){const g=ve(d),_=g.Is.get(m);return _!==void 0?G.resolve(g.Ts.get(_)):g.Hr.getTargetData(h,m)}(r,l,Wn(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,u.targetId).next(d=>{s=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:Ce.min(),t?s:Ue())).next(u=>(oO(r,ux(e),u),{documents:u,gs:s})))}function iO(n,e){const t=ve(n),r=ve(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.lt(s,e).next(l=>l?l.target:null))}function sO(n,e){const t=ve(n),r=t.Es.get(e)||Ce.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,C1(r,Bu),Number.MAX_SAFE_INTEGER)).then(i=>(oO(t,e,i),i))}function oO(n,e,t){let r=n.Es.get(e)||Ce.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}async function Bj(n,e,t,r){const i=ve(n);let s=Ue(),l=sr();for(const h of t){const m=e.ps(h.metadata.name);h.document&&(s=s.add(m));const g=e.ys(h);g.setReadTime(e.ws(h.metadata.readTime)),l=l.insert(m,g)}const u=i.ds.newChangeBuffer({trackRemovals:!0}),d=await Xu(i,function(m){return Wn(yc(je.fromString(`__bundle__/docs/${m}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",h=>rO(h,u,l).next(m=>(u.apply(h),m)).next(m=>i.Hr.removeMatchingKeysForTargetId(h,d.targetId).next(()=>i.Hr.addMatchingKeys(h,s,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,m.Vs,m.fs)).next(()=>m.Vs)))}async function zj(n,e,t=Ue()){const r=await Xu(n,Wn(A0(e.bundledQuery))),i=ve(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const l=Wt(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Yr.saveNamedQuery(s,e);const u=r.withResumeToken(Ft.EMPTY_BYTE_STRING,l);return i.Ts=i.Ts.insert(u.targetId,u),i.Hr.updateTargetData(s,u).next(()=>i.Hr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Hr.addMatchingKeys(s,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(s,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="firestore_clients";function ib(n,e){return`${aO}_${n}_${e}`}const lO="firestore_mutations";function sb(n,e,t){let r=`${lO}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const uO="firestore_targets";function Fv(n,e){return`${uO}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="SharedClientState";class mg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static bs(e,t,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new ae(i.error.code,i.error.message))),l?new mg(e,t,i.state,s):(jt(Ni,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static bs(e,t){const r=JSON.parse(t);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ae(r.error.code,r.error.message))),s?new fh(e,r.state,i):(jt(Ni,`Failed to parse target state for ID '${e}': ${t}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static bs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=_0();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=D1(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new gg(e,s):(jt(Ni,`Failed to parse client data for instance '${e}': ${t}`),null)}}class L0{constructor(e,t){this.clientId=e,this.onlineState=t}static bs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new L0(t.clientId,t.onlineState):(jt(Ni,`Failed to parse online state: ${e}`),null)}}class qw{constructor(){this.activeTargetIds=_0()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uv{constructor(e,t,r,i,s){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new mt(Ve),this.started=!1,this.Os=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ns=ib(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new qw),this.Ls=new RegExp(`^${aO}_${l}_([^_]*)$`),this.ks=new RegExp(`^${lO}_${l}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${uO}_${l}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(ib(this.persistenceKey,r));if(i){const s=gg.bs(r,i);s&&(this.xs=this.xs.insert(s.clientId,s))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Fv(this.persistenceKey,e));if(i){const s=fh.bs(e,i);s&&(r=s.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Fv(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue(Ni,"READ",e,t),t}setItem(e,t){ue(Ni,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue(Ni,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(ue(Ni,"EVENT",t.key,t.newValue),t.key===this.Ns)return void jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(s){let l=rr.ae;if(s!=null)try{const u=JSON.parse(s);Ae(typeof u=="number"),l=u}catch(u){jt(Ni,"Failed to read sequence number from WebStorage",u)}return l}(t.newValue);r!==rr.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.Ss())}zs(e,t,r){const i=new mg(this.currentUser,e,t,r),s=sb(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Ss())}js(e){const t=sb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=Fv(this.persistenceKey,e),s=new fh(e,t,r);this.setItem(i,s.Ss())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return gg.bs(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return mg.bs(new gn(s),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return fh.bs(i,t)}Us(e){return L0.bs(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);ue(Ni,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),s=this.Gs(r),l=[],u=[];return s.forEach(d=>{i.has(d)||l.push(d)}),i.forEach(d=>{s.has(d)||u.push(d)}),this.syncEngine.lo(l,u).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=_0();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class cO{constructor(){this.ho=new qw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new qw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="ConnectivityMonitor";class ab{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(ob,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(ob,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zp=null;function Hw(){return Zp===null?Zp=function(){return 268435456+Math.round(2147483648*Math.random())}():Zp++,"0x"+Zp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="RestConnection",Wj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qj{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===xw?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,s){const l=Hw(),u=this.So(e,t.toUriEncodedString());ue($v,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,s),this.vo(e,u,d,r).then(h=>(ue($v,`Received RPC '${e}' ${l}: `,h),h),h=>{throw Xi($v,`RPC '${e}' ${l} failed with error: `,h,"url: ",u,"request:",r),h})}Co(e,t,r,i,s,l){return this.bo(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,t){const r=Wj[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class Kj extends qj{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=Hw();return new Promise((l,u)=>{const d=new E1;d.setWithCredentials(!0),d.listenOnce(I1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case vm.NO_ERROR:const m=d.getResponseJson();ue(On,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case vm.TIMEOUT:ue(On,`RPC '${e}' ${s} timed out`),u(new ae(te.DEADLINE_EXCEEDED,"Request time out"));break;case vm.HTTP_ERROR:const g=d.getStatus();if(ue(On,`RPC '${e}' ${s} failed with status:`,g,"response text:",d.getResponseText()),g>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const I=function(b){const V=b.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(V)>=0?V:te.UNKNOWN}(T.status);u(new ae(I,T.message))}else u(new ae(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ae(te.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ue(On,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);ue(On,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",h,r,15)})}Wo(e,t,r){const i=Hw(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=R1(),u=S1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=s.join("");ue(On,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=l.createWebChannel(m,d);let _=!1,T=!1;const I=new Hj({Fo:b=>{T?ue(On,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(_||(ue(On,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),ue(On,`RPC '${e}' stream ${i} sending:`,b),g.send(b))},Mo:()=>g.close()}),R=(b,V,L)=>{b.listen(V,M=>{try{L(M)}catch(z){setTimeout(()=>{throw z},0)}})};return R(g,Yd.EventType.OPEN,()=>{T||(ue(On,`RPC '${e}' stream ${i} transport opened.`),I.Qo())}),R(g,Yd.EventType.CLOSE,()=>{T||(T=!0,ue(On,`RPC '${e}' stream ${i} transport closed`),I.Ko())}),R(g,Yd.EventType.ERROR,b=>{T||(T=!0,Xi(On,`RPC '${e}' stream ${i} transport errored:`,b),I.Ko(new ae(te.UNAVAILABLE,"The operation could not be completed")))}),R(g,Yd.EventType.MESSAGE,b=>{var V;if(!T){const L=b.data[0];Ae(!!L);const M=L,z=(M==null?void 0:M.error)||((V=M[0])===null||V===void 0?void 0:V.error);if(z){ue(On,`RPC '${e}' stream ${i} received error:`,z);const B=z.status;let W=function(C){const E=Yt[C];if(E!==void 0)return Tx(E)}(B),D=z.message;W===void 0&&(W=te.INTERNAL,D="Unknown error status: "+B+" with message "+z.message),T=!0,I.Ko(new ae(W,D)),g.close()}else ue(On,`RPC '${e}' stream ${i} received:`,L),I.Uo(L)}}),R(u,T1.STAT_EVENT,b=>{b.stat===Rw.PROXY?ue(On,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Rw.NOPROXY&&ue(On,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){return typeof window<"u"?window:null}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(n){return new Xz(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="PersistentStream";class hO{constructor(e,t,r,i,s,l,u,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new V0(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(jt(t.toString()),jt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new ae(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(lb,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ue(lb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gj extends hO{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=tj(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ce.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?Wt(l.readTime):Ce.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=$w(this.serializer),t.addTarget=function(s,l){let u;const d=l.target;if(u=ag(d)?{documents:Nx(s,d)}:{query:Dx(s,d).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=bx(s,l.resumeToken);const h=Fw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ce.min())>0){u.readTime=Ju(s,l.snapshotVersion.toTimestamp());const h=Fw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=rj(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=$w(this.serializer),t.removeTarget=e,this.I_(t)}}class Qj extends hO{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=nj(e.writeResults,e.commitTime),r=Wt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=$w(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Vh(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{}class Jj extends Yj{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.bo(e,Uw(t,r),i,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(te.UNKNOWN,s.toString())})}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,Uw(t,r),i,l,u,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ae(te.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Xj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(jt(t),this.N_=!1):ue("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl="RemoteStore";class Zj{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(l=>{r.enqueueAndForget(async()=>{ta(this)&&(ue(sl,"Restarting streams for network reachability change."),await async function(d){const h=ve(d);h.W_.add(4),await wc(h),h.j_.set("Unknown"),h.W_.delete(4),await _f(h)}(this))})}),this.j_=new Xj(r,i)}}async function _f(n){if(ta(n))for(const e of n.G_)await e(!0)}async function wc(n){for(const e of n.G_)await e(!1)}function ay(n,e){const t=ve(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),U0(t)?F0(t):Ic(t).c_()&&M0(t,e))}function ec(n,e){const t=ve(n),r=Ic(t);t.U_.delete(e),r.c_()&&fO(t,e),t.U_.size===0&&(r.c_()?r.P_():ta(t)&&t.j_.set("Unknown"))}function M0(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ic(n).y_(e)}function fO(n,e){n.H_.Ne(e),Ic(n).w_(e)}function F0(n){n.H_=new Gz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Ic(n).start(),n.j_.B_()}function U0(n){return ta(n)&&!Ic(n).u_()&&n.U_.size>0}function ta(n){return ve(n).W_.size===0}function pO(n){n.H_=void 0}async function e9(n){n.j_.set("Online")}async function t9(n){n.U_.forEach((e,t)=>{M0(n,e)})}async function n9(n,e){pO(n),U0(n)?(n.j_.q_(e),F0(n)):n.j_.set("Unknown")}async function r9(n,e,t){if(n.j_.set("Online"),e instanceof Ax&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const u of s.targetIds)i.U_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.U_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(r){ue(sl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yg(n,r)}else if(e instanceof bm?n.H_.We(e):e instanceof Rx?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ce.min()))try{const r=await nO(n.localStore);t.compareTo(r)>=0&&await function(s,l){const u=s.H_.ot(l);return u.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.U_.get(h);m&&s.U_.set(h,m.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,h)=>{const m=s.U_.get(d);if(!m)return;s.U_.set(d,m.withResumeToken(Ft.EMPTY_BYTE_STRING,m.snapshotVersion)),fO(s,d);const g=new Ps(m.target,d,h,m.sequenceNumber);M0(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ue(sl,"Failed to raise snapshot:",r),await yg(n,r)}}async function yg(n,e,t){if(!Zo(e))throw e;n.W_.add(1),await wc(n),n.j_.set("Offline"),t||(t=()=>nO(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(sl,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await _f(n)})}function mO(n,e){return e().catch(t=>yg(n,t,e))}async function Ec(n){const e=ve(n),t=Bo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:xo;for(;i9(e);)try{const i=await $j(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,s9(e,i)}catch(i){await yg(e,i)}gO(e)&&yO(e)}function i9(n){return ta(n)&&n.K_.length<10}function s9(n,e){n.K_.push(e);const t=Bo(n);t.c_()&&t.b_&&t.S_(e.mutations)}function gO(n){return ta(n)&&!Bo(n).u_()&&n.K_.length>0}function yO(n){Bo(n).start()}async function o9(n){Bo(n).C_()}async function a9(n){const e=Bo(n);for(const t of n.K_)e.S_(t.mutations)}async function l9(n,e,t){const r=n.K_.shift(),i=I0.from(r,e,t);await mO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Ec(n)}async function u9(n,e){e&&Bo(n).b_&&await async function(r,i){if(function(l){return Ix(l)&&l!==te.ABORTED}(i.code)){const s=r.K_.shift();Bo(r).h_(),await mO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ec(r)}}(n,e),gO(n)&&yO(n)}async function ub(n,e){const t=ve(n);t.asyncQueue.verifyOperationInProgress(),ue(sl,"RemoteStore received new credentials");const r=ta(t);t.W_.add(3),await wc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await _f(t)}async function Kw(n,e){const t=ve(n);e?(t.W_.delete(2),await _f(t)):e||(t.W_.add(2),await wc(t),t.j_.set("Unknown"))}function Ic(n){return n.J_||(n.J_=function(t,r,i){const s=ve(t);return s.M_(),new Gj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:e9.bind(null,n),No:t9.bind(null,n),Lo:n9.bind(null,n),p_:r9.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),U0(n)?F0(n):n.j_.set("Unknown")):(await n.J_.stop(),pO(n))})),n.J_}function Bo(n){return n.Y_||(n.Y_=function(t,r,i){const s=ve(t);return s.M_(),new Qj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:o9.bind(null,n),Lo:u9.bind(null,n),D_:a9.bind(null,n),v_:l9.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Ec(n)):(await n.Y_.stop(),n.K_.length>0&&(ue(sl,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new An,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,u=new $0(e,t,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tc(n,e){if(jt("AsyncQueue",`${e}: ${n}`),Zo(n))return new ae(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{static emptySet(e){return new Nu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Jd(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Nu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.Z_=new mt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ie():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class tc{constructor(e,t,r,i,s,l,u,d,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new tc(e,t,Nu.emptySet(t),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class d9{constructor(){this.queries=db(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=ve(t),s=i.queries;i.queries=db(),s.forEach((l,u)=>{for(const d of u.ta)d.onError(r)})})(this,new ae(te.ABORTED,"Firestore shutting down"))}}function db(){return new zs(n=>lx(n),hf)}async function B0(n,e){const t=ve(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new c9,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(i,!0);break;case 1:s.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Tc(l,`Initialization of query '${Eu(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&j0(t)}async function z0(n,e){const t=ve(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const l=s.ta.indexOf(e);l>=0&&(s.ta.splice(l,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function h9(n,e){const t=ve(n);let r=!1;for(const i of e){const s=i.query,l=t.queries.get(s);if(l){for(const u of l.ta)u.oa(i)&&(r=!0);l.ea=i}}r&&j0(t)}function f9(n,e,t){const r=ve(n),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(t);r.queries.delete(e)}function j0(n){n.ia.forEach(e=>{e.next()})}var Gw,hb;(hb=Gw||(Gw={}))._a="default",hb.Cache="cache";class W0{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new tc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Gw.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.serializer=e}ps(e){return Ki(this.serializer,e)}ys(e){return e.metadata.exists?Ox(this.serializer,e.document,!1):vt.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return Wt(e)}}class m9{constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_O(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=je.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new fb(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.ps(i.metadata.name);for(const l of i.metadata.queries){const u=(t.get(l)||Ue()).add(s);t.set(l,u)}}return t}async complete(){const e=await Bj(this.localStore,new fb(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await zj(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function _O(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.key=e}}class wO{constructor(e){this.key=e}}class EO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=cx(e),this.wa=new Nu(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new cb,i=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const _=i.get(m),T=ff(this.query,g)?g:null,I=!!_&&this.mutatedKeys.has(_.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let b=!1;_&&T?_.data.isEqual(T.data)?I!==R&&(r.track({type:3,doc:T}),b=!0):this.va(_,T)||(r.track({type:2,doc:T}),b=!0,(d&&this.ya(T,d)>0||h&&this.ya(T,h)<0)&&(u=!0)):!_&&T?(r.track({type:0,doc:T}),b=!0):_&&!T&&(r.track({type:1,doc:_}),b=!0,(d||h)&&(u=!0)),b&&(T?(l=l.add(T),s=R?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:u,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,g)=>function(T,I){const R=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return R(T)-R(I)}(m.type,g.type)||this.ya(m.doc,g.doc)),this.Ca(r),i=i!=null&&i;const u=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,h=d!==this.ga;return this.ga=d,l.length!==0||h?{snapshot:new tc(this.query,e.wa,s,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new cb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new wO(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new vO(r))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return tc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const na="SyncEngine";class g9{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class y9{constructor(e){this.key=e,this.Ba=!1}}class _9{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new zs(u=>lx(u),hf),this.qa=new Map,this.Qa=new Set,this.$a=new mt(_e.comparator),this.Ka=new Map,this.Ua=new C0,this.Wa={},this.Ga=new Map,this.za=il.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function v9(n,e,t=!0){const r=ly(n);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await IO(r,e,t,!0),i}async function w9(n,e){const t=ly(n);await IO(t,e,!0,!1)}async function IO(n,e,t,r){const i=await Xu(n.localStore,Wn(e)),s=i.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await q0(n,e,s,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&ay(n.remoteStore,i),u}async function q0(n,e,t,r,i){n.Ha=(g,_,T)=>async function(R,b,V,L){let M=b.view.Sa(V);M.ls&&(M=await pg(R.localStore,b.query,!1).then(({documents:D})=>b.view.Sa(D,M)));const z=L&&L.targetChanges.get(b.targetId),B=L&&L.targetMismatches.get(b.targetId)!=null,W=b.view.applyChanges(M,R.isPrimaryClient,z,B);return Qw(R,b.targetId,W.Ma),W.snapshot}(n,g,_,T);const s=await pg(n.localStore,e,!0),l=new EO(e,s.gs),u=l.Sa(s.documents),d=gf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=l.applyChanges(u,n.isPrimaryClient,d);Qw(n,t,h.Ma);const m=new g9(e,t,l);return n.ka.set(e,m),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),h.snapshot}async function E9(n,e,t){const r=ve(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(l=>!hf(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Zu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&ec(r.remoteStore,i.targetId),nc(r,i.targetId)}).catch(Xo)):(nc(r,i.targetId),await Zu(r.localStore,i.targetId,!0))}async function I9(n,e){const t=ve(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ec(t.remoteStore,r.targetId))}async function T9(n,e,t){const r=Q0(n);try{const i=await function(l,u){const d=ve(l),h=bt.now(),m=u.reduce((T,I)=>T.add(I.key),Ue());let g,_;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let I=sr(),R=Ue();return d.ds.getEntries(T,m).next(b=>{I=b,I.forEach((V,L)=>{L.isValidDocument()||(R=R.add(V))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,I)).next(b=>{g=b;const V=[];for(const L of u){const M=qz(L,g.get(L.key).overlayedDocument);M!=null&&V.push(new js(L.key,M,Z1(M.value.mapValue),At.exists(!0)))}return d.mutationQueue.addMutationBatch(T,h,V,u)}).next(b=>{_=b;const V=b.applyToLocalDocumentSet(g,R);return d.documentOverlayCache.saveOverlays(T,b.batchId,V)})}).then(()=>({batchId:_.batchId,changes:hx(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let h=l.Wa[l.currentUser.toKey()];h||(h=new mt(Ve)),h=h.insert(u,d),l.Wa[l.currentUser.toKey()]=h}(r,i.batchId,t),await Ws(r,i.changes),await Ec(r.remoteStore)}catch(i){const s=Tc(i,"Failed to persist write");t.reject(s)}}async function TO(n,e){const t=ve(n);try{const r=await Uj(t.localStore,e);e.targetChanges.forEach((i,s)=>{const l=t.Ka.get(s);l&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Ae(l.Ba):i.removedDocuments.size>0&&(Ae(l.Ba),l.Ba=!1))}),await Ws(t,r,e)}catch(r){await Xo(r)}}function pb(n,e,t){const r=ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((s,l)=>{const u=l.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=ve(l);d.onlineState=u;let h=!1;d.queries.forEach((m,g)=>{for(const _ of g.ta)_.sa(u)&&(h=!0)}),h&&j0(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function S9(n,e,t){const r=ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),s=i&&i.key;if(s){let l=new mt(_e.comparator);l=l.insert(s,vt.newNoDocument(s,Ce.min()));const u=Ue().add(s),d=new mf(Ce.min(),new Map,new mt(Ve),l,u);await TO(r,d),r.$a=r.$a.remove(s),r.Ka.delete(e),G0(r)}else await Zu(r.localStore,e,!1).then(()=>nc(r,e,t)).catch(Xo)}async function R9(n,e){const t=ve(n),r=e.batch.batchId;try{const i=await Fj(t.localStore,e);K0(t,r,null),H0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ws(t,i)}catch(i){await Xo(i)}}async function A9(n,e,t){const r=ve(n);try{const i=await function(l,u){const d=ve(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,u).next(g=>(Ae(g!==null),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(r.localStore,e);K0(r,e,t),H0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ws(r,i)}catch(i){await Xo(i)}}async function b9(n,e){const t=ve(n);ta(t.remoteStore)||ue(na,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(l){const u=ve(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>u.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===xo)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=Tc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function H0(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function K0(n,e,t){const r=ve(n);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function nc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||SO(n,r)})}function SO(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(ec(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),G0(n))}function Qw(n,e,t){for(const r of t)r instanceof vO?(n.Ua.addReference(r.key,e),P9(n,r)):r instanceof wO?(ue(na,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||SO(n,r.key)):Ie()}function P9(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ue(na,"New document in limbo: "+t),n.Qa.add(r),G0(n))}function G0(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(je.fromString(e)),r=n.za.next();n.Ka.set(r,new y9(t)),n.$a=n.$a.insert(t,r),ay(n.remoteStore,new Ps(Wn(yc(t.path)),r,"TargetPurposeLimboResolution",rr.ae))}}async function Ws(n,e,t){const r=ve(n),i=[],s=[],l=[];r.ka.isEmpty()||(r.ka.forEach((u,d)=>{l.push(r.Ha(d,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const g=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){i.push(h);const g=N0.Yi(d.targetId,h);s.push(g)}}))}),await Promise.all(l),r.La.p_(i),await async function(d,h){const m=ve(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>G.forEach(h,_=>G.forEach(_.Hi,T=>m.persistence.referenceDelegate.addReference(g,_.targetId,T)).next(()=>G.forEach(_.Ji,T=>m.persistence.referenceDelegate.removeReference(g,_.targetId,T)))))}catch(g){if(!Zo(g))throw g;ue(D0,"Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const T=m.Ts.get(_),I=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(I);m.Ts=m.Ts.insert(_,R)}}}(r.localStore,s))}async function C9(n,e){const t=ve(n);if(!t.currentUser.isEqual(e)){ue(na,"User change. New user:",e.toKey());const r=await tO(t.localStore,e);t.currentUser=e,function(s,l){s.Ga.forEach(u=>{u.forEach(d=>{d.reject(new ae(te.CANCELLED,l))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ws(t,r.Rs)}}function k9(n,e){const t=ve(n),r=t.Ka.get(e);if(r&&r.Ba)return Ue().add(r.key);{let i=Ue();const s=t.qa.get(e);if(!s)return i;for(const l of s){const u=t.ka.get(l);i=i.unionWith(u.view.ba)}return i}}async function x9(n,e){const t=ve(n),r=await pg(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&Qw(t,e.targetId,i.Ma),i}async function O9(n,e){const t=ve(n);return sO(t.localStore,e).then(r=>Ws(t,r))}async function N9(n,e,t,r){const i=ve(n),s=await function(u,d){const h=ve(u),m=ve(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",g=>m.Ln(g,d).next(_=>_?h.localDocuments.getDocuments(g,_):G.resolve(null)))}(i.localStore,e);s!==null?(t==="pending"?await Ec(i.remoteStore):t==="acknowledged"||t==="rejected"?(K0(i,e,r||null),H0(i,e),function(u,d){ve(ve(u).mutationQueue).qn(d)}(i.localStore,e)):Ie(),await Ws(i,s)):ue(na,"Cannot apply mutation batch with id: "+e)}async function D9(n,e){const t=ve(n);if(ly(t),Q0(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await mb(t,r.toArray());t.ja=!0,await Kw(t.remoteStore,!0);for(const s of i)ay(t.remoteStore,s)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(nc(t,l),Zu(t.localStore,l,!0))),ec(t.remoteStore,l)}),await i,await mb(t,r),function(l){const u=ve(l);u.Ka.forEach((d,h)=>{ec(u.remoteStore,h)}),u.Ua.Dr(),u.Ka=new Map,u.$a=new mt(_e.comparator)}(t),t.ja=!1,await Kw(t.remoteStore,!1)}}async function mb(n,e,t){const r=ve(n),i=[],s=[];for(const l of e){let u;const d=r.qa.get(l);if(d&&d.length!==0){u=await Xu(r.localStore,Wn(d[0]));for(const h of d){const m=r.ka.get(h),g=await x9(r,m);g.snapshot&&s.push(g.snapshot)}}else{const h=await iO(r.localStore,l);u=await Xu(r.localStore,h),await q0(r,RO(h),l,!1,u.resumeToken)}i.push(u)}return r.La.p_(s),i}function RO(n){return ax(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function L9(n){return function(t){return ve(ve(t).persistence).zi()}(ve(n).localStore)}async function V9(n,e,t,r){const i=ve(n);if(i.ja)return void ue(na,"Ignoring unexpected query state notification.");const s=i.qa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=await sO(i.localStore,ux(s[0])),u=mf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Ft.EMPTY_BYTE_STRING);await Ws(i,l,u);break}case"rejected":await Zu(i.localStore,e,!0),nc(i,e,r);break;default:Ie()}}async function M9(n,e,t){const r=ly(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ue(na,"Adding an already active target "+i);continue}const s=await iO(r.localStore,i),l=await Xu(r.localStore,s);await q0(r,RO(s),l.targetId,!1,l.resumeToken),ay(r.remoteStore,l)}for(const i of t)r.qa.has(i)&&await Zu(r.localStore,i,!1).then(()=>{ec(r.remoteStore,i),nc(r,i)}).catch(Xo)}}function ly(n){const e=ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=TO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S9.bind(null,e),e.La.p_=h9.bind(null,e.eventManager),e.La.Ja=f9.bind(null,e.eventManager),e}function Q0(n){const e=ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A9.bind(null,e),e}function F9(n,e,t){const r=ve(n);(async function(s,l,u){try{const d=await l.getMetadata();if(await function(T,I){const R=ve(T),b=Wt(I.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",V=>R.Yr.getBundleMetadata(V,I.id)).then(V=>!!V&&V.createTime.compareTo(b)>=0)}(s.localStore,d))return await l.close(),u._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(d)),Promise.resolve(new Set);u._updateProgress(_O(d));const h=new m9(d,s.localStore,l.serializer);let m=await l.Ya();for(;m;){const _=await h.Aa(m);_&&u._updateProgress(_),m=await l.Ya()}const g=await h.complete();return await Ws(s,g.ma,void 0),await function(T,I){const R=ve(T);return R.persistence.runTransaction("Save bundle","readwrite",b=>R.Yr.saveBundleMetadata(b,I))}(s.localStore,d),u._completeWith(g.progress),Promise.resolve(g.Va)}catch(d){return Xi(na,`Loading bundle failed with ${d}`),u._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return eO(this.persistence,new Zx,e.initialUser,this.serializer)}Xa(e){return new k0(oy.ri,this.serializer)}Za(e){return new cO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class U9 extends Mh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ae(this.persistence.referenceDelegate instanceof fg);const r=this.persistence.referenceDelegate.garbageCollector;return new Kx(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new k0(r=>fg.ri(r,t),this.serializer)}}class AO extends Mh{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await Q0(this.ru.syncEngine),await Ec(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return eO(this.persistence,new Zx,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new Kx(r,e.asyncQueue,t)}nu(e,t){const r=new G3(t,this.persistence);return new K3(e.asyncQueue,r)}Xa(e){const t=O0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new x0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,dO(),Pm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new cO}}class $9 extends AO{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof Uv&&(this.sharedClientState.syncEngine={uo:N9.bind(null,t),co:V9.bind(null,t),lo:M9.bind(null,t),zi:L9.bind(null,t),ao:O9.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await D9(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=dO();if(!Uv.D(t))throw new ae(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=O0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Uv(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Fh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=C9.bind(null,this.syncEngine),await Kw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new d9}()}createDatastore(e){const t=yf(e.databaseInfo.databaseId),r=function(s){return new Kj(s)}(e.databaseInfo);return function(s,l,u,d){return new Jj(s,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,l,u){return new Zj(r,i,s,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>pb(this.syncEngine,t,0),function(){return ab.D()?new ab:new jj}())}createSyncEngine(e,t){return function(i,s,l,u,d,h,m){const g=new _9(i,s,l,u,d,h);return m&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=ve(i);ue(sl,"RemoteStore shutting down."),s.W_.add(5),await wc(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Fh.provider={build:()=>new Fh};function gb(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):jt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new An,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new p9(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,s){const l=ve(i),u={documents:s.map(g=>Lh(l.serializer,g))},d=await l.Co("BatchGetDocuments",l.serializer.databaseId,je.emptyPath(),u,s.length),h=new Map;d.forEach(g=>{const _=ej(l.serializer,g);h.set(_.key.toString(),_)});const m=[];return s.forEach(g=>{const _=h.get(g.toString());Ae(!!_),m.push(_)}),m}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new vc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new w0(i,this.precondition(i)))}),await async function(r,i){const s=ve(r),l={writes:i.map(u=>Vh(s.serializer,u))};await s.bo("Commit",s.serializer.databaseId,je.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ie();t=Ce.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ae(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ce.min())?At.exists(!1):At.updateTime(t):At.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ce.min()))throw new ae(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return At.updateTime(t)}return At.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Tu=r.maxAttempts,this.a_=new V0(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new z9(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!uf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!Ix(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="FirestoreClient";class W9{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=gn.UNAUTHENTICATED,this.clientId=b1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{ue(zo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ue(zo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new An;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Tc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bv(n,e){n.asyncQueue.verifyOperationInProgress(),ue(zo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await tO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function yb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Y0(n);ue(zo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>ub(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>ub(e.remoteStore,i)),n._onlineComponents=e}async function Y0(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(zo,"Using user provided OfflineComponentProvider");try{await Bv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Xi("Error using user provided cache. Falling back to memory cache: "+t),await Bv(n,new Mh)}}else ue(zo,"Using default OfflineComponentProvider"),await Bv(n,new U9(void 0));return n._offlineComponents}async function cy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(zo,"Using user provided OnlineComponentProvider"),await yb(n,n._uninitializedComponentsProvider._online)):(ue(zo,"Using default OnlineComponentProvider"),await yb(n,new Fh))),n._onlineComponents}function bO(n){return Y0(n).then(e=>e.persistence)}function J0(n){return Y0(n).then(e=>e.localStore)}function PO(n){return cy(n).then(e=>e.remoteStore)}function X0(n){return cy(n).then(e=>e.syncEngine)}function q9(n){return cy(n).then(e=>e.datastore)}async function rc(n){const e=await cy(n),t=e.eventManager;return t.onListen=v9.bind(null,e.syncEngine),t.onUnlisten=E9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=w9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=I9.bind(null,e.syncEngine),t}function H9(n){return n.asyncQueue.enqueue(async()=>{const e=await bO(n),t=await PO(n);return e.setNetworkEnabled(!0),function(i){const s=ve(i);return s.W_.delete(0),_f(s)}(t)})}function K9(n){return n.asyncQueue.enqueue(async()=>{const e=await bO(n),t=await PO(n);return e.setNetworkEnabled(!1),async function(i){const s=ve(i);s.W_.add(0),await wc(s),s.j_.set("Offline")}(t)})}function G9(n,e){const t=new An;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,l){try{const u=await function(h,m){const g=ve(h);return g.persistence.runTransaction("read document","readonly",_=>g.localDocuments.getDocument(_,m))}(i,s);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new ae(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const d=Tc(u,`Failed to get document '${s} from cache`);l.reject(d)}}(await J0(n),e,t)),t.promise}function CO(n,e,t={}){const r=new An;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,d,h){const m=new uy({next:_=>{m.su(),l.enqueueAndForget(()=>z0(s,g));const T=_.docs.has(u);!T&&_.fromCache?h.reject(new ae(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&d&&d.source==="server"?h.reject(new ae(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new W0(yc(u.path),m,{includeMetadataChanges:!0,Ta:!0});return B0(s,g)}(await rc(n),n.asyncQueue,e,t,r)),r.promise}function Q9(n,e){const t=new An;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,l){try{const u=await pg(i,s,!0),d=new EO(s,u.gs),h=d.Sa(u.documents),m=d.applyChanges(h,!1);l.resolve(m.snapshot)}catch(u){const d=Tc(u,`Failed to execute query '${s} against cache`);l.reject(d)}}(await J0(n),e,t)),t.promise}function kO(n,e,t={}){const r=new An;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,d,h){const m=new uy({next:_=>{m.su(),l.enqueueAndForget(()=>z0(s,g)),_.fromCache&&d.source==="server"?h.reject(new ae(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new W0(u,m,{includeMetadataChanges:!0,Ta:!0});return B0(s,g)}(await rc(n),n.asyncQueue,e,t,r)),r.promise}function Y9(n,e){const t=new uy(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,s){ve(i).ia.add(s),s.next()}(await rc(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,s){ve(i).ia.delete(s)}(await rc(n),t))}}function J9(n,e,t,r){const i=function(l,u){let d;return d=typeof l=="string"?Sx().encode(l):l,function(m,g){return new B9(m,g)}(function(m,g){if(m instanceof Uint8Array)return gb(m,g);if(m instanceof ArrayBuffer)return gb(new Uint8Array(m),g);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),u)}(t,yf(e));n.asyncQueue.enqueueAndForget(async()=>{F9(await X0(n),i,r)})}function X9(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const s=ve(r);return s.persistence.runTransaction("Get named query","readonly",l=>s.Yr.getNamedQuery(l,i))}(await J0(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(n,e,t){if(!t)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OO(n,e,t,r){if(e===!0&&r===!0)throw new ae(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vb(n){if(!_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wb(n){if(_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie()}function tt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dy(n);throw new ae(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function NO(n,e){if(e<=0)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="firestore.googleapis.com",Eb=!0;class Ib{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DO,this.ssl=Eb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Eb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vj)throw new ae(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ib({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ib(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new M3;switch(r.type){case"firstParty":return new B3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=_b.get(t);r&&(ue("ComponentProvider","Removing Datastore"),_b.delete(t),r.terminate())}(this),Promise.resolve()}}function Z9(n,e,t,r={}){var i;const s=(n=tt(n,vf))._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;s.host!==DO&&s.host!==u&&Xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},s),{host:u,ssl:!1,emulatorOptions:r});if(!pi(d,l)&&(n._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=gn.MOCK_USER;else{h=HM(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ae(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new gn(g)}n._authCredentials=new F3(new A1(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qn=class LO{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new LO(this.firestore,e,this._query)}},Nt=class VO{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new VO(this.firestore,e,this._key)}},Oo=class MO extends qn{constructor(e,t,r){super(e,t,yc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new _e(e))}withConverter(e){return new MO(this.firestore,e,this._path)}};function FO(n,e,...t){if(n=ke(n),Z0("collection","path",e),n instanceof vf){const r=je.fromString(e,...t);return wb(r),new Oo(n,null,r)}{if(!(n instanceof Nt||n instanceof Oo))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(je.fromString(e,...t));return wb(r),new Oo(n.firestore,null,r)}}function e6(n,e){if(n=tt(n,vf),Z0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qn(n,null,function(r){return new Bs(je.emptyPath(),r)}(e))}function _g(n,e,...t){if(n=ke(n),arguments.length===1&&(e=b1.newId()),Z0("doc","path",e),n instanceof vf){const r=je.fromString(e,...t);return vb(r),new Nt(n,null,new _e(r))}{if(!(n instanceof Nt||n instanceof Oo))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(je.fromString(e,...t));return vb(r),new Nt(n.firestore,n instanceof Oo?n.converter:null,new _e(r))}}function UO(n,e){return n=ke(n),e=ke(e),(n instanceof Nt||n instanceof Oo)&&(e instanceof Nt||e instanceof Oo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function $O(n,e){return n=ke(n),e=ke(e),n instanceof qn&&e instanceof qn&&n.firestore===e.firestore&&hf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="AsyncQueue";class Sb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new V0(this,"async_queue_retry"),this.bu=()=>{const r=Pm();r&&ue(Tb,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Pm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Pm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new An;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Zo(e))throw e;ue(Tb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw jt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=$0.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Ie()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Yw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class t6{constructor(){this._progressObserver={},this._taskCompletionResolver=new An,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=-1;let qt=class extends vf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Sb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sb(e),this._firestoreClient=void 0,await e}}};function Mn(n){if(n._terminated)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||BO(n),n._firestoreClient}function BO(n){var e,t,r;const i=n._freezeSettings(),s=function(u,d,h,m){return new Tz(u,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,xO(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new W9(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(n._componentsProvider))}function r6(n,e){Xi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return zO(n,Fh.provider,{build:r=>new AO(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function i6(n){Xi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();zO(n,Fh.provider,{build:t=>new $9(t,e.cacheSizeBytes)})}function zO(n,e,t){if((n=tt(n,qt))._firestoreClient||n._terminated)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ae(te.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},BO(n)}function s6(n){if(n._initialized&&!n._terminated)throw new ae(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new An;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Hi.D())return Promise.resolve();const i=r+Xx;await Hi.delete(i)}(O0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function o6(n){return function(t){const r=new An;return t.asyncQueue.enqueueAndForget(async()=>b9(await X0(t),r)),r.promise}(Mn(n=tt(n,qt)))}function a6(n){return H9(Mn(n=tt(n,qt)))}function l6(n){return K9(Mn(n=tt(n,qt)))}function u6(n,e){const t=Mn(n=tt(n,qt)),r=new t6;return J9(t,n._databaseId,e,r),r}function c6(n,e){return X9(Mn(n=tt(n,qt)),e).then(t=>t?new qn(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new es(Ft.fromBase64String(e))}catch(t){throw new ae(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new es(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=/^__.*__$/;class h6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,t,this.fieldTransforms):new _c(e,this.data,t,this.fieldTransforms)}}class jO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new js(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function WO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class fy{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new fy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return vg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(WO(this.Lu)&&d6.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class f6{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||yf(e)}ju(e,t,r,i=!1){return new fy({Lu:e,methodName:t,zu:r,path:Rt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hl(n){const e=n._freezeSettings(),t=yf(n._databaseId);return new f6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function py(n,e,t,r,i,s={}){const l=n.ju(s.merge||s.mergeFields?2:0,e,t,i);aI("Data must be an object, but it was:",l,r);const u=KO(r,l);let d,h;if(s.merge)d=new ir(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const _=Jw(e,g,t);if(!l.contains(_))throw new ae(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);QO(m,_)||m.push(_)}d=new ir(m),h=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,h=l.fieldTransforms;return new h6(new Rn(u),d,h)}class wf extends dl{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wf}}function qO(n,e,t){return new fy({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class tI extends dl{_toFieldTransform(e){return new pf(e.path,new Qu)}isEqual(e){return e instanceof tI}}class nI extends dl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=qO(this,e,!0),r=this.Hu.map(s=>fl(s,t)),i=new el(r);return new pf(e.path,i)}isEqual(e){return e instanceof nI&&pi(this.Hu,e.Hu)}}class rI extends dl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=qO(this,e,!0),r=this.Hu.map(s=>fl(s,t)),i=new tl(r);return new pf(e.path,i)}isEqual(e){return e instanceof rI&&pi(this.Hu,e.Hu)}}class iI extends dl{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Yu(e.serializer,mx(e.serializer,this.Ju));return new pf(e.path,t)}isEqual(e){return e instanceof iI&&this.Ju===e.Ju}}function sI(n,e,t,r){const i=n.ju(1,e,t);aI("Data must be an object, but it was:",i,r);const s=[],l=Rn.empty();ea(r,(d,h)=>{const m=lI(e,d,t);h=ke(h);const g=i.Ku(m);if(h instanceof wf)s.push(m);else{const _=fl(h,g);_!=null&&(s.push(m),l.set(m,_))}});const u=new ir(s);return new jO(l,u,i.fieldTransforms)}function oI(n,e,t,r,i,s){const l=n.ju(1,e,t),u=[Jw(e,r,t)],d=[i];if(s.length%2!=0)throw new ae(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)u.push(Jw(e,s[_])),d.push(s[_+1]);const h=[],m=Rn.empty();for(let _=u.length-1;_>=0;--_)if(!QO(h,u[_])){const T=u[_];let I=d[_];I=ke(I);const R=l.Ku(T);if(I instanceof wf)h.push(T);else{const b=fl(I,R);b!=null&&(h.push(T),m.set(T,b))}}const g=new ir(h);return new jO(m,g,l.fieldTransforms)}function HO(n,e,t,r=!1){return fl(t,n.ju(r?4:3,e))}function fl(n,e){if(GO(n=ke(n)))return aI("Unsupported field value:",e,n),KO(n,e);if(n instanceof dl)return function(r,i){if(!WO(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let l=0;for(const u of r){let d=fl(u,i.Uu(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=bt.fromDate(r);return{timestampValue:Ju(i.serializer,s)}}if(r instanceof bt){const s=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ju(i.serializer,s)}}if(r instanceof hy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof es)return{bytesValue:bx(i.serializer,r._byteString)};if(r instanceof Nt){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:R0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof eI)return function(l,u){return{mapValue:{fields:{[p0]:{stringValue:m0},[Hu]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return v0(u.serializer,h)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${dy(r)}`)}(n,e)}function KO(n,e){const t={};return W1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(n,(r,i)=>{const s=fl(i,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function GO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bt||n instanceof hy||n instanceof es||n instanceof Nt||n instanceof dl||n instanceof eI)}function aI(n,e,t){if(!GO(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=dy(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Jw(n,e,t){if((e=ke(e))instanceof jo)return e._internalPath;if(typeof e=="string")return lI(n,e);throw vg("Field path arguments must be of type string or ",n,!1,void 0,t)}const p6=new RegExp("[~\\*/\\[\\]]");function lI(n,e,t){if(e.search(p6)>=0)throw vg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jo(...e.split("."))._internalPath}catch{throw vg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vg(n,e,t,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ae(te.INVALID_ARGUMENT,u+n+d)}function QO(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(my("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class m6 extends Uh{data(){return super.data()}}function my(n,e){return typeof e=="string"?lI(n,e):e instanceof jo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uI{}class Ef extends uI{}function Io(n,e,...t){let r=[];e instanceof uI&&r.push(e),r=r.concat(t),function(s){const l=s.filter(d=>d instanceof cI).length,u=s.filter(d=>d instanceof gy).length;if(l>1||l>0&&u>0)throw new ae(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class gy extends Ef{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new gy(e,t,r)}_apply(e){const t=this._parse(e);return XO(e._query,t),new qn(e.firestore,e.converter,Mw(e._query,t))}_parse(e){const t=hl(e.firestore);return function(s,l,u,d,h,m,g){let _;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ae(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Ab(g,m);const I=[];for(const R of g)I.push(Rb(d,s,R));_={arrayValue:{values:I}}}else _=Rb(d,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Ab(g,m),_=HO(u,l,g,m==="in"||m==="not-in");return We.create(h,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function g6(n,e,t){const r=e,i=my("where",n);return gy._create(i,r,t)}class cI extends uI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new cI(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:at.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)XO(l,d),l=Mw(l,d)}(e._query,t),new qn(e.firestore,e.converter,Mw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dI extends Ef{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new dI(e,t)}_apply(e){const t=function(i,s,l){if(i.startAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dh(s,l)}(e._query,this._field,this._direction);return new qn(e.firestore,e.converter,function(i,s){const l=i.explicitOrderBy.concat([s]);return new Bs(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function y6(n,e="asc"){const t=e,r=my("orderBy",n);return dI._create(r,t)}class yy extends Ef{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new yy(e,t,r)}_apply(e){return new qn(e.firestore,e.converter,ug(e._query,this._limit,this._limitType))}}function _6(n){return NO("limit",n),yy._create("limit",n,"F")}function v6(n){return NO("limitToLast",n),yy._create("limitToLast",n,"L")}class _y extends Ef{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new _y(e,t,r)}_apply(e){const t=JO(e,this.type,this._docOrFields,this._inclusive);return new qn(e.firestore,e.converter,function(i,s){return new Bs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,t))}}function w6(...n){return _y._create("startAt",n,!0)}function E6(...n){return _y._create("startAfter",n,!1)}class vy extends Ef{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new vy(e,t,r)}_apply(e){const t=JO(e,this.type,this._docOrFields,this._inclusive);return new qn(e.firestore,e.converter,function(i,s){return new Bs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,t))}}function I6(...n){return vy._create("endBefore",n,!1)}function T6(...n){return vy._create("endAt",n,!0)}function JO(n,e,t,r){if(t[0]=ke(t[0]),t[0]instanceof Uh)return function(s,l,u,d,h){if(!d)throw new ae(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const g of Ou(s))if(g.field.isKeyField())m.push(Xa(l,d.key));else{const _=d.data.field(g.field);if(Zg(_))throw new ae(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const T=g.field.canonicalString();throw new ae(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}m.push(_)}return new $o(m,h)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=hl(n.firestore);return function(l,u,d,h,m,g){const _=l.explicitOrderBy;if(m.length>_.length)throw new ae(te.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let I=0;I<m.length;I++){const R=m[I];if(_[I].field.isKeyField()){if(typeof R!="string")throw new ae(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof R}`);if(!y0(l)&&R.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${R}' contains a slash.`);const b=l.path.child(je.fromString(R));if(!_e.isDocumentKey(b))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const V=new _e(b);T.push(Xa(u,V))}else{const b=HO(d,h,R);T.push(b)}}return new $o(T,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Rb(n,e,t){if(typeof(t=ke(t))=="string"){if(t==="")throw new ae(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y0(e)&&t.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(je.fromString(t));if(!_e.isDocumentKey(r))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xa(n,new _e(r))}if(t instanceof Nt)return Xa(n,t._key);throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dy(t)}.`)}function Ab(n,e){if(!Array.isArray(n)||n.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XO(n,e){const t=function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class hI{convertValue(e,t="none"){switch(Fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ea(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Hu].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>St(l.doubleValue));return new eI(s)}convertGeoPoint(e){return new hy(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ey(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(xh(e));default:return null}}convertTimestamp(e){const t=Ls(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=je.fromString(e);Ae(Fx(r));const i=new Mo(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(t)||jt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class S6 extends hI{constructor(e){super(),this.firestore=e}convertBytes(e){return new es(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Ms=class extends Uh{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(my("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ph=class extends Ms{data(e={}){return super.data(e)}},Wo=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new za(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ph(this._firestore,this._userDataWriter,r.key,r,new za(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new ph(i._firestore,i._userDataWriter,u.doc.key,u.doc,new za(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const d=new ph(i._firestore,i._userDataWriter,u.doc.key,u.doc,new za(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:R6(u.type),doc:d,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function R6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}function ZO(n,e){return n instanceof Ms&&e instanceof Ms?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Wo&&e instanceof Wo&&n._firestore===e._firestore&&$O(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(n){n=tt(n,Nt);const e=tt(n.firestore,qt);return CO(Mn(e),n._key).then(t=>fI(e,n,t))}class pl extends hI{constructor(e){super(),this.firestore=e}convertBytes(e){return new es(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}function b6(n){n=tt(n,Nt);const e=tt(n.firestore,qt),t=Mn(e),r=new pl(e);return G9(t,n._key).then(i=>new Ms(e,r,n._key,i,new za(i!==null&&i.hasLocalMutations,!0),n.converter))}function P6(n){n=tt(n,Nt);const e=tt(n.firestore,qt);return CO(Mn(e),n._key,{source:"server"}).then(t=>fI(e,n,t))}function C6(n){n=tt(n,qn);const e=tt(n.firestore,qt),t=Mn(e),r=new pl(e);return YO(n._query),kO(t,n._query).then(i=>new Wo(e,r,n,i))}function k6(n){n=tt(n,qn);const e=tt(n.firestore,qt),t=Mn(e),r=new pl(e);return Q9(t,n._query).then(i=>new Wo(e,r,n,i))}function x6(n){n=tt(n,qn);const e=tt(n.firestore,qt),t=Mn(e),r=new pl(e);return kO(t,n._query,{source:"server"}).then(i=>new Wo(e,r,n,i))}function bb(n,e,t){n=tt(n,Nt);const r=tt(n.firestore,qt),i=wy(n.converter,e,t);return If(r,[py(hl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,At.none())])}function Pb(n,e,t,...r){n=tt(n,Nt);const i=tt(n.firestore,qt),s=hl(i);let l;return l=typeof(e=ke(e))=="string"||e instanceof jo?oI(s,"updateDoc",n._key,e,t,r):sI(s,"updateDoc",n._key,e),If(i,[l.toMutation(n._key,At.exists(!0))])}function O6(n){return If(tt(n.firestore,qt),[new vc(n._key,At.none())])}function N6(n,e){const t=tt(n.firestore,qt),r=_g(n),i=wy(n.converter,e);return If(t,[py(hl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,At.exists(!1))]).then(()=>r)}function eN(n,...e){var t,r,i;n=ke(n);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||Yw(e[l])||(s=e[l],l++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Yw(e[l])){const g=e[l];e[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let d,h,m;if(n instanceof Nt)h=tt(n.firestore,qt),m=yc(n._key.path),d={next:g=>{e[l]&&e[l](fI(h,n,g))},error:e[l+1],complete:e[l+2]};else{const g=tt(n,qn);h=tt(g.firestore,qt),m=g._query;const _=new pl(h);d={next:T=>{e[l]&&e[l](new Wo(h,_,g,T))},error:e[l+1],complete:e[l+2]},YO(n._query)}return function(_,T,I,R){const b=new uy(R),V=new W0(T,b,I);return _.asyncQueue.enqueueAndForget(async()=>B0(await rc(_),V)),()=>{b.su(),_.asyncQueue.enqueueAndForget(async()=>z0(await rc(_),V))}}(Mn(h),m,u,d)}function D6(n,e){return Y9(Mn(n=tt(n,qt)),Yw(e)?e:{next:e})}function If(n,e){return function(r,i){const s=new An;return r.asyncQueue.enqueueAndForget(async()=>T9(await X0(r),i,s)),s.promise}(Mn(n),e)}function fI(n,e,t){const r=t.docs.get(e._key),i=new pl(n);return new Ms(n,i,e._key,r,new za(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V6=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hl(e)}set(e,t,r){this._verifyNotCommitted();const i=bo(e,this._firestore),s=wy(i.converter,t,r),l=py(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,At.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=bo(e,this._firestore);let l;return l=typeof(t=ke(t))=="string"||t instanceof jo?oI(this._dataReader,"WriteBatch.update",s._key,t,r,i):sI(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,At.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=bo(e,this._firestore);return this._mutations=this._mutations.concat(new vc(t._key,At.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function bo(n,e){if((n=ke(n)).firestore!==e)throw new ae(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hl(e)}get(e){const t=bo(e,this._firestore),r=new S6(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return Ie();const s=i[0];if(s.isFoundDocument())return new Uh(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Uh(this._firestore,r,t._key,null,t.converter);throw Ie()})}set(e,t,r){const i=bo(e,this._firestore),s=wy(i.converter,t,r),l=py(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const s=bo(e,this._firestore);let l;return l=typeof(t=ke(t))=="string"||t instanceof jo?oI(this._dataReader,"Transaction.update",s._key,t,r,i):sI(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=bo(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F6=class extends M6{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=bo(e,this._firestore),r=new pl(this._firestore);return super.get(e).then(i=>new Ms(this._firestore,r,t._key,i._document,new za(!1,!1),t.converter))}};function U6(n,e,t){n=tt(n,qt);const r=Object.assign(Object.assign({},L6),t);return function(s){if(s.maxAttempts<1)throw new ae(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,l,u){const d=new An;return s.asyncQueue.enqueueAndForget(async()=>{const h=await q9(s);new j9(s.asyncQueue,h,u,l,d).Iu()}),d.promise}(Mn(n),i=>e(new F6(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(){return new wf("deleteField")}function B6(){return new tI("serverTimestamp")}function z6(...n){return new nI("arrayUnion",n)}function j6(...n){return new rI("arrayRemove",n)}function W6(n){return new iI("increment",n)}(function(e,t=!0){(function(i){gc=i})(Pr),Yi(new qr("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new qt(new U3(r.getProvider("auth-internal")),new z3(l,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ae(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(h.options.projectId,m)}(l,i),l);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Tr(oA,aA,e),Tr(oA,aA,"esm2017")})();const q6="@firebase/firestore-compat",H6="0.3.44";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(){if(typeof Uint8Array>"u")throw new ae("unimplemented","Uint8Arrays are not available in this environment.")}function kb(){if(!Ez())throw new ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}let tN=class Xw{constructor(e){this._delegate=e}static fromBase64String(e){return kb(),new Xw(es.fromBase64String(e))}static fromUint8Array(e){return Cb(),new Xw(es.fromUint8Array(e))}toBase64(){return kb(),this._delegate.toBase64()}toUint8Array(){return Cb(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n){return K6(n,["next","error","complete"])}function K6(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{enableIndexedDbPersistence(e,t){return r6(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return i6(e._delegate)}clearIndexedDbPersistence(e){return s6(e._delegate)}}class nN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Xi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){Z9(this._delegate,e,t,r)}enableNetwork(){return a6(this._delegate)}disableNetwork(){return l6(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,OO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return o6(this._delegate)}onSnapshotsInSync(e){return D6(this._delegate,e)}get app(){if(!this._appCompat)throw new ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ic(this,FO(this._delegate,e))}catch(t){throw jn(t,"collection()","Firestore.collection()")}}doc(e){try{return new zr(this,_g(this._delegate,e))}catch(t){throw jn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new zn(this,e6(this._delegate,e))}catch(t){throw jn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return U6(this._delegate,t=>e(new rN(this,t)))}batch(){return Mn(this._delegate),new iN(new V6(this._delegate,e=>If(this._delegate,e)))}loadBundle(e){return u6(this._delegate,e)}namedQuery(e){return c6(this._delegate,e).then(t=>t?new zn(this,t):null)}}class Ey extends hI{constructor(e){super(),this.firestore=e}convertBytes(e){return new tN(new es(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return zr.forKey(t,this.firestore,null)}}function Q6(n){L3(n)}class rN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ey(e)}get(e){const t=ja(e);return this._delegate.get(t).then(r=>new $h(this._firestore,new Ms(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ja(e);return r?(pI("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=ja(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=ja(e);return this._delegate.delete(t),this}}class iN{constructor(e){this._delegate=e}set(e,t,r){const i=ja(e);return r?(pI("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=ja(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=ja(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ol{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new ph(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bh(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ol.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new ol(e,new Ey(e),t),i.set(t,s)),s}}ol.INSTANCES=new WeakMap;class zr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ey(e)}static forPath(e,t,r){if(e.length%2!==0)throw new ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new zr(t,new Nt(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new zr(t,new Nt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ic(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ic(this.firestore,FO(this._delegate,e))}catch(t){throw jn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ke(e),e instanceof Nt?UO(this._delegate,e):!1}set(e,t){t=pI("DocumentReference.set",t);try{return t?bb(this._delegate,e,t):bb(this._delegate,e)}catch(r){throw jn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?Pb(this._delegate,e):Pb(this._delegate,e,t,...r)}catch(i){throw jn(i,"updateDoc()","DocumentReference.update()")}}delete(){return O6(this._delegate)}onSnapshot(...e){const t=sN(e),r=oN(e,i=>new $h(this.firestore,new Ms(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return eN(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=b6(this._delegate):(e==null?void 0:e.source)==="server"?t=P6(this._delegate):t=A6(this._delegate),t.then(r=>new $h(this.firestore,new Ms(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new zr(this.firestore,e?this._delegate.withConverter(ol.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function jn(n,e,t){return n.message=n.message.replace(e,t),n}function sN(n){for(const e of n)if(typeof e=="object"&&!Zw(e))return e;return{}}function oN(n,e){var t,r;let i;return Zw(n[0])?i=n[0]:Zw(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class $h{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new zr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ZO(this._delegate,e._delegate)}}class Bh extends $h{data(e){const t=this._delegate.data(e);return this._delegate._converter||V3(t!==void 0),t}}class zn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ey(e)}where(e,t,r){try{return new zn(this.firestore,Io(this._delegate,g6(e,t,r)))}catch(i){throw jn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new zn(this.firestore,Io(this._delegate,y6(e,t)))}catch(r){throw jn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new zn(this.firestore,Io(this._delegate,_6(e)))}catch(t){throw jn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new zn(this.firestore,Io(this._delegate,v6(e)))}catch(t){throw jn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new zn(this.firestore,Io(this._delegate,w6(...e)))}catch(t){throw jn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new zn(this.firestore,Io(this._delegate,E6(...e)))}catch(t){throw jn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new zn(this.firestore,Io(this._delegate,I6(...e)))}catch(t){throw jn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new zn(this.firestore,Io(this._delegate,T6(...e)))}catch(t){throw jn(t,"endAt()","Query.endAt()")}}isEqual(e){return $O(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=k6(this._delegate):(e==null?void 0:e.source)==="server"?t=x6(this._delegate):t=C6(this._delegate),t.then(r=>new eE(this.firestore,new Wo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=sN(e),r=oN(e,i=>new eE(this.firestore,new Wo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return eN(this._delegate,t,r)}withConverter(e){return new zn(this.firestore,e?this._delegate.withConverter(ol.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Y6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Bh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class eE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new zn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Bh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Y6(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Bh(this._firestore,r))})}isEqual(e){return ZO(this._delegate,e._delegate)}}class ic extends zn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new zr(this.firestore,e):null}doc(e){try{return e===void 0?new zr(this.firestore,_g(this._delegate)):new zr(this.firestore,_g(this._delegate,e))}catch(t){throw jn(t,"doc()","CollectionReference.doc()")}}add(e){return N6(this._delegate,e).then(t=>new zr(this.firestore,t))}isEqual(e){return UO(this._delegate,e._delegate)}withConverter(e){return new ic(this.firestore,e?this._delegate.withConverter(ol.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ja(n){return tt(n,Nt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(...e){this._delegate=new jo(...e)}static documentId(){return new mI(Rt.keyField().canonicalString())}isEqual(e){return e=ke(e),e instanceof jo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{static serverTimestamp(){const e=B6();return e._methodName="FieldValue.serverTimestamp",new Ua(e)}static delete(){const e=$6();return e._methodName="FieldValue.delete",new Ua(e)}static arrayUnion(...e){const t=z6(...e);return t._methodName="FieldValue.arrayUnion",new Ua(t)}static arrayRemove(...e){const t=j6(...e);return t._methodName="FieldValue.arrayRemove",new Ua(t)}static increment(e){const t=W6(e);return t._methodName="FieldValue.increment",new Ua(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6={Firestore:nN,GeoPoint:hy,Timestamp:bt,Blob:tN,Transaction:rN,WriteBatch:iN,DocumentReference:zr,DocumentSnapshot:$h,Query:zn,QueryDocumentSnapshot:Bh,QuerySnapshot:eE,CollectionReference:ic,FieldPath:mI,FieldValue:Ua,setLogLevel:Q6,CACHE_SIZE_UNLIMITED:n6};function X6(n,e){n.INTERNAL.registerComponent(new qr("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},J6)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(n){X6(n,(e,t)=>new nN(e,t,new G6)),n.registerVersion(q6,H6)}Z6(dc);const eW={apiKey:"AIzaSyBN0OtqSknu4TFOgNdyDsVq5iOBOcw3vu8",authDomain:"e-clone-2025.firebaseapp.com",projectId:"e-clone-2025",storageBucket:"e-clone-2025.firebasestorage.app",messagingSenderId:"271857506762",appId:"1:271857506762:web:795940942f36f8547f9733"},aN=dc.initializeApp(eW),wg=D$(aN),lN=aN.firestore(),qs=K.createContext(),tW=({children:n,reducer:e,initialState:t})=>F(qs.Provider,{value:K.useReducer(e,t),children:n});function nW(){const[{user:n,basket:e},t]=K.useContext(qs),r=e==null?void 0:e.reduce((i,s)=>s.amount+i,0);return we("section",{className:Is.fixed,children:[F("section",{children:we("div",{className:Is.header_container,children:[we("div",{className:Is.logo_container,children:[F(hi,{to:"/",children:F("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"Amazon logo"})}),we("div",{className:Is.delivery,children:[F("span",{children:F(XL,{})}),we("div",{children:[F("p",{children:"Delivered to "}),F("span",{children:"Silver Spring"})]})]})]}),we("div",{className:Is.search,children:[F("select",{name:"",id:"",children:F("option",{value:"",children:"All"})}),F("input",{type:"text"}),F(JL,{size:25})]}),we("div",{className:Is.order_container,children:[we(hi,{to:"",className:Is.language,children:[F("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Flag_of_the_United_States.svg/1200px-Flag_of_the_United_States.svg.png?20240524035322",alt:""}),F("select",{name:"",id:"",children:F("option",{value:"",children:"EN"})})]}),F(hi,{to:!n&&"/Auth",children:F("div",{children:n?we($m,{children:[we("p",{children:["Hello ",n==null?void 0:n.email.split("@")[0]]}),F("span",{onClick:()=>wg.signOut(),children:"Sign Out"})]}):we($m,{children:[F("p",{children:"Hello, Sign In"}),F("span",{children:"Accounts & Lists"})]})})}),we(hi,{to:"/Orders",children:[F("p",{children:"returns"}),F("span",{children:"& Orders"})]}),we(hi,{to:"/Cart",className:Is.cart,children:[F(ZL,{size:35}),F("span",{children:r})]})]})]})}),F(hV,{})]})}function Sc({children:n}){return we("div",{children:[F(nW,{}),n]})}const rW="_category_co1nl_3",iW="_category_container_co1nl_89",uN={category:rW,category_container:iW};function sW({data:n}){return F("div",{className:uN.category,children:we(hi,{to:`/category/${n.name}`,children:[F("span",{children:F("h3",{children:n==null?void 0:n.title})}),F("img",{src:n==null?void 0:n.imgLink,alt:""}),F("p",{children:"shop now"})]})})}const oW=[{title:"Electronics",name:"electronics",imgLink:"https://fakestoreapi.com/img/81Zt42ioCgL._AC_SX679_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/softlines/shopbop/ingress/2023/March/mp_20230219_ff_desktopsinglecategory_desktop_379x304_1._SY304CB612639047_.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/618bcm65ksL._AC_UL480_FMwebp_QL65_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/71r7eWuCsaL._AC_UL480_FMwebp_QL65_.jpg"}];function aW(){return F("section",{className:uN.category_container,children:oW.map((n,e)=>F(sW,{data:n},e))})}function cN(n,e){return function(){return n.apply(e,arguments)}}const{toString:lW}=Object.prototype,{getPrototypeOf:gI}=Object,Iy=(n=>e=>{const t=lW.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),_i=n=>(n=n.toLowerCase(),e=>Iy(e)===n),Ty=n=>e=>typeof e===n,{isArray:Rc}=Array,zh=Ty("undefined");function uW(n){return n!==null&&!zh(n)&&n.constructor!==null&&!zh(n.constructor)&&Sr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const dN=_i("ArrayBuffer");function cW(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&dN(n.buffer),e}const dW=Ty("string"),Sr=Ty("function"),hN=Ty("number"),Sy=n=>n!==null&&typeof n=="object",hW=n=>n===!0||n===!1,Cm=n=>{if(Iy(n)!=="object")return!1;const e=gI(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},fW=_i("Date"),pW=_i("File"),mW=_i("Blob"),gW=_i("FileList"),yW=n=>Sy(n)&&Sr(n.pipe),_W=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Sr(n.append)&&((e=Iy(n))==="formdata"||e==="object"&&Sr(n.toString)&&n.toString()==="[object FormData]"))},vW=_i("URLSearchParams"),[wW,EW,IW,TW]=["ReadableStream","Request","Response","Headers"].map(_i),SW=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Rc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),l=s.length;let u;for(r=0;r<l;r++)u=s[r],e.call(null,n[u],u,n)}}function fN(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Wa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pN=n=>!zh(n)&&n!==Wa;function tE(){const{caseless:n}=pN(this)&&this||{},e={},t=(r,i)=>{const s=n&&fN(e,i)||i;Cm(e[s])&&Cm(r)?e[s]=tE(e[s],r):Cm(r)?e[s]=tE({},r):Rc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Tf(arguments[r],t);return e}const RW=(n,e,t,{allOwnKeys:r}={})=>(Tf(e,(i,s)=>{t&&Sr(i)?n[s]=cN(i,t):n[s]=i},{allOwnKeys:r}),n),AW=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),bW=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},PW=(n,e,t,r)=>{let i,s,l;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)l=i[s],(!r||r(l,n,e))&&!u[l]&&(e[l]=n[l],u[l]=!0);n=t!==!1&&gI(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},CW=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},kW=n=>{if(!n)return null;if(Rc(n))return n;let e=n.length;if(!hN(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},xW=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&gI(Uint8Array)),OW=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},NW=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},DW=_i("HTMLFormElement"),LW=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),xb=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),VW=_i("RegExp"),mN=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Tf(t,(i,s)=>{let l;(l=e(i,s,n))!==!1&&(r[s]=l||i)}),Object.defineProperties(n,r)},MW=n=>{mN(n,(e,t)=>{if(Sr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Sr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},FW=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Rc(n)?r(n):r(String(n).split(e)),t},UW=()=>{},$W=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function BW(n){return!!(n&&Sr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const zW=n=>{const e=new Array(10),t=(r,i)=>{if(Sy(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Rc(r)?[]:{};return Tf(r,(l,u)=>{const d=t(l,i+1);!zh(d)&&(s[u]=d)}),e[i]=void 0,s}}return r};return t(n,0)},jW=_i("AsyncFunction"),WW=n=>n&&(Sy(n)||Sr(n))&&Sr(n.then)&&Sr(n.catch),gN=((n,e)=>n?setImmediate:e?((t,r)=>(Wa.addEventListener("message",({source:i,data:s})=>{i===Wa&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Wa.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Sr(Wa.postMessage)),qW=typeof queueMicrotask<"u"?queueMicrotask.bind(Wa):typeof process<"u"&&process.nextTick||gN,re={isArray:Rc,isArrayBuffer:dN,isBuffer:uW,isFormData:_W,isArrayBufferView:cW,isString:dW,isNumber:hN,isBoolean:hW,isObject:Sy,isPlainObject:Cm,isReadableStream:wW,isRequest:EW,isResponse:IW,isHeaders:TW,isUndefined:zh,isDate:fW,isFile:pW,isBlob:mW,isRegExp:VW,isFunction:Sr,isStream:yW,isURLSearchParams:vW,isTypedArray:xW,isFileList:gW,forEach:Tf,merge:tE,extend:RW,trim:SW,stripBOM:AW,inherits:bW,toFlatObject:PW,kindOf:Iy,kindOfTest:_i,endsWith:CW,toArray:kW,forEachEntry:OW,matchAll:NW,isHTMLForm:DW,hasOwnProperty:xb,hasOwnProp:xb,reduceDescriptors:mN,freezeMethods:MW,toObjectSet:FW,toCamelCase:LW,noop:UW,toFiniteNumber:$W,findKey:fN,global:Wa,isContextDefined:pN,isSpecCompliantForm:BW,toJSONObject:zW,isAsyncFn:jW,isThenable:WW,setImmediate:gN,asap:qW};function Fe(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}re.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const yN=Fe.prototype,_N={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{_N[n]={value:n}});Object.defineProperties(Fe,_N);Object.defineProperty(yN,"isAxiosError",{value:!0});Fe.from=(n,e,t,r,i,s)=>{const l=Object.create(yN);return re.toFlatObject(n,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),Fe.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,s&&Object.assign(l,s),l};const HW=null;function nE(n){return re.isPlainObject(n)||re.isArray(n)}function vN(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function Ob(n,e,t){return n?n.concat(e).map(function(i,s){return i=vN(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function KW(n){return re.isArray(n)&&!n.some(nE)}const GW=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function Ry(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,b){return!re.isUndefined(b[R])});const r=t.metaTokens,i=t.visitor||m,s=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function h(I){if(I===null)return"";if(re.isDate(I))return I.toISOString();if(!d&&re.isBlob(I))throw new Fe("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(I)||re.isTypedArray(I)?d&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function m(I,R,b){let V=I;if(I&&!b&&typeof I=="object"){if(re.endsWith(R,"{}"))R=r?R:R.slice(0,-2),I=JSON.stringify(I);else if(re.isArray(I)&&KW(I)||(re.isFileList(I)||re.endsWith(R,"[]"))&&(V=re.toArray(I)))return R=vN(R),V.forEach(function(M,z){!(re.isUndefined(M)||M===null)&&e.append(l===!0?Ob([R],z,s):l===null?R:R+"[]",h(M))}),!1}return nE(I)?!0:(e.append(Ob(b,R,s),h(I)),!1)}const g=[],_=Object.assign(GW,{defaultVisitor:m,convertValue:h,isVisitable:nE});function T(I,R){if(!re.isUndefined(I)){if(g.indexOf(I)!==-1)throw Error("Circular reference detected in "+R.join("."));g.push(I),re.forEach(I,function(V,L){(!(re.isUndefined(V)||V===null)&&i.call(e,V,re.isString(L)?L.trim():L,R,_))===!0&&T(V,R?R.concat(L):[L])}),g.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return T(n),e}function Nb(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function yI(n,e){this._pairs=[],n&&Ry(n,this,e)}const wN=yI.prototype;wN.append=function(e,t){this._pairs.push([e,t])};wN.toString=function(e){const t=e?function(r){return e.call(this,r,Nb)}:Nb;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function QW(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function EN(n,e,t){if(!e)return n;const r=t&&t.encode||QW;re.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=re.isURLSearchParams(e)?e.toString():new yI(e,t).toString(r),s){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class Db{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const IN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YW=typeof URLSearchParams<"u"?URLSearchParams:yI,JW=typeof FormData<"u"?FormData:null,XW=typeof Blob<"u"?Blob:null,ZW={isBrowser:!0,classes:{URLSearchParams:YW,FormData:JW,Blob:XW},protocols:["http","https","file","blob","url","data"]},_I=typeof window<"u"&&typeof document<"u",rE=typeof navigator=="object"&&navigator||void 0,eq=_I&&(!rE||["ReactNative","NativeScript","NS"].indexOf(rE.product)<0),tq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nq=_I&&window.location.href||"http://localhost",rq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_I,hasStandardBrowserEnv:eq,hasStandardBrowserWebWorkerEnv:tq,navigator:rE,origin:nq},Symbol.toStringTag,{value:"Module"})),Ln={...rq,...ZW};function iq(n,e){return Ry(n,new Ln.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return Ln.isNode&&re.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function sq(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function oq(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function TN(n){function e(t,r,i,s){let l=t[s++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=s>=t.length;return l=!l&&re.isArray(i)?i.length:l,d?(re.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!re.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],s)&&re.isArray(i[l])&&(i[l]=oq(i[l])),!u)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(r,i)=>{e(sq(r),i,t,0)}),t}return null}function aq(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Sf={transitional:IN,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=re.isObject(e);if(s&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i?JSON.stringify(TN(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return iq(e,this.formSerializer).toString();if((u=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ry(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),aq(e)):e}],transformResponse:[function(e){const t=this.transitional||Sf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Fe.from(u,Fe.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ln.classes.FormData,Blob:Ln.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{Sf.headers[n]={}});const lq=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uq=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&lq[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Lb=Symbol("internals");function Nd(n){return n&&String(n).trim().toLowerCase()}function km(n){return n===!1||n==null?n:re.isArray(n)?n.map(km):String(n)}function cq(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const dq=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function zv(n,e,t,r,i){if(re.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function hq(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function fq(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,l){return this[r].call(this,e,i,s,l)},configurable:!0})})}let or=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(u,d,h){const m=Nd(d);if(!m)throw new Error("header name must be a non-empty string");const g=re.findKey(i,m);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||d]=km(u))}const l=(u,d)=>re.forEach(u,(h,m)=>s(h,m,d));if(re.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(re.isString(e)&&(e=e.trim())&&!dq(e))l(uq(e),t);else if(re.isHeaders(e))for(const[u,d]of e.entries())s(d,u,r);else e!=null&&s(t,e,r);return this}get(e,t){if(e=Nd(e),e){const r=re.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return cq(i);if(re.isFunction(t))return t.call(this,i,r);if(re.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Nd(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||zv(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(l){if(l=Nd(l),l){const u=re.findKey(r,l);u&&(!t||zv(r,r[u],u,t))&&(delete r[u],i=!0)}}return re.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||zv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return re.forEach(this,(i,s)=>{const l=re.findKey(r,s);if(l){t[l]=km(i),delete t[s];return}const u=e?hq(s):String(s).trim();u!==s&&delete t[s],t[u]=km(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&re.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Lb]=this[Lb]={accessors:{}}).accessors,i=this.prototype;function s(l){const u=Nd(l);r[u]||(fq(i,l),r[u]=!0)}return re.isArray(e)?e.forEach(s):s(e),this}};or.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(or.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});re.freezeMethods(or);function jv(n,e){const t=this||Sf,r=e||t,i=or.from(r.headers);let s=r.data;return re.forEach(n,function(u){s=u.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function SN(n){return!!(n&&n.__CANCEL__)}function Ac(n,e,t){Fe.call(this,n??"canceled",Fe.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(Ac,Fe,{__CANCEL__:!0});function RN(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Fe("Request failed with status code "+t.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function pq(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function mq(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[s];l||(l=h),t[i]=d,r[i]=h;let g=s,_=0;for(;g!==i;)_+=t[g++],g=g%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),h-l<e)return;const T=m&&h-m;return T?Math.round(_*1e3/T):void 0}}function gq(n,e){let t=0,r=1e3/e,i,s;const l=(h,m=Date.now())=>{t=m,i=null,s&&(clearTimeout(s),s=null),n.apply(null,h)};return[(...h)=>{const m=Date.now(),g=m-t;g>=r?l(h,m):(i=h,s||(s=setTimeout(()=>{s=null,l(i)},r-g)))},()=>i&&l(i)]}const Eg=(n,e,t=3)=>{let r=0;const i=mq(50,250);return gq(s=>{const l=s.loaded,u=s.lengthComputable?s.total:void 0,d=l-r,h=i(d),m=l<=u;r=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&m?(u-l)/h:void 0,event:s,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(g)},t)},Vb=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},Mb=n=>(...e)=>re.asap(()=>n(...e)),yq=Ln.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Ln.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Ln.origin),Ln.navigator&&/(msie|trident)/i.test(Ln.navigator.userAgent)):()=>!0,_q=Ln.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const l=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),re.isString(r)&&l.push("path="+r),re.isString(i)&&l.push("domain="+i),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vq(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function wq(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function AN(n,e,t){let r=!vq(e);return n&&r||t==!1?wq(n,e):e}const Fb=n=>n instanceof or?{...n}:n;function al(n,e){e=e||{};const t={};function r(h,m,g,_){return re.isPlainObject(h)&&re.isPlainObject(m)?re.merge.call({caseless:_},h,m):re.isPlainObject(m)?re.merge({},m):re.isArray(m)?m.slice():m}function i(h,m,g,_){if(re.isUndefined(m)){if(!re.isUndefined(h))return r(void 0,h,g,_)}else return r(h,m,g,_)}function s(h,m){if(!re.isUndefined(m))return r(void 0,m)}function l(h,m){if(re.isUndefined(m)){if(!re.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function u(h,m,g){if(g in e)return r(h,m);if(g in n)return r(void 0,h)}const d={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,m,g)=>i(Fb(h),Fb(m),g,!0)};return re.forEach(Object.keys(Object.assign({},n,e)),function(m){const g=d[m]||i,_=g(n[m],e[m],m);re.isUndefined(_)&&g!==u||(t[m]=_)}),t}const bN=n=>{const e=al({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:u}=e;e.headers=l=or.from(l),e.url=EN(AN(e.baseURL,e.url),n.params,n.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(re.isFormData(t)){if(Ln.hasStandardBrowserEnv||Ln.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...m]=d?d.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...m].join("; "))}}if(Ln.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&yq(e.url))){const h=i&&s&&_q.read(s);h&&l.set(i,h)}return e},Eq=typeof XMLHttpRequest<"u",Iq=Eq&&function(n){return new Promise(function(t,r){const i=bN(n);let s=i.data;const l=or.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=i,m,g,_,T,I;function R(){T&&T(),I&&I(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function V(){if(!b)return;const M=or.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),B={data:!u||u==="text"||u==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:M,config:n,request:b};RN(function(D){t(D),R()},function(D){r(D),R()},B),b=null}"onloadend"in b?b.onloadend=V:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(V)},b.onabort=function(){b&&(r(new Fe("Request aborted",Fe.ECONNABORTED,n,b)),b=null)},b.onerror=function(){r(new Fe("Network Error",Fe.ERR_NETWORK,n,b)),b=null},b.ontimeout=function(){let z=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const B=i.transitional||IN;i.timeoutErrorMessage&&(z=i.timeoutErrorMessage),r(new Fe(z,B.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,n,b)),b=null},s===void 0&&l.setContentType(null),"setRequestHeader"in b&&re.forEach(l.toJSON(),function(z,B){b.setRequestHeader(B,z)}),re.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),u&&u!=="json"&&(b.responseType=i.responseType),h&&([_,I]=Eg(h,!0),b.addEventListener("progress",_)),d&&b.upload&&([g,T]=Eg(d),b.upload.addEventListener("progress",g),b.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(m=M=>{b&&(r(!M||M.type?new Ac(null,n,b):M),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const L=pq(i.url);if(L&&Ln.protocols.indexOf(L)===-1){r(new Fe("Unsupported protocol "+L+":",Fe.ERR_BAD_REQUEST,n));return}b.send(s||null)})},Tq=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(h){if(!i){i=!0,u();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Fe?m:new Ac(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,s(new Fe(`timeout ${e} of ms exceeded`,Fe.ETIMEDOUT))},e);const u=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),n=null)};n.forEach(h=>h.addEventListener("abort",s));const{signal:d}=r;return d.unsubscribe=()=>re.asap(u),d}},Sq=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},Rq=async function*(n,e){for await(const t of Aq(n))yield*Sq(t,e)},Aq=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},Ub=(n,e,t,r)=>{const i=Rq(n,e);let s=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await i.next();if(h){u(),d.close();return}let g=m.byteLength;if(t){let _=s+=g;t(_)}d.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},Ay=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",PN=Ay&&typeof ReadableStream=="function",bq=Ay&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),CN=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Pq=PN&&CN(()=>{let n=!1;const e=new Request(Ln.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),$b=64*1024,iE=PN&&CN(()=>re.isReadableStream(new Response("").body)),Ig={stream:iE&&(n=>n.body)};Ay&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ig[e]&&(Ig[e]=re.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Fe(`Response type '${e}' is not supported`,Fe.ERR_NOT_SUPPORT,r)})})})(new Response);const Cq=async n=>{if(n==null)return 0;if(re.isBlob(n))return n.size;if(re.isSpecCompliantForm(n))return(await new Request(Ln.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(re.isArrayBufferView(n)||re.isArrayBuffer(n))return n.byteLength;if(re.isURLSearchParams(n)&&(n=n+""),re.isString(n))return(await bq(n)).byteLength},kq=async(n,e)=>{const t=re.toFiniteNumber(n.getContentLength());return t??Cq(e)},xq=Ay&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:h,headers:m,withCredentials:g="same-origin",fetchOptions:_}=bN(n);h=h?(h+"").toLowerCase():"text";let T=Tq([i,s&&s.toAbortSignal()],l),I;const R=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let b;try{if(d&&Pq&&t!=="get"&&t!=="head"&&(b=await kq(m,r))!==0){let B=new Request(e,{method:"POST",body:r,duplex:"half"}),W;if(re.isFormData(r)&&(W=B.headers.get("content-type"))&&m.setContentType(W),B.body){const[D,A]=Vb(b,Eg(Mb(d)));r=Ub(B.body,$b,D,A)}}re.isString(g)||(g=g?"include":"omit");const V="credentials"in Request.prototype;I=new Request(e,{..._,signal:T,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:V?g:void 0});let L=await fetch(I);const M=iE&&(h==="stream"||h==="response");if(iE&&(u||M&&R)){const B={};["status","statusText","headers"].forEach(C=>{B[C]=L[C]});const W=re.toFiniteNumber(L.headers.get("content-length")),[D,A]=u&&Vb(W,Eg(Mb(u),!0))||[];L=new Response(Ub(L.body,$b,D,()=>{A&&A(),R&&R()}),B)}h=h||"text";let z=await Ig[re.findKey(Ig,h)||"text"](L,n);return!M&&R&&R(),await new Promise((B,W)=>{RN(B,W,{data:z,headers:or.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:I})})}catch(V){throw R&&R(),V&&V.name==="TypeError"&&/fetch/i.test(V.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,n,I),{cause:V.cause||V}):Fe.from(V,V&&V.code,n,I)}}),sE={http:HW,xhr:Iq,fetch:xq};re.forEach(sE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Bb=n=>`- ${n}`,Oq=n=>re.isFunction(n)||n===null||n===!1,kN={getAdapter:n=>{n=re.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let l;if(r=t,!Oq(t)&&(r=sE[(l=String(t)).toLowerCase()],r===void 0))throw new Fe(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+s]=r}if(!r){const s=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?s.length>1?`since :
`+s.map(Bb).join(`
`):" "+Bb(s[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:sE};function Wv(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ac(null,n)}function zb(n){return Wv(n),n.headers=or.from(n.headers),n.data=jv.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),kN.getAdapter(n.adapter||Sf.adapter)(n).then(function(r){return Wv(n),r.data=jv.call(n,n.transformResponse,r),r.headers=or.from(r.headers),r},function(r){return SN(r)||(Wv(n),r&&r.response&&(r.response.data=jv.call(n,n.transformResponse,r.response),r.response.headers=or.from(r.response.headers))),Promise.reject(r)})}const xN="1.8.2",by={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{by[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const jb={};by.transitional=function(e,t,r){function i(s,l){return"[Axios v"+xN+"] Transitional option '"+s+"'"+l+(r?". "+r:"")}return(s,l,u)=>{if(e===!1)throw new Fe(i(l," has been removed"+(t?" in "+t:"")),Fe.ERR_DEPRECATED);return t&&!jb[l]&&(jb[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,l,u):!0}};by.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Nq(n,e,t){if(typeof n!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],l=e[s];if(l){const u=n[s],d=u===void 0||l(u,s,n);if(d!==!0)throw new Fe("option "+s+" must be "+d,Fe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Fe("Unknown option "+s,Fe.ERR_BAD_OPTION)}}const xm={assertOptions:Nq,validators:by},ki=xm.validators;let Ga=class{constructor(e){this.defaults=e,this.interceptors={request:new Db,response:new Db}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=al(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&xm.assertOptions(r,{silentJSONParsing:ki.transitional(ki.boolean),forcedJSONParsing:ki.transitional(ki.boolean),clarifyTimeoutError:ki.transitional(ki.boolean)},!1),i!=null&&(re.isFunction(i)?t.paramsSerializer={serialize:i}:xm.assertOptions(i,{encode:ki.function,serialize:ki.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),xm.assertOptions(t,{baseUrl:ki.spelling("baseURL"),withXsrfToken:ki.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=s&&re.merge(s.common,s[t.method]);s&&re.forEach(["delete","get","head","post","put","patch","common"],I=>{delete s[I]}),t.headers=or.concat(l,s);const u=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(d=d&&R.synchronous,u.unshift(R.fulfilled,R.rejected))});const h=[];this.interceptors.response.forEach(function(R){h.push(R.fulfilled,R.rejected)});let m,g=0,_;if(!d){const I=[zb.bind(this),void 0];for(I.unshift.apply(I,u),I.push.apply(I,h),_=I.length,m=Promise.resolve(t);g<_;)m=m.then(I[g++],I[g++]);return m}_=u.length;let T=t;for(g=0;g<_;){const I=u[g++],R=u[g++];try{T=I(T)}catch(b){R.call(this,b);break}}try{m=zb.call(this,T)}catch(I){return Promise.reject(I)}for(g=0,_=h.length;g<_;)m=m.then(h[g++],h[g++]);return m}getUri(e){e=al(this.defaults,e);const t=AN(e.baseURL,e.url,e.allowAbsoluteUrls);return EN(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){Ga.prototype[e]=function(t,r){return this.request(al(r||{},{method:e,url:t,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(r){return function(s,l,u){return this.request(al(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Ga.prototype[e]=t(),Ga.prototype[e+"Form"]=t(!0)});let Dq=class ON{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(u=>{r.subscribe(u),s=u}).then(i);return l.cancel=function(){r.unsubscribe(s)},l},e(function(s,l,u){r.reason||(r.reason=new Ac(s,l,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ON(function(i){e=i}),cancel:e}}};function Lq(n){return function(t){return n.apply(null,t)}}function Vq(n){return re.isObject(n)&&n.isAxiosError===!0}const oE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oE).forEach(([n,e])=>{oE[e]=n});function NN(n){const e=new Ga(n),t=cN(Ga.prototype.request,e);return re.extend(t,Ga.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return NN(al(n,i))},t}const Pt=NN(Sf);Pt.Axios=Ga;Pt.CanceledError=Ac;Pt.CancelToken=Dq;Pt.isCancel=SN;Pt.VERSION=xN;Pt.toFormData=Ry;Pt.AxiosError=Fe;Pt.Cancel=Pt.CanceledError;Pt.all=function(e){return Promise.all(e)};Pt.spread=Lq;Pt.isAxiosError=Vq;Pt.mergeConfig=al;Pt.AxiosHeaders=or;Pt.formToJSON=n=>TN(re.isHTMLForm(n)?new FormData(n):n);Pt.getAdapter=kN.getAdapter;Pt.HttpStatusCode=oE;Pt.default=Pt;const{Axios:rY,AxiosError:iY,CanceledError:sY,isCancel:oY,CancelToken:aY,VERSION:lY,all:uY,Cancel:cY,isAxiosError:dY,spread:hY,toFormData:fY,AxiosHeaders:pY,HttpStatusCode:mY,formToJSON:gY,getAdapter:yY,mergeConfig:_Y}=Pt;var qv={exports:{}},Hv,Wb;function Mq(){if(Wb)return Hv;Wb=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hv=n,Hv}var Kv,qb;function Fq(){if(qb)return Kv;qb=1;var n=Mq();function e(){}function t(){}return t.resetWarningCache=e,Kv=function(){function r(l,u,d,h,m,g){if(g!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},Kv}var Hb;function DN(){return Hb||(Hb=1,qv.exports=Fq()()),qv.exports}var Uq=DN();const xt=_E(Uq);function LN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=LN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function mh(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=LN(n))&&(r&&(r+=" "),r+=e);return r}function VN(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const $q={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function MN(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let l="",u=!0;for(let d=0;d<s.length;d+=1){const h=s[d];h&&(l+=(u===!0?"":" ")+e(h),u=!1,t&&t[h]&&(l+=" "+t[h]))}r[i]=l}return r}const Bq=K.createContext(),zq=()=>K.useContext(Bq)??!1;function Kb(n){try{return n.matches(":focus-visible")}catch{}return!1}var Gv={exports:{}},ut={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function jq(){if(Gb)return ut;Gb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),T=Symbol.for("react.client.reference");function I(R){if(typeof R=="object"&&R!==null){var b=R.$$typeof;switch(b){case n:switch(R=R.type,R){case t:case i:case r:case d:case h:return R;default:switch(R=R&&R.$$typeof,R){case l:case u:case g:case m:return R;case s:return R;default:return b}}case e:return b}}}return ut.ContextConsumer=s,ut.ContextProvider=l,ut.Element=n,ut.ForwardRef=u,ut.Fragment=t,ut.Lazy=g,ut.Memo=m,ut.Portal=e,ut.Profiler=i,ut.StrictMode=r,ut.Suspense=d,ut.SuspenseList=h,ut.isContextConsumer=function(R){return I(R)===s},ut.isContextProvider=function(R){return I(R)===l},ut.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===n},ut.isForwardRef=function(R){return I(R)===u},ut.isFragment=function(R){return I(R)===t},ut.isLazy=function(R){return I(R)===g},ut.isMemo=function(R){return I(R)===m},ut.isPortal=function(R){return I(R)===e},ut.isProfiler=function(R){return I(R)===i},ut.isStrictMode=function(R){return I(R)===r},ut.isSuspense=function(R){return I(R)===d},ut.isSuspenseList=function(R){return I(R)===h},ut.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===i||R===r||R===d||R===h||R===_||typeof R=="object"&&R!==null&&(R.$$typeof===g||R.$$typeof===m||R.$$typeof===l||R.$$typeof===s||R.$$typeof===u||R.$$typeof===T||R.getModuleId!==void 0)},ut.typeOf=I,ut}var Qb;function Wq(){return Qb||(Qb=1,Gv.exports=jq()),Gv.exports}var FN=Wq();function Ts(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function UN(n){if(K.isValidElement(n)||FN.isValidElementType(n)||!Ts(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=UN(n[t])}),e}function Rr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Ts(n)&&Ts(e)&&Object.keys(e).forEach(i=>{K.isValidElement(e[i])||FN.isValidElementType(e[i])?r[i]=e[i]:Ts(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Ts(n[i])?r[i]=Rr(n[i],e[i],t):t.clone?r[i]=Ts(e[i])?UN(e[i]):e[i]:r[i]=e[i]}),r}function ll(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function qo(n){if(typeof n!="string")throw new Error(ll(7));return n.charAt(0).toUpperCase()+n.slice(1)}function qq(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let Yb=0;function Hq(n){const[e,t]=K.useState(n),r=n||e;return K.useEffect(()=>{e==null&&(Yb+=1,t(`mui-${Yb}`))},[e]),r}const Kq={...nw},Jb=Kq.useId;function $N(n){if(Jb!==void 0){const e=Jb();return n??e}return Hq(n)}function Gq({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=K.useRef(n!==void 0),[s,l]=K.useState(e),u=i?n:s,d=K.useCallback(h=>{i||l(h)},[]);return[u,d]}function Qq(...n){return K.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{qq(t,e)})},n)}function aE(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const s=n[i],l=e[i];if(!l)t[i]=s||{};else if(!s)t[i]=l;else{t[i]={...l};for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const d=u;t[i][d]=aE(s[d],l[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const Xb=n=>n,Yq=()=>{let n=Xb;return{configure(e){n=e},generate(e){return n(e)},reset(){n=Xb}}},Jq=Yq(),Xq={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function vI(n,e,t="Mui"){const r=Xq[e];return r?`${t}-${r}`:`${Jq.generate(n)}-${e}`}function BN(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=vI(n,i,t)}),r}function gh(n,e){return e?Rr(n,e,{clone:!1}):n}function Zq(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,u;const s=/min-width:\s*([0-9.]+)/;return+(((l=r.match(s))==null?void 0:l[1])||0)-+(((u=i.match(s))==null?void 0:u[1])||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function eH(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function tH(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function nH(n){const e=(s,l)=>s.replace("@media",l?`@container ${l}`:"@container");function t(s,l){s.up=(...u)=>e(n.breakpoints.up(...u),l),s.down=(...u)=>e(n.breakpoints.down(...u),l),s.between=(...u)=>e(n.breakpoints.between(...u),l),s.only=(...u)=>e(n.breakpoints.only(...u),l),s.not=(...u)=>{const d=e(n.breakpoints.not(...u),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const Py={xs:0,sm:600,md:900,lg:1200,xl:1536},Zb={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Py[n]}px)`},rH={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Py[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Fs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||Zb;return e.reduce((l,u,d)=>(l[s.up(s.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const s=r.breakpoints||Zb;return Object.keys(e).reduce((l,u)=>{if(eH(s.keys,u)){const d=tH(r.containerQueries?r:rH,u);d&&(l[d]=t(e[u],u))}else if(Object.keys(s.values||Py).includes(u)){const d=s.up(u);l[d]=t(e[u],u)}else{const d=u;l[d]=e[d]}return l},{})}return t(e)}function iH(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function sH(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Cy(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Tg(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Cy(n,t)||r,e&&(i=e(i,r,n)),i}function Ht(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=l=>{if(l[e]==null)return null;const u=l[e],d=l.theme,h=Cy(d,r)||{};return Fs(l,u,g=>{let _=Tg(h,i,g);return g===_&&typeof g=="string"&&(_=Tg(h,i,`${e}${g==="default"?"":qo(g)}`,g)),t===!1?_:{[t]:_}})};return s.propTypes={},s.filterProps=[e],s}function oH(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const aH={m:"margin",p:"padding"},lH={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},eP={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},uH=oH(n=>{if(n.length>2)if(eP[n])n=eP[n];else return[n];const[e,t]=n.split(""),r=aH[e],i=lH[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),wI=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],EI=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...wI,...EI];function Rf(n,e,t,r){const i=Cy(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const l=Math.abs(s),u=i[l];return s>=0?u:typeof u=="number"?-u:`-${u}`}:typeof i=="function"?i:()=>{}}function II(n){return Rf(n,"spacing",8)}function Af(n,e){return typeof e=="string"||e==null?e:n(e)}function cH(n,e){return t=>n.reduce((r,i)=>(r[i]=Af(e,t),r),{})}function dH(n,e,t,r){if(!e.includes(t))return null;const i=uH(t),s=cH(i,r),l=n[t];return Fs(n,l,s)}function zN(n,e){const t=II(n.theme);return Object.keys(n).map(r=>dH(n,e,r,t)).reduce(gh,{})}function Vt(n){return zN(n,wI)}Vt.propTypes={};Vt.filterProps=wI;function Mt(n){return zN(n,EI)}Mt.propTypes={};Mt.filterProps=EI;function ky(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?gh(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Br(n){return typeof n!="number"?n:`${n}px solid`}function Kr(n,e){return Ht({prop:n,themeKey:"borders",transform:e})}const hH=Kr("border",Br),fH=Kr("borderTop",Br),pH=Kr("borderRight",Br),mH=Kr("borderBottom",Br),gH=Kr("borderLeft",Br),yH=Kr("borderColor"),_H=Kr("borderTopColor"),vH=Kr("borderRightColor"),wH=Kr("borderBottomColor"),EH=Kr("borderLeftColor"),IH=Kr("outline",Br),TH=Kr("outlineColor"),xy=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Rf(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Af(e,r)});return Fs(n,n.borderRadius,t)}return null};xy.propTypes={};xy.filterProps=["borderRadius"];ky(hH,fH,pH,mH,gH,yH,_H,vH,wH,EH,xy,IH,TH);const Oy=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Rf(n.theme,"spacing",8),t=r=>({gap:Af(e,r)});return Fs(n,n.gap,t)}return null};Oy.propTypes={};Oy.filterProps=["gap"];const Ny=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Rf(n.theme,"spacing",8),t=r=>({columnGap:Af(e,r)});return Fs(n,n.columnGap,t)}return null};Ny.propTypes={};Ny.filterProps=["columnGap"];const Dy=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Rf(n.theme,"spacing",8),t=r=>({rowGap:Af(e,r)});return Fs(n,n.rowGap,t)}return null};Dy.propTypes={};Dy.filterProps=["rowGap"];const SH=Ht({prop:"gridColumn"}),RH=Ht({prop:"gridRow"}),AH=Ht({prop:"gridAutoFlow"}),bH=Ht({prop:"gridAutoColumns"}),PH=Ht({prop:"gridAutoRows"}),CH=Ht({prop:"gridTemplateColumns"}),kH=Ht({prop:"gridTemplateRows"}),xH=Ht({prop:"gridTemplateAreas"}),OH=Ht({prop:"gridArea"});ky(Oy,Ny,Dy,SH,RH,AH,bH,PH,CH,kH,xH,OH);function Du(n,e){return e==="grey"?e:n}const NH=Ht({prop:"color",themeKey:"palette",transform:Du}),DH=Ht({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Du}),LH=Ht({prop:"backgroundColor",themeKey:"palette",transform:Du});ky(NH,DH,LH);function Er(n){return n<=1&&n!==0?`${n*100}%`:n}const VH=Ht({prop:"width",transform:Er}),TI=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,s,l,u,d;const r=((l=(s=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:l[t])||Py[t];return r?((d=(u=n.theme)==null?void 0:u.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Er(t)}};return Fs(n,n.maxWidth,e)}return null};TI.filterProps=["maxWidth"];const MH=Ht({prop:"minWidth",transform:Er}),FH=Ht({prop:"height",transform:Er}),UH=Ht({prop:"maxHeight",transform:Er}),$H=Ht({prop:"minHeight",transform:Er});Ht({prop:"size",cssProperty:"width",transform:Er});Ht({prop:"size",cssProperty:"height",transform:Er});const BH=Ht({prop:"boxSizing"});ky(VH,TI,MH,FH,UH,$H,BH);const Ly={border:{themeKey:"borders",transform:Br},borderTop:{themeKey:"borders",transform:Br},borderRight:{themeKey:"borders",transform:Br},borderBottom:{themeKey:"borders",transform:Br},borderLeft:{themeKey:"borders",transform:Br},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Br},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:xy},color:{themeKey:"palette",transform:Du},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Du},backgroundColor:{themeKey:"palette",transform:Du},p:{style:Mt},pt:{style:Mt},pr:{style:Mt},pb:{style:Mt},pl:{style:Mt},px:{style:Mt},py:{style:Mt},padding:{style:Mt},paddingTop:{style:Mt},paddingRight:{style:Mt},paddingBottom:{style:Mt},paddingLeft:{style:Mt},paddingX:{style:Mt},paddingY:{style:Mt},paddingInline:{style:Mt},paddingInlineStart:{style:Mt},paddingInlineEnd:{style:Mt},paddingBlock:{style:Mt},paddingBlockStart:{style:Mt},paddingBlockEnd:{style:Mt},m:{style:Vt},mt:{style:Vt},mr:{style:Vt},mb:{style:Vt},ml:{style:Vt},mx:{style:Vt},my:{style:Vt},margin:{style:Vt},marginTop:{style:Vt},marginRight:{style:Vt},marginBottom:{style:Vt},marginLeft:{style:Vt},marginX:{style:Vt},marginY:{style:Vt},marginInline:{style:Vt},marginInlineStart:{style:Vt},marginInlineEnd:{style:Vt},marginBlock:{style:Vt},marginBlockStart:{style:Vt},marginBlockEnd:{style:Vt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Oy},rowGap:{style:Dy},columnGap:{style:Ny},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Er},maxWidth:{style:TI},minWidth:{transform:Er},height:{transform:Er},maxHeight:{transform:Er},minHeight:{transform:Er},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function zH(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function jH(n,e){return typeof n=="function"?n(e):n}function WH(){function n(t,r,i,s){const l={[t]:r,theme:i},u=s[t];if(!u)return{[t]:r};const{cssProperty:d=t,themeKey:h,transform:m,style:g}=u;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[t]:r};const _=Cy(i,h)||{};return g?g(l):Fs(l,r,I=>{let R=Tg(_,m,I);return I===R&&typeof I=="string"&&(R=Tg(_,m,`${t}${I==="default"?"":qo(I)}`,I)),d===!1?R:{[d]:R}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const s=i.unstable_sxConfig??Ly;function l(u){let d=u;if(typeof u=="function")d=u(i);else if(typeof u!="object")return u;if(!d)return null;const h=iH(i.breakpoints),m=Object.keys(h);let g=h;return Object.keys(d).forEach(_=>{const T=jH(d[_],i);if(T!=null)if(typeof T=="object")if(s[_])g=gh(g,n(_,T,i,s));else{const I=Fs({theme:i},T,R=>({[_]:R}));zH(I,T)?g[_]=e({sx:T,theme:i}):g=gh(g,I)}else g=gh(g,n(_,T,i,s))}),Zq(i,sH(m,g))}return Array.isArray(r)?r.map(l):l(r)}return e}const sc=WH();sc.filterProps=["sx"];function lE(){return lE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lE.apply(null,arguments)}function qH(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function HH(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var KH=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(HH(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=qH(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Nn="-ms-",Sg="-moz-",nt="-webkit-",jN="comm",SI="rule",RI="decl",GH="@import",WN="@keyframes",QH="@layer",YH=Math.abs,Vy=String.fromCharCode,JH=Object.assign;function XH(n,e){return Sn(n,0)^45?(((e<<2^Sn(n,0))<<2^Sn(n,1))<<2^Sn(n,2))<<2^Sn(n,3):0}function qN(n){return n.trim()}function ZH(n,e){return(n=e.exec(n))?n[0]:n}function rt(n,e,t){return n.replace(e,t)}function uE(n,e){return n.indexOf(e)}function Sn(n,e){return n.charCodeAt(e)|0}function jh(n,e,t){return n.slice(e,t)}function Di(n){return n.length}function AI(n){return n.length}function em(n,e){return e.push(n),n}function e8(n,e){return n.map(e).join("")}var My=1,oc=1,HN=0,ar=0,Xt=0,bc="";function Fy(n,e,t,r,i,s,l){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:My,column:oc,length:l,return:""}}function Dd(n,e){return JH(Fy("",null,null,"",null,null,0),n,{length:-n.length},e)}function t8(){return Xt}function n8(){return Xt=ar>0?Sn(bc,--ar):0,oc--,Xt===10&&(oc=1,My--),Xt}function Ar(){return Xt=ar<HN?Sn(bc,ar++):0,oc++,Xt===10&&(oc=1,My++),Xt}function Gi(){return Sn(bc,ar)}function Om(){return ar}function bf(n,e){return jh(bc,n,e)}function Wh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KN(n){return My=oc=1,HN=Di(bc=n),ar=0,[]}function GN(n){return bc="",n}function Nm(n){return qN(bf(ar-1,cE(n===91?n+2:n===40?n+1:n)))}function r8(n){for(;(Xt=Gi())&&Xt<33;)Ar();return Wh(n)>2||Wh(Xt)>3?"":" "}function i8(n,e){for(;--e&&Ar()&&!(Xt<48||Xt>102||Xt>57&&Xt<65||Xt>70&&Xt<97););return bf(n,Om()+(e<6&&Gi()==32&&Ar()==32))}function cE(n){for(;Ar();)switch(Xt){case n:return ar;case 34:case 39:n!==34&&n!==39&&cE(Xt);break;case 40:n===41&&cE(n);break;case 92:Ar();break}return ar}function s8(n,e){for(;Ar()&&n+Xt!==57;)if(n+Xt===84&&Gi()===47)break;return"/*"+bf(e,ar-1)+"*"+Vy(n===47?n:Ar())}function o8(n){for(;!Wh(Gi());)Ar();return bf(n,ar)}function a8(n){return GN(Dm("",null,null,null,[""],n=KN(n),0,[0],n))}function Dm(n,e,t,r,i,s,l,u,d){for(var h=0,m=0,g=l,_=0,T=0,I=0,R=1,b=1,V=1,L=0,M="",z=i,B=s,W=r,D=M;b;)switch(I=L,L=Ar()){case 40:if(I!=108&&Sn(D,g-1)==58){uE(D+=rt(Nm(L),"&","&\f"),"&\f")!=-1&&(V=-1);break}case 34:case 39:case 91:D+=Nm(L);break;case 9:case 10:case 13:case 32:D+=r8(I);break;case 92:D+=i8(Om()-1,7);continue;case 47:switch(Gi()){case 42:case 47:em(l8(s8(Ar(),Om()),e,t),d);break;default:D+="/"}break;case 123*R:u[h++]=Di(D)*V;case 125*R:case 59:case 0:switch(L){case 0:case 125:b=0;case 59+m:V==-1&&(D=rt(D,/\f/g,"")),T>0&&Di(D)-g&&em(T>32?nP(D+";",r,t,g-1):nP(rt(D," ","")+";",r,t,g-2),d);break;case 59:D+=";";default:if(em(W=tP(D,e,t,h,m,i,u,M,z=[],B=[],g),s),L===123)if(m===0)Dm(D,e,W,W,z,s,g,u,B);else switch(_===99&&Sn(D,3)===110?100:_){case 100:case 108:case 109:case 115:Dm(n,W,W,r&&em(tP(n,W,W,0,0,i,u,M,i,z=[],g),B),i,B,g,u,r?z:B);break;default:Dm(D,W,W,W,[""],B,0,u,B)}}h=m=T=0,R=V=1,M=D="",g=l;break;case 58:g=1+Di(D),T=I;default:if(R<1){if(L==123)--R;else if(L==125&&R++==0&&n8()==125)continue}switch(D+=Vy(L),L*R){case 38:V=m>0?1:(D+="\f",-1);break;case 44:u[h++]=(Di(D)-1)*V,V=1;break;case 64:Gi()===45&&(D+=Nm(Ar())),_=Gi(),m=g=Di(M=D+=o8(Om())),L++;break;case 45:I===45&&Di(D)==2&&(R=0)}}return s}function tP(n,e,t,r,i,s,l,u,d,h,m){for(var g=i-1,_=i===0?s:[""],T=AI(_),I=0,R=0,b=0;I<r;++I)for(var V=0,L=jh(n,g+1,g=YH(R=l[I])),M=n;V<T;++V)(M=qN(R>0?_[V]+" "+L:rt(L,/&\f/g,_[V])))&&(d[b++]=M);return Fy(n,e,t,i===0?SI:u,d,h,m)}function l8(n,e,t){return Fy(n,e,t,jN,Vy(t8()),jh(n,2,-2),0)}function nP(n,e,t,r){return Fy(n,e,t,RI,jh(n,0,r),jh(n,r+1,-1),r)}function Lu(n,e){for(var t="",r=AI(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function u8(n,e,t,r){switch(n.type){case QH:if(n.children.length)break;case GH:case RI:return n.return=n.return||n.value;case jN:return"";case WN:return n.return=n.value+"{"+Lu(n.children,r)+"}";case SI:n.value=n.props.join(",")}return Di(t=Lu(n.children,r))?n.return=n.value+"{"+t+"}":""}function c8(n){var e=AI(n);return function(t,r,i,s){for(var l="",u=0;u<e;u++)l+=n[u](t,r,i,s)||"";return l}}function d8(n){return function(e){e.root||(e=e.return)&&n(e)}}function QN(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var h8=function(e,t,r){for(var i=0,s=0;i=s,s=Gi(),i===38&&s===12&&(t[r]=1),!Wh(s);)Ar();return bf(e,ar)},f8=function(e,t){var r=-1,i=44;do switch(Wh(i)){case 0:i===38&&Gi()===12&&(t[r]=1),e[r]+=h8(ar-1,t,r);break;case 2:e[r]+=Nm(i);break;case 4:if(i===44){e[++r]=Gi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Vy(i)}while(i=Ar());return e},p8=function(e,t){return GN(f8(KN(e),t))},rP=new WeakMap,m8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!rP.get(r))&&!i){rP.set(e,!0);for(var s=[],l=p8(t,s),u=r.props,d=0,h=0;d<l.length;d++)for(var m=0;m<u.length;m++,h++)e.props[h]=s[d]?l[d].replace(/&\f/g,u[m]):u[m]+" "+l[d]}}},g8=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function YN(n,e){switch(XH(n,e)){case 5103:return nt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return nt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return nt+n+Sg+n+Nn+n+n;case 6828:case 4268:return nt+n+Nn+n+n;case 6165:return nt+n+Nn+"flex-"+n+n;case 5187:return nt+n+rt(n,/(\w+).+(:[^]+)/,nt+"box-$1$2"+Nn+"flex-$1$2")+n;case 5443:return nt+n+Nn+"flex-item-"+rt(n,/flex-|-self/,"")+n;case 4675:return nt+n+Nn+"flex-line-pack"+rt(n,/align-content|flex-|-self/,"")+n;case 5548:return nt+n+Nn+rt(n,"shrink","negative")+n;case 5292:return nt+n+Nn+rt(n,"basis","preferred-size")+n;case 6060:return nt+"box-"+rt(n,"-grow","")+nt+n+Nn+rt(n,"grow","positive")+n;case 4554:return nt+rt(n,/([^-])(transform)/g,"$1"+nt+"$2")+n;case 6187:return rt(rt(rt(n,/(zoom-|grab)/,nt+"$1"),/(image-set)/,nt+"$1"),n,"")+n;case 5495:case 3959:return rt(n,/(image-set\([^]*)/,nt+"$1$`$1");case 4968:return rt(rt(n,/(.+:)(flex-)?(.*)/,nt+"box-pack:$3"+Nn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+nt+n+n;case 4095:case 3583:case 4068:case 2532:return rt(n,/(.+)-inline(.+)/,nt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Di(n)-1-e>6)switch(Sn(n,e+1)){case 109:if(Sn(n,e+4)!==45)break;case 102:return rt(n,/(.+:)(.+)-([^]+)/,"$1"+nt+"$2-$3$1"+Sg+(Sn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~uE(n,"stretch")?YN(rt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Sn(n,e+1)!==115)break;case 6444:switch(Sn(n,Di(n)-3-(~uE(n,"!important")&&10))){case 107:return rt(n,":",":"+nt)+n;case 101:return rt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+nt+(Sn(n,14)===45?"inline-":"")+"box$3$1"+nt+"$2$3$1"+Nn+"$2box$3")+n}break;case 5936:switch(Sn(n,e+11)){case 114:return nt+n+Nn+rt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return nt+n+Nn+rt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return nt+n+Nn+rt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return nt+n+Nn+n+n}return n}var y8=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case RI:e.return=YN(e.value,e.length);break;case WN:return Lu([Dd(e,{value:rt(e.value,"@","@"+nt)})],i);case SI:if(e.length)return e8(e.props,function(s){switch(ZH(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Lu([Dd(e,{props:[rt(s,/:(read-\w+)/,":"+Sg+"$1")]})],i);case"::placeholder":return Lu([Dd(e,{props:[rt(s,/:(plac\w+)/,":"+nt+"input-$1")]}),Dd(e,{props:[rt(s,/:(plac\w+)/,":"+Sg+"$1")]}),Dd(e,{props:[rt(s,/:(plac\w+)/,Nn+"input-$1")]})],i)}return""})}},_8=[y8],v8=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var b=R.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||_8,s={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(R){for(var b=R.getAttribute("data-emotion").split(" "),V=1;V<b.length;V++)s[b[V]]=!0;u.push(R)});var d,h=[m8,g8];{var m,g=[u8,d8(function(R){m.insert(R)})],_=c8(h.concat(i,g)),T=function(b){return Lu(a8(b),_)};d=function(b,V,L,M){m=L,T(b?b+"{"+V.styles+"}":V.styles),M&&(I.inserted[V.name]=!0)}}var I={key:t,sheet:new KH({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:d};return I.sheet.hydrate(u),I},w8=!0;function E8(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var JN=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||w8===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},I8=function(e,t,r){JN(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function T8(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var S8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},R8=/[A-Z]|^ms/g,A8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,XN=function(e){return e.charCodeAt(1)===45},iP=function(e){return e!=null&&typeof e!="boolean"},Qv=QN(function(n){return XN(n)?n:n.replace(R8,"-$&").toLowerCase()}),sP=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(A8,function(r,i,s){return Li={name:i,styles:s,next:Li},i})}return S8[e]!==1&&!XN(e)&&typeof t=="number"&&t!==0?t+"px":t};function qh(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Li={name:i.name,styles:i.styles,next:Li},i.name;var s=t;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)Li={name:l.name,styles:l.styles,next:Li},l=l.next;var u=s.styles+";";return u}return b8(n,e,t)}case"function":{if(n!==void 0){var d=Li,h=t(n);return Li=d,qh(n,e,h)}break}}var m=t;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function b8(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=qh(n,e,t[i])+";";else for(var s in t){var l=t[s];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?r+=s+"{"+e[u]+"}":iP(u)&&(r+=Qv(s)+":"+sP(s,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)iP(l[d])&&(r+=Qv(s)+":"+sP(s,l[d])+";");else{var h=qh(n,e,l);switch(s){case"animation":case"animationName":{r+=Qv(s)+":"+h+";";break}default:r+=s+"{"+h+"}"}}}return r}var oP=/label:\s*([^\s;{]+)\s*(;|$)/g,Li;function ZN(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Li=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=qh(t,e,s);else{var l=s;i+=l[0]}for(var u=1;u<n.length;u++)if(i+=qh(t,e,n[u]),r){var d=s;i+=d[u]}oP.lastIndex=0;for(var h="",m;(m=oP.exec(i))!==null;)h+="-"+m[1];var g=T8(i)+h;return{name:g,styles:i,next:Li}}var P8=function(e){return e()},C8=nw.useInsertionEffect?nw.useInsertionEffect:!1,k8=C8||P8,eD=K.createContext(typeof HTMLElement<"u"?v8({key:"css"}):null);eD.Provider;var x8=function(e){return K.forwardRef(function(t,r){var i=K.useContext(eD);return e(t,i,r)})},O8=K.createContext({}),N8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,D8=QN(function(n){return N8.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),L8=D8,V8=function(e){return e!=="theme"},aP=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?L8:V8},lP=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(l){return e.__emotion_forwardProp(l)&&s(l)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},M8=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return JN(t,r,i),k8(function(){return I8(t,r,i)}),null},F8=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,l;t!==void 0&&(s=t.label,l=t.target);var u=lP(e,t,r),d=u||aP(i),h=!d("as");return function(){var m=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var _=m[0];g.push(_[0]);for(var T=m.length,I=1;I<T;I++)g.push(m[I],_[I])}var R=x8(function(b,V,L){var M=h&&b.as||i,z="",B=[],W=b;if(b.theme==null){W={};for(var D in b)W[D]=b[D];W.theme=K.useContext(O8)}typeof b.className=="string"?z=E8(V.registered,B,b.className):b.className!=null&&(z=b.className+" ");var A=ZN(g.concat(B),V.registered,W);z+=V.key+"-"+A.name,l!==void 0&&(z+=" "+l);var C=h&&u===void 0?aP(M):d,E={};for(var x in b)h&&x==="as"||C(x)&&(E[x]=b[x]);return E.className=z,L&&(E.ref=L),K.createElement(K.Fragment,null,K.createElement(M8,{cache:V,serialized:A,isStringTag:typeof M=="string"}),K.createElement(M,E))});return R.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",R.defaultProps=e.defaultProps,R.__emotion_real=R,R.__emotion_base=i,R.__emotion_styles=g,R.__emotion_forwardProp=u,Object.defineProperty(R,"toString",{value:function(){return"."+l}}),R.withComponent=function(b,V){var L=n(b,lE({},t,V,{shouldForwardProp:lP(R,V,!0)}));return L.apply(void 0,g)},R}},U8=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],dE=F8.bind(null);U8.forEach(function(n){dE[n]=dE(n)});/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function $8(n,e){return dE(n,e)}function B8(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const uP=[];function cP(n){return uP[0]=n,ZN(uP)}const z8=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function j8(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=z8(e),l=Object.keys(s);function u(_){return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t})`}function d(_){return`@media (max-width:${(typeof e[_]=="number"?e[_]:_)-r/100}${t})`}function h(_,T){const I=l.indexOf(T);return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t}) and (max-width:${(I!==-1&&typeof e[l[I]]=="number"?e[l[I]]:T)-r/100}${t})`}function m(_){return l.indexOf(_)+1<l.length?h(_,l[l.indexOf(_)+1]):u(_)}function g(_){const T=l.indexOf(_);return T===0?u(l[1]):T===l.length-1?d(l[T]):h(_,l[l.indexOf(_)+1]).replace("@media","@media not all and")}return{keys:l,values:s,up:u,down:d,between:h,only:m,not:g,unit:t,...i}}const W8={borderRadius:4};function tD(n=8,e=II({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const l=e(s);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function q8(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function nD(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...l}=n,u=j8(t),d=tD(i);let h=Rr({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...W8,...s}},l);return h=nH(h),h.applyStyles=q8,h=e.reduce((m,g)=>Rr(m,g),h),h.unstable_sxConfig={...Ly,...l==null?void 0:l.unstable_sxConfig},h.unstable_sx=function(g){return sc({sx:g,theme:this})},h}function rD(n){const{variants:e,...t}=n,r={variants:e,style:cP(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=cP(i.style))}),r}const H8=nD();function Yv(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function K8(n){return n?(e,t)=>t[n]:null}function G8(n,e,t){n.theme=J8(n.theme)?t:n.theme[e]||n.theme}function Lm(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Lm(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...s}=t;r=s}return iD(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function iD(n,e,t=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const l=e[s];if(typeof l.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(r))continue}else for(const u in l.props)if(n[u]!==l.props[u]&&((i=n.ownerState)==null?void 0:i[u])!==l.props[u])continue e;typeof l.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(r))):t.push(l.style)}return t}function Q8(n={}){const{themeId:e,defaultTheme:t=H8,rootShouldForwardProp:r=Yv,slotShouldForwardProp:i=Yv}=n;function s(u){G8(u,e,t)}return(u,d={})=>{B8(u,B=>B.filter(W=>W!==sc));const{name:h,slot:m,skipVariantsResolver:g,skipSx:_,overridesResolver:T=K8(Z8(m)),...I}=d,R=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,b=_||!1;let V=Yv;m==="Root"||m==="root"?V=r:m?V=i:X8(u)&&(V=void 0);const L=$8(u,{shouldForwardProp:V,label:Y8(),...I}),M=B=>{if(typeof B=="function"&&B.__emotion_real!==B)return function(D){return Lm(D,B)};if(Ts(B)){const W=rD(B);return W.variants?function(A){return Lm(A,W)}:W.style}return B},z=(...B)=>{const W=[],D=B.map(M),A=[];if(W.push(s),h&&T&&A.push(function(k){var me,oe;const X=(oe=(me=k.theme.components)==null?void 0:me[h])==null?void 0:oe.styleOverrides;if(!X)return null;const U={};for(const Z in X)U[Z]=Lm(k,X[Z]);return T(k,U)}),h&&!R&&A.push(function(k){var U,me;const O=k.theme,X=(me=(U=O==null?void 0:O.components)==null?void 0:U[h])==null?void 0:me.variants;return X?iD(k,X):null}),b||A.push(sc),Array.isArray(D[0])){const x=D.shift(),k=new Array(W.length).fill(""),O=new Array(A.length).fill("");let X;X=[...k,...x,...O],X.raw=[...k,...x.raw,...O],W.unshift(X)}const C=[...W,...D,...A],E=L(...C);return u.muiName&&(E.muiName=u.muiName),E};return L.withConfig&&(z.withConfig=L.withConfig),z}}function Y8(n,e){return void 0}function J8(n){for(const e in n)return!1;return!0}function X8(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Z8(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function bI(n,e=0,t=1){return VN(n,e,t)}function eK(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ho(n){if(n.type)return n;if(n.charAt(0)==="#")return Ho(eK(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(ll(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ll(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const tK=n=>{const e=Ho(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},eh=(n,e)=>{try{return tK(n)}catch{return n}};function Uy(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function sD(n){n=Ho(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),l=(h,m=(h+t/30)%12)=>i-s*Math.max(Math.min(m-3,9-m,1),-1);let u="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(u+="a",d.push(e[3])),Uy({type:u,values:d})}function hE(n){n=Ho(n);let e=n.type==="hsl"||n.type==="hsla"?Ho(sD(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function nK(n,e){const t=hE(n),r=hE(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function rK(n,e){return n=Ho(n),e=bI(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Uy(n)}function tm(n,e,t){try{return rK(n,e)}catch{return n}}function PI(n,e){if(n=Ho(n),e=bI(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Uy(n)}function dt(n,e,t){try{return PI(n,e)}catch{return n}}function CI(n,e){if(n=Ho(n),e=bI(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Uy(n)}function ht(n,e,t){try{return CI(n,e)}catch{return n}}function iK(n,e=.15){return hE(n)>.5?PI(n,e):CI(n,e)}function nm(n,e,t){try{return iK(n,e)}catch{return n}}const sK=K.createContext(void 0);function oK(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?aE(i.defaultProps,r):!i.styleOverrides&&!i.variants?aE(i,r):r}function aK({props:n,name:e}){const t=K.useContext(sK);return oK({props:n,name:e,theme:{components:t}})}const dP={theme:void 0};function lK(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(dP.theme=i.theme,s=rD(n(dP)),e=s,t=i.theme),s}}function uK(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const hP=(n,e,t,r=[])=>{let i=n;e.forEach((s,l)=>{l===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},cK=(n,e,t)=>{function r(i,s=[],l=[]){Object.entries(i).forEach(([u,d])=>{(!t||t&&!t([...s,u]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...s,u],Array.isArray(d)?[...l,u]:l):e([...s,u],d,l))})}r(n)},dK=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Jv(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},l={};return cK(n,(u,d,h)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(u,d))){const m=`--${t?`${t}-`:""}${u.join("-")}`,g=dK(u,d);Object.assign(i,{[m]:g}),hP(s,u,`var(${m})`,h),hP(l,u,`var(${m}, ${g})`,h)}},u=>u[0]==="vars"),{css:i,vars:s,varsWithDefaults:l}}function hK(n,e={}){const{getSelector:t=b,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:l,defaultColorScheme:u="light",...d}=n,{vars:h,css:m,varsWithDefaults:g}=Jv(d,e);let _=g;const T={},{[u]:I,...R}=s;if(Object.entries(R||{}).forEach(([M,z])=>{const{vars:B,css:W,varsWithDefaults:D}=Jv(z,e);_=Rr(_,D),T[M]={css:W,vars:B}}),I){const{css:M,vars:z,varsWithDefaults:B}=Jv(I,e);_=Rr(_,B),T[u]={css:M,vars:z}}function b(M,z){var W,D;let B=i;if(i==="class"&&(B=".%s"),i==="data"&&(B="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(B=`[${i}="%s"]`),M){if(B==="media")return n.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${((D=(W=s[M])==null?void 0:W.palette)==null?void 0:D.mode)||M})`]:{":root":z}};if(B)return n.defaultColorScheme===M?`:root, ${B.replace("%s",String(M))}`:B.replace("%s",String(M))}return":root"}return{vars:_,generateThemeVars:()=>{let M={...h};return Object.entries(T).forEach(([,{vars:z}])=>{M=Rr(M,z)}),M},generateStyleSheets:()=>{var A,C;const M=[],z=n.defaultColorScheme||"light";function B(E,x){Object.keys(x).length&&M.push(typeof E=="string"?{[E]:{...x}}:E)}B(t(void 0,{...m}),m);const{[z]:W,...D}=T;if(W){const{css:E}=W,x=(C=(A=s[z])==null?void 0:A.palette)==null?void 0:C.mode,k=!r&&x?{colorScheme:x,...E}:{...E};B(t(z,{...k}),k)}return Object.entries(D).forEach(([E,{css:x}])=>{var X,U;const k=(U=(X=s[E])==null?void 0:X.palette)==null?void 0:U.mode,O=!r&&k?{colorScheme:k,...x}:{...x};B(t(E,{...O}),O)}),M}}}function fK(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const Hh={black:"#000",white:"#fff"},pK={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},du={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},hu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ld={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},fu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},pu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},mu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function oD(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hh.white,default:Hh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const mK=oD();function aD(){return{text:{primary:Hh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const fP=aD();function pP(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=CI(n.main,i):e==="dark"&&(n.dark=PI(n.main,s)))}function gK(n="light"){return n==="dark"?{main:fu[200],light:fu[50],dark:fu[400]}:{main:fu[700],light:fu[400],dark:fu[800]}}function yK(n="light"){return n==="dark"?{main:du[200],light:du[50],dark:du[400]}:{main:du[500],light:du[300],dark:du[700]}}function _K(n="light"){return n==="dark"?{main:hu[500],light:hu[300],dark:hu[700]}:{main:hu[700],light:hu[400],dark:hu[800]}}function vK(n="light"){return n==="dark"?{main:pu[400],light:pu[300],dark:pu[700]}:{main:pu[700],light:pu[500],dark:pu[900]}}function wK(n="light"){return n==="dark"?{main:mu[400],light:mu[300],dark:mu[700]}:{main:mu[800],light:mu[500],dark:mu[900]}}function EK(n="light"){return n==="dark"?{main:Ld[400],light:Ld[300],dark:Ld[700]}:{main:"#ed6c02",light:Ld[500],dark:Ld[900]}}function kI(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,s=n.primary||gK(e),l=n.secondary||yK(e),u=n.error||_K(e),d=n.info||vK(e),h=n.success||wK(e),m=n.warning||EK(e);function g(R){return nK(R,fP.text.primary)>=t?fP.text.primary:mK.text.primary}const _=({color:R,name:b,mainShade:V=500,lightShade:L=300,darkShade:M=700})=>{if(R={...R},!R.main&&R[V]&&(R.main=R[V]),!R.hasOwnProperty("main"))throw new Error(ll(11,b?` (${b})`:"",V));if(typeof R.main!="string")throw new Error(ll(12,b?` (${b})`:"",JSON.stringify(R.main)));return pP(R,"light",L,r),pP(R,"dark",M,r),R.contrastText||(R.contrastText=g(R.main)),R};let T;return e==="light"?T=oD():e==="dark"&&(T=aD()),Rr({common:{...Hh},mode:e,primary:_({color:s,name:"primary"}),secondary:_({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:_({color:u,name:"error"}),warning:_({color:m,name:"warning"}),info:_({color:d,name:"info"}),success:_({color:h,name:"success"}),grey:pK,contrastThreshold:t,getContrastText:g,augmentColor:_,tonalOffset:r,...T},i)}function IK(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function TK(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function SK(n){return Math.round(n*1e5)/1e5}const mP={textTransform:"uppercase"},gP='"Roboto", "Helvetica", "Arial", sans-serif';function RK(n,e){const{fontFamily:t=gP,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:h,pxToRem:m,...g}=typeof e=="function"?e(n):e,_=r/14,T=m||(b=>`${b/d*_}rem`),I=(b,V,L,M,z)=>({fontFamily:t,fontWeight:b,fontSize:T(V),lineHeight:L,...t===gP?{letterSpacing:`${SK(M/V)}em`}:{},...z,...h}),R={h1:I(i,96,1.167,-1.5),h2:I(i,60,1.2,-.5),h3:I(s,48,1.167,0),h4:I(s,34,1.235,.25),h5:I(s,24,1.334,0),h6:I(l,20,1.6,.15),subtitle1:I(s,16,1.75,.15),subtitle2:I(l,14,1.57,.1),body1:I(s,16,1.5,.15),body2:I(s,14,1.43,.15),button:I(l,14,1.75,.4,mP),caption:I(s,12,1.66,.4),overline:I(s,12,2.66,1,mP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Rr({htmlFontSize:d,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u,...R},g,{clone:!1})}const AK=.2,bK=.14,PK=.12;function Tt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${AK})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${bK})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${PK})`].join(",")}const CK=["none",Tt(0,2,1,-1,0,1,1,0,0,1,3,0),Tt(0,3,1,-2,0,2,2,0,0,1,5,0),Tt(0,3,3,-2,0,3,4,0,0,1,8,0),Tt(0,2,4,-1,0,4,5,0,0,1,10,0),Tt(0,3,5,-1,0,5,8,0,0,1,14,0),Tt(0,3,5,-1,0,6,10,0,0,1,18,0),Tt(0,4,5,-2,0,7,10,1,0,2,16,1),Tt(0,5,5,-3,0,8,10,1,0,3,14,2),Tt(0,5,6,-3,0,9,12,1,0,3,16,2),Tt(0,6,6,-3,0,10,14,1,0,4,18,3),Tt(0,6,7,-4,0,11,15,1,0,4,20,3),Tt(0,7,8,-4,0,12,17,2,0,5,22,4),Tt(0,7,8,-4,0,13,19,2,0,5,24,4),Tt(0,7,9,-4,0,14,21,2,0,5,26,4),Tt(0,8,9,-5,0,15,22,2,0,6,28,5),Tt(0,8,10,-5,0,16,24,2,0,6,30,5),Tt(0,8,11,-5,0,17,26,2,0,6,32,5),Tt(0,9,11,-5,0,18,28,2,0,7,34,6),Tt(0,9,12,-6,0,19,29,2,0,7,36,6),Tt(0,10,13,-6,0,20,31,3,0,8,38,7),Tt(0,10,13,-6,0,21,33,3,0,8,40,7),Tt(0,10,14,-6,0,22,35,3,0,8,42,7),Tt(0,11,14,-7,0,23,36,3,0,9,44,8),Tt(0,11,15,-7,0,24,38,3,0,9,46,8)],kK={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},xK={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function yP(n){return`${Math.round(n)}ms`}function OK(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function NK(n){const e={...kK,...n.easing},t={...xK,...n.duration};return{getAutoHeightDuration:OK,create:(i=["all"],s={})=>{const{duration:l=t.standard,easing:u=e.easeInOut,delay:d=0,...h}=s;return(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof l=="string"?l:yP(l)} ${u} ${typeof d=="string"?d:yP(d)}`).join(",")},...n,easing:e,duration:t}}const DK={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function LK(n){return Ts(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function lD(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[l,u]=i[s];!LK(u)||l.startsWith("unstable_")?delete r[l]:Ts(u)&&(r[l]={...u},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function fE(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:l={},typography:u={},shape:d,...h}=n;if(n.vars)throw new Error(ll(20));const m=kI(s),g=nD(n);let _=Rr(g,{mixins:TK(g.breakpoints,r),palette:m,shadows:CK.slice(),typography:RK(m,u),transitions:NK(l),zIndex:{...DK}});return _=Rr(_,h),_=e.reduce((T,I)=>Rr(T,I),_),_.unstable_sxConfig={...Ly,...h==null?void 0:h.unstable_sxConfig},_.unstable_sx=function(I){return sc({sx:I,theme:this})},_.toRuntimeSource=lD,_}function VK(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const MK=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=VK(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function uD(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function cD(n){return n==="dark"?MK:[]}function FK(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,s=kI(e);return{palette:s,opacity:{...uD(s.mode),...t},overlays:r||cD(s.mode),...i}}function UK(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const $K=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],BK=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return $K(n.cssVarPrefix).forEach(u=>{l[u]=t[u],delete t[u]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:s?{[s.replace("%s",e)]:l,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function zK(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function se(n,e,t){!n[e]&&t&&(n[e]=t)}function th(n){return typeof n!="string"||!n.startsWith("hsl")?n:sD(n)}function ws(n,e){`${e}Channel`in n||(n[`${e}Channel`]=eh(th(n[e])))}function jK(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const xi=n=>{try{return n()}catch{}},WK=(n="mui")=>uK(n);function Xv(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=FK({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...l}=fE({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:s,opacity:{...uD(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||cD(i)},l}function qK(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:l=UK,colorSchemeSelector:u=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...h}=n,m=Object.keys(t)[0],g=r||(t.light&&m!=="light"?"light":m),_=WK(s),{[g]:T,light:I,dark:R,...b}=t,V={...b};let L=T;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(ll(21,g));const M=Xv(V,L,h,g);I&&!V.light&&Xv(V,I,void 0,"light"),R&&!V.dark&&Xv(V,R,void 0,"dark");let z={defaultColorScheme:g,...M,cssVarPrefix:s,colorSchemeSelector:u,rootSelector:d,getCssVar:_,colorSchemes:V,font:{...IK(M.typography),...M.font},spacing:jK(h.spacing)};Object.keys(z.colorSchemes).forEach(C=>{const E=z.colorSchemes[C].palette,x=k=>{const O=k.split("-"),X=O[1],U=O[2];return _(k,E[X][U])};if(E.mode==="light"&&(se(E.common,"background","#fff"),se(E.common,"onBackground","#000")),E.mode==="dark"&&(se(E.common,"background","#000"),se(E.common,"onBackground","#fff")),zK(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){se(E.Alert,"errorColor",dt(E.error.light,.6)),se(E.Alert,"infoColor",dt(E.info.light,.6)),se(E.Alert,"successColor",dt(E.success.light,.6)),se(E.Alert,"warningColor",dt(E.warning.light,.6)),se(E.Alert,"errorFilledBg",x("palette-error-main")),se(E.Alert,"infoFilledBg",x("palette-info-main")),se(E.Alert,"successFilledBg",x("palette-success-main")),se(E.Alert,"warningFilledBg",x("palette-warning-main")),se(E.Alert,"errorFilledColor",xi(()=>E.getContrastText(E.error.main))),se(E.Alert,"infoFilledColor",xi(()=>E.getContrastText(E.info.main))),se(E.Alert,"successFilledColor",xi(()=>E.getContrastText(E.success.main))),se(E.Alert,"warningFilledColor",xi(()=>E.getContrastText(E.warning.main))),se(E.Alert,"errorStandardBg",ht(E.error.light,.9)),se(E.Alert,"infoStandardBg",ht(E.info.light,.9)),se(E.Alert,"successStandardBg",ht(E.success.light,.9)),se(E.Alert,"warningStandardBg",ht(E.warning.light,.9)),se(E.Alert,"errorIconColor",x("palette-error-main")),se(E.Alert,"infoIconColor",x("palette-info-main")),se(E.Alert,"successIconColor",x("palette-success-main")),se(E.Alert,"warningIconColor",x("palette-warning-main")),se(E.AppBar,"defaultBg",x("palette-grey-100")),se(E.Avatar,"defaultBg",x("palette-grey-400")),se(E.Button,"inheritContainedBg",x("palette-grey-300")),se(E.Button,"inheritContainedHoverBg",x("palette-grey-A100")),se(E.Chip,"defaultBorder",x("palette-grey-400")),se(E.Chip,"defaultAvatarColor",x("palette-grey-700")),se(E.Chip,"defaultIconColor",x("palette-grey-700")),se(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),se(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),se(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),se(E.LinearProgress,"primaryBg",ht(E.primary.main,.62)),se(E.LinearProgress,"secondaryBg",ht(E.secondary.main,.62)),se(E.LinearProgress,"errorBg",ht(E.error.main,.62)),se(E.LinearProgress,"infoBg",ht(E.info.main,.62)),se(E.LinearProgress,"successBg",ht(E.success.main,.62)),se(E.LinearProgress,"warningBg",ht(E.warning.main,.62)),se(E.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.11)`),se(E.Slider,"primaryTrack",ht(E.primary.main,.62)),se(E.Slider,"secondaryTrack",ht(E.secondary.main,.62)),se(E.Slider,"errorTrack",ht(E.error.main,.62)),se(E.Slider,"infoTrack",ht(E.info.main,.62)),se(E.Slider,"successTrack",ht(E.success.main,.62)),se(E.Slider,"warningTrack",ht(E.warning.main,.62));const k=nm(E.background.default,.8);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",xi(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",nm(E.background.paper,.15)),se(E.StepConnector,"border",x("palette-grey-400")),se(E.StepContent,"border",x("palette-grey-400")),se(E.Switch,"defaultColor",x("palette-common-white")),se(E.Switch,"defaultDisabledColor",x("palette-grey-100")),se(E.Switch,"primaryDisabledColor",ht(E.primary.main,.62)),se(E.Switch,"secondaryDisabledColor",ht(E.secondary.main,.62)),se(E.Switch,"errorDisabledColor",ht(E.error.main,.62)),se(E.Switch,"infoDisabledColor",ht(E.info.main,.62)),se(E.Switch,"successDisabledColor",ht(E.success.main,.62)),se(E.Switch,"warningDisabledColor",ht(E.warning.main,.62)),se(E.TableCell,"border",ht(tm(E.divider,1),.88)),se(E.Tooltip,"bg",tm(E.grey[700],.92))}if(E.mode==="dark"){se(E.Alert,"errorColor",ht(E.error.light,.6)),se(E.Alert,"infoColor",ht(E.info.light,.6)),se(E.Alert,"successColor",ht(E.success.light,.6)),se(E.Alert,"warningColor",ht(E.warning.light,.6)),se(E.Alert,"errorFilledBg",x("palette-error-dark")),se(E.Alert,"infoFilledBg",x("palette-info-dark")),se(E.Alert,"successFilledBg",x("palette-success-dark")),se(E.Alert,"warningFilledBg",x("palette-warning-dark")),se(E.Alert,"errorFilledColor",xi(()=>E.getContrastText(E.error.dark))),se(E.Alert,"infoFilledColor",xi(()=>E.getContrastText(E.info.dark))),se(E.Alert,"successFilledColor",xi(()=>E.getContrastText(E.success.dark))),se(E.Alert,"warningFilledColor",xi(()=>E.getContrastText(E.warning.dark))),se(E.Alert,"errorStandardBg",dt(E.error.light,.9)),se(E.Alert,"infoStandardBg",dt(E.info.light,.9)),se(E.Alert,"successStandardBg",dt(E.success.light,.9)),se(E.Alert,"warningStandardBg",dt(E.warning.light,.9)),se(E.Alert,"errorIconColor",x("palette-error-main")),se(E.Alert,"infoIconColor",x("palette-info-main")),se(E.Alert,"successIconColor",x("palette-success-main")),se(E.Alert,"warningIconColor",x("palette-warning-main")),se(E.AppBar,"defaultBg",x("palette-grey-900")),se(E.AppBar,"darkBg",x("palette-background-paper")),se(E.AppBar,"darkColor",x("palette-text-primary")),se(E.Avatar,"defaultBg",x("palette-grey-600")),se(E.Button,"inheritContainedBg",x("palette-grey-800")),se(E.Button,"inheritContainedHoverBg",x("palette-grey-700")),se(E.Chip,"defaultBorder",x("palette-grey-700")),se(E.Chip,"defaultAvatarColor",x("palette-grey-300")),se(E.Chip,"defaultIconColor",x("palette-grey-300")),se(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),se(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),se(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),se(E.LinearProgress,"primaryBg",dt(E.primary.main,.5)),se(E.LinearProgress,"secondaryBg",dt(E.secondary.main,.5)),se(E.LinearProgress,"errorBg",dt(E.error.main,.5)),se(E.LinearProgress,"infoBg",dt(E.info.main,.5)),se(E.LinearProgress,"successBg",dt(E.success.main,.5)),se(E.LinearProgress,"warningBg",dt(E.warning.main,.5)),se(E.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.13)`),se(E.Slider,"primaryTrack",dt(E.primary.main,.5)),se(E.Slider,"secondaryTrack",dt(E.secondary.main,.5)),se(E.Slider,"errorTrack",dt(E.error.main,.5)),se(E.Slider,"infoTrack",dt(E.info.main,.5)),se(E.Slider,"successTrack",dt(E.success.main,.5)),se(E.Slider,"warningTrack",dt(E.warning.main,.5));const k=nm(E.background.default,.98);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",xi(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",nm(E.background.paper,.15)),se(E.StepConnector,"border",x("palette-grey-600")),se(E.StepContent,"border",x("palette-grey-600")),se(E.Switch,"defaultColor",x("palette-grey-300")),se(E.Switch,"defaultDisabledColor",x("palette-grey-600")),se(E.Switch,"primaryDisabledColor",dt(E.primary.main,.55)),se(E.Switch,"secondaryDisabledColor",dt(E.secondary.main,.55)),se(E.Switch,"errorDisabledColor",dt(E.error.main,.55)),se(E.Switch,"infoDisabledColor",dt(E.info.main,.55)),se(E.Switch,"successDisabledColor",dt(E.success.main,.55)),se(E.Switch,"warningDisabledColor",dt(E.warning.main,.55)),se(E.TableCell,"border",dt(tm(E.divider,1),.68)),se(E.Tooltip,"bg",tm(E.grey[700],.92))}ws(E.background,"default"),ws(E.background,"paper"),ws(E.common,"background"),ws(E.common,"onBackground"),ws(E,"divider"),Object.keys(E).forEach(k=>{const O=E[k];k!=="tonalOffset"&&O&&typeof O=="object"&&(O.main&&se(E[k],"mainChannel",eh(th(O.main))),O.light&&se(E[k],"lightChannel",eh(th(O.light))),O.dark&&se(E[k],"darkChannel",eh(th(O.dark))),O.contrastText&&se(E[k],"contrastTextChannel",eh(th(O.contrastText))),k==="text"&&(ws(E[k],"primary"),ws(E[k],"secondary")),k==="action"&&(O.active&&ws(E[k],"active"),O.selected&&ws(E[k],"selected")))})}),z=e.reduce((C,E)=>Rr(C,E),z);const B={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:BK(z)},{vars:W,generateThemeVars:D,generateStyleSheets:A}=hK(z,B);return z.vars=W,Object.entries(z.colorSchemes[z.defaultColorScheme]).forEach(([C,E])=>{z[C]=E}),z.generateThemeVars=D,z.generateStyleSheets=A,z.generateSpacing=function(){return tD(h.spacing,II(this))},z.getColorSchemeSelector=fK(u),z.spacing=z.generateSpacing(),z.shouldSkipGeneratingVar=l,z.unstable_sxConfig={...Ly,...h==null?void 0:h.unstable_sxConfig},z.unstable_sx=function(E){return sc({sx:E,theme:this})},z.toRuntimeSource=lD,z}function _P(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:kI({...t===!0?{}:t.palette,mode:e})})}function HK(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...l}=n,u=s||"light",d=i==null?void 0:i[u],h={...i,...t?{[u]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return fE(n,...e);let m=t;"palette"in n||h[u]&&(h[u]!==!0?m=h[u].palette:u==="dark"&&(m={mode:"dark"}));const g=fE({...n,palette:m},...e);return g.defaultColorScheme=u,g.colorSchemes=h,g.palette.mode==="light"&&(g.colorSchemes.light={...h.light!==!0&&h.light,palette:g.palette},_P(g,"dark",h.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:g.palette},_P(g,"light",h.light)),g}return!t&&!("light"in h)&&u==="light"&&(h.light=!0),qK({...l,colorSchemes:h,defaultColorScheme:u,...typeof r!="boolean"&&r},...e)}const KK=HK(),GK="$$material";function dD(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const QK=n=>dD(n)&&n!=="classes",Pf=Q8({themeId:GK,defaultTheme:KK,rootShouldForwardProp:QK}),xI=lK;function hD(n){return aK(n)}function YK(n){return vI("MuiSvgIcon",n)}BN("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const JK=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${qo(e)}`,`fontSize${qo(t)}`]};return MN(i,YK,r)},XK=Pf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${qo(t.color)}`],e[`fontSize${qo(t.fontSize)}`]]}})(xI(({theme:n})=>{var e,t,r,i,s,l,u,d,h,m,g,_,T,I;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:R=>!R.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:l.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(u=n.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:m.call(h,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,R])=>R&&R.main).map(([R])=>{var b,V;return{props:{color:R},style:{color:(V=(b=(n.vars??n).palette)==null?void 0:b[R])==null?void 0:V.main}}}),{props:{color:"action"},style:{color:(_=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:_.active}},{props:{color:"disabled"},style:{color:(I=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:I.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),pE=K.forwardRef(function(e,t){const r=hD({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:m=!1,titleAccess:g,viewBox:_="0 0 24 24",...T}=r,I=K.isValidElement(i)&&i.type==="svg",R={...r,color:l,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:_,hasSvgAsChild:I},b={};m||(b.viewBox=_);const V=JK(R);return we(XK,{as:u,className:mh(V.root,s),focusable:"false",color:h,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...b,...T,...I&&i.props,ownerState:R,children:[I?i.props.children:i,g?F("title",{children:g}):null]})});pE.muiName="SvgIcon";function fD(n,e){function t(r,i){return F(pE,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=pE.muiName,K.memo(K.forwardRef(t))}const ZK=fD(F("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),eG=fD(F("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function tG(n){return vI("MuiRating",n)}const Vd=BN("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function nG(n){const e=n.toString().split(".")[1];return e?e.length:0}function Zv(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(nG(e)))}const rG=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:l}=n,u={root:["root",`size${qo(t)}`,i&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return MN(u,tG,e)},iG=Pf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Vd.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${qo(t.size)}`],t.readOnly&&e.readOnly]}})(xI(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Vd.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Vd.focusVisible} .${Vd.iconActive}`]:{outline:"1px solid #999"},[`& .${Vd.visuallyHidden}`]:$q,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),pD=Pf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),sG=Pf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(xI(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),oG=Pf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>dD(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function aG(n){const{value:e,...t}=n;return F("span",{...t})}function vP(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:l,hover:u,icon:d,IconContainerComponent:h,isActive:m,itemValue:g,labelProps:_,name:T,onBlur:I,onChange:R,onClick:b,onFocus:V,readOnly:L,ownerState:M,ratingValue:z,ratingValueRounded:B}=n,W=l?g===z:g<=z,D=g<=u,A=g<=i,C=g===B,E=`${T}-${$N()}`,x=F(sG,{as:h,value:g,className:mh(e.icon,W?e.iconFilled:e.iconEmpty,D&&e.iconHover,A&&e.iconFocus,m&&e.iconActive),ownerState:{...M,iconEmpty:!W,iconFilled:W,iconHover:D,iconFocus:A,iconActive:m},children:r&&!W?r:d});return L?F("span",{..._,children:x}):we(K.Fragment,{children:[we(pD,{ownerState:{...M,emptyValueFocused:void 0},htmlFor:E,..._,children:[x,F("span",{className:e.visuallyHidden,children:s(g)})]}),F("input",{className:e.visuallyHidden,onFocus:V,onBlur:I,onChange:R,onClick:b,disabled:t,value:g,id:E,type:"radio",name:T,checked:C})]})}const lG=F(ZK,{fontSize:"inherit"}),uG=F(eG,{fontSize:"inherit"});function cG(n){return`${n||"0"} Star${n!==1?"s":""}`}const dG=K.forwardRef(function(e,t){const r=hD({name:"MuiRating",props:e}),{component:i="span",className:s,defaultValue:l=null,disabled:u=!1,emptyIcon:d=uG,emptyLabelText:h="Empty",getLabelText:m=cG,highlightSelectedOnly:g=!1,icon:_=lG,IconContainerComponent:T=aG,max:I=5,name:R,onChange:b,onChangeActive:V,onMouseLeave:L,onMouseMove:M,precision:z=1,readOnly:B=!1,size:W="medium",value:D,...A}=r,C=$N(R),[E,x]=Gq({controlled:D,default:l,name:"Rating"}),k=Zv(E,z),O=zq(),[{hover:X,focus:U},me]=K.useState({hover:-1,focus:-1});let oe=k;X!==-1&&(oe=X),U!==-1&&(oe=U);const[Z,pe]=K.useState(!1),he=K.useRef(),q=Qq(he,t),ie=st=>{M&&M(st);const gt=he.current,{right:tn,left:Gr,width:Cr}=gt.getBoundingClientRect();let kr;O?kr=(tn-st.clientX)/Cr:kr=(st.clientX-Gr)/Cr;let Hn=Zv(I*kr+z/2,z);Hn=VN(Hn,z,I),me(Kn=>Kn.hover===Hn&&Kn.focus===Hn?Kn:{hover:Hn,focus:Hn}),pe(!1),V&&X!==Hn&&V(st,Hn)},Se=st=>{L&&L(st);const gt=-1;me({hover:gt,focus:gt}),V&&X!==gt&&V(st,gt)},xe=st=>{let gt=st.target.value===""?null:parseFloat(st.target.value);X!==-1&&(gt=X),x(gt),b&&b(st,gt)},Me=st=>{st.clientX===0&&st.clientY===0||(me({hover:-1,focus:-1}),x(null),b&&parseFloat(st.target.value)===k&&b(st,null))},Be=st=>{Kb(st.target)&&pe(!0);const gt=parseFloat(st.target.value);me(tn=>({hover:tn.hover,focus:gt}))},Ye=st=>{if(X!==-1)return;Kb(st.target)||pe(!1);const gt=-1;me(tn=>({hover:tn.hover,focus:gt}))},[He,it]=K.useState(!1),wt={...r,component:i,defaultValue:l,disabled:u,emptyIcon:d,emptyLabelText:h,emptyValueFocused:He,focusVisible:Z,getLabelText:m,icon:_,IconContainerComponent:T,max:I,precision:z,readOnly:B,size:W},cn=rG(wt);return we(iG,{as:i,ref:q,onMouseMove:ie,onMouseLeave:Se,className:mh(cn.root,s,B&&"MuiRating-readOnly"),ownerState:wt,role:B?"img":null,"aria-label":B?m(oe):null,...A,children:[Array.from(new Array(I)).map((st,gt)=>{const tn=gt+1,Gr={classes:cn,disabled:u,emptyIcon:d,focus:U,getLabelText:m,highlightSelectedOnly:g,hover:X,icon:_,IconContainerComponent:T,name:C,onBlur:Ye,onChange:xe,onClick:Me,onFocus:Be,ratingValue:oe,ratingValueRounded:k,readOnly:B,ownerState:wt},Cr=tn===Math.ceil(oe)&&(X!==-1||U!==-1);if(z<1){const kr=Array.from(new Array(1/z));return F(oG,{className:mh(cn.decimal,Cr&&cn.iconActive),ownerState:wt,iconActive:Cr,children:kr.map((Hn,Kn)=>{const lr=Zv(tn-1+(Kn+1)*z,z);return F(vP,{...Gr,isActive:!1,itemValue:lr,labelProps:{style:kr.length-1===Kn?{}:{width:lr===oe?`${(Kn+1)*z*100}%`:"0%",overflow:"hidden",position:"absolute"}}},lr)})},tn)}return F(vP,{...Gr,isActive:Cr,itemValue:tn},tn)}),!B&&!u&&we(pD,{className:mh(cn.label,cn.labelEmptyValue),ownerState:wt,children:[F("input",{className:cn.visuallyHidden,value:"",id:`${C}-empty`,type:"radio",name:C,checked:k==null,onFocus:()=>it(!0),onBlur:()=>it(!1),onChange:xe}),F("span",{className:cn.visuallyHidden,children:h})]})]})});var Vm={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var hG=Vm.exports,wP;function fG(){return wP||(wP=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(hG,function(){var e,t,r="2.0.6",i={},s={},l={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:l.currentLocale,zeroFormat:l.zeroFormat,nullFormat:l.nullFormat,defaultFormat:l.defaultFormat,scalePercentBy100:l.scalePercentBy100};function d(h,m){this._input=h,this._value=m}return e=function(h){var m,g,_,T;if(e.isNumeral(h))m=h.value();else if(h===0||typeof h>"u")m=0;else if(h===null||t.isNaN(h))m=null;else if(typeof h=="string")if(u.zeroFormat&&h===u.zeroFormat)m=0;else if(u.nullFormat&&h===u.nullFormat||!h.replace(/[^0-9]+/g,"").length)m=null;else{for(g in i)if(T=typeof i[g].regexps.unformat=="function"?i[g].regexps.unformat():i[g].regexps.unformat,T&&h.match(T)){_=i[g].unformat;break}_=_||e._.stringToNumber,m=_(h)}else m=Number(h)||null;return new d(h,m)},e.version=r,e.isNumeral=function(h){return h instanceof d},e._=t={numberToFormat:function(h,m,g){var _=s[e.options.currentLocale],T=!1,I=!1,R=0,b="",V=1e12,L=1e9,M=1e6,z=1e3,B="",W=!1,D,A,C,E,x,k,O;if(h=h||0,A=Math.abs(h),e._.includes(m,"(")?(T=!0,m=m.replace(/[\(|\)]/g,"")):(e._.includes(m,"+")||e._.includes(m,"-"))&&(x=e._.includes(m,"+")?m.indexOf("+"):h<0?m.indexOf("-"):-1,m=m.replace(/[\+|\-]/g,"")),e._.includes(m,"a")&&(D=m.match(/a(k|m|b|t)?/),D=D?D[1]:!1,e._.includes(m," a")&&(b=" "),m=m.replace(new RegExp(b+"a[kmbt]?"),""),A>=V&&!D||D==="t"?(b+=_.abbreviations.trillion,h=h/V):A<V&&A>=L&&!D||D==="b"?(b+=_.abbreviations.billion,h=h/L):A<L&&A>=M&&!D||D==="m"?(b+=_.abbreviations.million,h=h/M):(A<M&&A>=z&&!D||D==="k")&&(b+=_.abbreviations.thousand,h=h/z)),e._.includes(m,"[.]")&&(I=!0,m=m.replace("[.]",".")),C=h.toString().split(".")[0],E=m.split(".")[1],k=m.indexOf(","),R=(m.split(".")[0].split(",")[0].match(/0/g)||[]).length,E?(e._.includes(E,"[")?(E=E.replace("]",""),E=E.split("["),B=e._.toFixed(h,E[0].length+E[1].length,g,E[1].length)):B=e._.toFixed(h,E.length,g),C=B.split(".")[0],e._.includes(B,".")?B=_.delimiters.decimal+B.split(".")[1]:B="",I&&Number(B.slice(1))===0&&(B="")):C=e._.toFixed(h,0,g),b&&!D&&Number(C)>=1e3&&b!==_.abbreviations.trillion)switch(C=String(Number(C)/1e3),b){case _.abbreviations.thousand:b=_.abbreviations.million;break;case _.abbreviations.million:b=_.abbreviations.billion;break;case _.abbreviations.billion:b=_.abbreviations.trillion;break}if(e._.includes(C,"-")&&(C=C.slice(1),W=!0),C.length<R)for(var X=R-C.length;X>0;X--)C="0"+C;return k>-1&&(C=C.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+_.delimiters.thousands)),m.indexOf(".")===0&&(C=""),O=C+B+(b||""),T?O=(T&&W?"(":"")+O+(T&&W?")":""):x>=0?O=x===0?(W?"-":"+")+O:O+(W?"-":"+"):W&&(O="-"+O),O},stringToNumber:function(h){var m=s[u.currentLocale],g=h,_={thousand:3,million:6,billion:9,trillion:12},T,I,R;if(u.zeroFormat&&h===u.zeroFormat)I=0;else if(u.nullFormat&&h===u.nullFormat||!h.replace(/[^0-9]+/g,"").length)I=null;else{I=1,m.delimiters.decimal!=="."&&(h=h.replace(/\./g,"").replace(m.delimiters.decimal,"."));for(T in _)if(R=new RegExp("[^a-zA-Z]"+m.abbreviations[T]+"(?:\\)|(\\"+m.currency.symbol+")?(?:\\))?)?$"),g.match(R)){I*=Math.pow(10,_[T]);break}I*=(h.split("-").length+Math.min(h.split("(").length-1,h.split(")").length-1))%2?1:-1,h=h.replace(/[^0-9\.]+/g,""),I*=Number(h)}return I},isNaN:function(h){return typeof h=="number"&&isNaN(h)},includes:function(h,m){return h.indexOf(m)!==-1},insert:function(h,m,g){return h.slice(0,g)+m+h.slice(g)},reduce:function(h,m){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof m!="function")throw new TypeError(m+" is not a function");var g=Object(h),_=g.length>>>0,T=0,I;if(arguments.length===3)I=arguments[2];else{for(;T<_&&!(T in g);)T++;if(T>=_)throw new TypeError("Reduce of empty array with no initial value");I=g[T++]}for(;T<_;T++)T in g&&(I=m(I,g[T],T,g));return I},multiplier:function(h){var m=h.toString().split(".");return m.length<2?1:Math.pow(10,m[1].length)},correctionFactor:function(){var h=Array.prototype.slice.call(arguments);return h.reduce(function(m,g){var _=t.multiplier(g);return m>_?m:_},1)},toFixed:function(h,m,g,_){var T=h.toString().split("."),I=m-(_||0),R,b,V,L;return T.length===2?R=Math.min(Math.max(T[1].length,I),m):R=I,V=Math.pow(10,R),L=(g(h+"e+"+R)/V).toFixed(R),_>m-R&&(b=new RegExp("\\.?0{1,"+(_-(m-R))+"}$"),L=L.replace(b,"")),L}},e.options=u,e.formats=i,e.locales=s,e.locale=function(h){return h&&(u.currentLocale=h.toLowerCase()),u.currentLocale},e.localeData=function(h){if(!h)return s[u.currentLocale];if(h=h.toLowerCase(),!s[h])throw new Error("Unknown locale : "+h);return s[h]},e.reset=function(){for(var h in l)u[h]=l[h]},e.zeroFormat=function(h){u.zeroFormat=typeof h=="string"?h:null},e.nullFormat=function(h){u.nullFormat=typeof h=="string"?h:null},e.defaultFormat=function(h){u.defaultFormat=typeof h=="string"?h:"0.0"},e.register=function(h,m,g){if(m=m.toLowerCase(),this[h+"s"][m])throw new TypeError(m+" "+h+" already registered.");return this[h+"s"][m]=g,g},e.validate=function(h,m){var g,_,T,I,R,b,V,L;if(typeof h!="string"&&(h+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",h)),h=h.trim(),h.match(/^\d+$/))return!0;if(h==="")return!1;try{V=e.localeData(m)}catch{V=e.localeData(e.locale())}return T=V.currency.symbol,R=V.abbreviations,g=V.delimiters.decimal,V.delimiters.thousands==="."?_="\\.":_=V.delimiters.thousands,L=h.match(/^[^\d]+/),L!==null&&(h=h.substr(1),L[0]!==T)||(L=h.match(/[^\d]+$/),L!==null&&(h=h.slice(0,-1),L[0]!==R.thousand&&L[0]!==R.million&&L[0]!==R.billion&&L[0]!==R.trillion))?!1:(b=new RegExp(_+"{2}"),h.match(/[^\d.,]/g)?!1:(I=h.split(g),I.length>2?!1:I.length<2?!!I[0].match(/^\d+.*\d$/)&&!I[0].match(b):I[0].length===1?!!I[0].match(/^\d+$/)&&!I[0].match(b)&&!!I[1].match(/^\d+$/):!!I[0].match(/^\d+.*\d$/)&&!I[0].match(b)&&!!I[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(h,m){var g=this._value,_=h||u.defaultFormat,T,I,R;if(m=m||Math.round,g===0&&u.zeroFormat!==null)I=u.zeroFormat;else if(g===null&&u.nullFormat!==null)I=u.nullFormat;else{for(T in i)if(_.match(i[T].regexps.format)){R=i[T].format;break}R=R||e._.numberToFormat,I=R(g,_,m)}return I},value:function(){return this._value},input:function(){return this._input},set:function(h){return this._value=Number(h),this},add:function(h){var m=t.correctionFactor.call(null,this._value,h);function g(_,T,I,R){return _+Math.round(m*T)}return this._value=t.reduce([this._value,h],g,0)/m,this},subtract:function(h){var m=t.correctionFactor.call(null,this._value,h);function g(_,T,I,R){return _-Math.round(m*T)}return this._value=t.reduce([h],g,Math.round(this._value*m))/m,this},multiply:function(h){function m(g,_,T,I){var R=t.correctionFactor(g,_);return Math.round(g*R)*Math.round(_*R)/Math.round(R*R)}return this._value=t.reduce([this._value,h],m,1),this},divide:function(h){function m(g,_,T,I){var R=t.correctionFactor(g,_);return Math.round(g*R)/Math.round(_*R)}return this._value=t.reduce([this._value,h],m),this},difference:function(h){return Math.abs(e(this._value).subtract(h).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(h){var m=h%10;return~~(h%100/10)===1?"th":m===1?"st":m===2?"nd":m===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(h,m,g){var _=e._.includes(m," BPS")?" ":"",T;return h=h*1e4,m=m.replace(/\s?BPS/,""),T=e._.numberToFormat(h,m,g),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,_+"BPS"),T=T.join("")):T=T+_+"BPS",T},unformat:function(h){return+(e._.stringToNumber(h)*1e-4).toFixed(15)}})}(),function(){var h={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},m={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},g=h.suffixes.concat(m.suffixes.filter(function(T){return h.suffixes.indexOf(T)<0})),_=g.join("|");_="("+_.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(_)},format:function(T,I,R){var b,V=e._.includes(I,"ib")?m:h,L=e._.includes(I," b")||e._.includes(I," ib")?" ":"",M,z,B;for(I=I.replace(/\s?i?b/,""),M=0;M<=V.suffixes.length;M++)if(z=Math.pow(V.base,M),B=Math.pow(V.base,M+1),T===null||T===0||T>=z&&T<B){L+=V.suffixes[M],z>0&&(T=T/z);break}return b=e._.numberToFormat(T,I,R),b+L},unformat:function(T){var I=e._.stringToNumber(T),R,b;if(I){for(R=h.suffixes.length-1;R>=0;R--){if(e._.includes(T,h.suffixes[R])){b=Math.pow(h.base,R);break}if(e._.includes(T,m.suffixes[R])){b=Math.pow(m.base,R);break}}I*=b||1}return I}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(h,m,g){var _=e.locales[e.options.currentLocale],T={before:m.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:m.match(/([\+|\-|\)|\s|\$]*)$/)[0]},I,R,b;for(m=m.replace(/\s?\$\s?/,""),I=e._.numberToFormat(h,m,g),h>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):h<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),b=0;b<T.before.length;b++)switch(R=T.before[b],R){case"$":I=e._.insert(I,_.currency.symbol,b);break;case" ":I=e._.insert(I," ",b+_.currency.symbol.length-1);break}for(b=T.after.length-1;b>=0;b--)switch(R=T.after[b],R){case"$":I=b===T.after.length-1?I+_.currency.symbol:e._.insert(I,_.currency.symbol,-(T.after.length-(1+b)));break;case" ":I=b===T.after.length-1?I+" ":e._.insert(I," ",-(T.after.length-(1+b)+_.currency.symbol.length-1));break}return I}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(h,m,g){var _,T=typeof h=="number"&&!e._.isNaN(h)?h.toExponential():"0e+0",I=T.split("e");return m=m.replace(/e[\+|\-]{1}0/,""),_=e._.numberToFormat(Number(I[0]),m,g),_+"e"+I[1]},unformat:function(h){var m=e._.includes(h,"e+")?h.split("e+"):h.split("e-"),g=Number(m[0]),_=Number(m[1]);_=e._.includes(h,"e-")?_*=-1:_;function T(I,R,b,V){var L=e._.correctionFactor(I,R),M=I*L*(R*L)/(L*L);return M}return e._.reduce([g,Math.pow(10,_)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(h,m,g){var _=e.locales[e.options.currentLocale],T,I=e._.includes(m," o")?" ":"";return m=m.replace(/\s?o/,""),I+=_.ordinal(h),T=e._.numberToFormat(h,m,g),T+I}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(h,m,g){var _=e._.includes(m," %")?" ":"",T;return e.options.scalePercentBy100&&(h=h*100),m=m.replace(/\s?\%/,""),T=e._.numberToFormat(h,m,g),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,_+"%"),T=T.join("")):T=T+_+"%",T},unformat:function(h){var m=e._.stringToNumber(h);return e.options.scalePercentBy100?m*.01:m}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(h,m,g){var _=Math.floor(h/60/60),T=Math.floor((h-_*60*60)/60),I=Math.round(h-_*60*60-T*60);return _+":"+(T<10?"0"+T:T)+":"+(I<10?"0"+I:I)},unformat:function(h){var m=h.split(":"),g=0;return m.length===3?(g=g+Number(m[0])*60*60,g=g+Number(m[1])*60,g=g+Number(m[2])):m.length===2&&(g=g+Number(m[0])*60,g=g+Number(m[1])),Number(g)}})}(),e})}(Vm)),Vm.exports}var pG=fG();const mG=_E(pG),OI=({amount:n})=>{const e=mG(n).format("$0,0.00");return F("div",{children:e})},gG="_card_container_n6d0l_1",yG="_button_n6d0l_17",_G="_rating_n6d0l_73",vG="_product_container_n6d0l_83",wG="_product_flexed_n6d0l_111",Ru={card_container:gG,button:yG,rating:_G,product_container:vG,product_flexed:wG},jr={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function Pc({product:n,flex:e,renderDesc:t,renderAdd:r}){const{image:i,title:s,id:l,rating:u,price:d,description:h}=n,[m,g]=K.useContext(qs),_=()=>{g({type:jr.ADD_TO_BASKET,item:{image:i,title:s,id:l,rating:u,price:d,description:h}})};return we("div",{className:`${Ru.card_container} ${e?Ru.product_flexed:""}`,children:[F(hi,{to:`/products/${l}`,children:F("img",{src:i,alt:s,className:Ru.img_container})}),we("div",{children:[F("h3",{children:s}),t&&F("div",{style:{maxWidth:"600px"},children:h}),we("div",{className:Ru.rating,children:[F(dG,{value:u==null?void 0:u.rate,precision:.1}),we("small",{children:[u==null?void 0:u.count," reviews"]})]}),F("div",{children:F(OI,{amount:d})}),r&&F("button",{className:Ru.button,onClick:_,children:"Add to Cart"})]})]})}var EG={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function mD(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return EG[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Au(n){var e=mD(n);return"".concat(e.value).concat(e.unit)}var gD=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,l=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(l,0),r},Rg=function(){return Rg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Rg.apply(this,arguments)},IG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},TG=gD("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function mE(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,h=n.size,m=h===void 0?35:h,g=IG(n,["loading","color","speedMultiplier","cssOverride","size"]),_=Rg({background:"transparent !important",width:Au(m),height:Au(m),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(TG," ").concat(.75/l,"s 0s infinite linear"),animationFillMode:"both"},d);return t?K.createElement("span",Rg({style:_},g)):null}var Qt=function(){return Qt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Qt.apply(this,arguments)},SG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},RG=gD("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function AG(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,h=n.height,m=h===void 0?15:h,g=n.width,_=g===void 0?5:g,T=n.radius,I=T===void 0?2:T,R=n.margin,b=R===void 0?2:R,V=SG(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),L=mD(b).value,M=L+18,z=M/2+M/5.5,B=Qt({display:"inherit",position:"relative",fontSize:"0",top:M,left:M,width:"".concat(M*3,"px"),height:"".concat(M*3,"px")},d),W=function(U){return{position:"absolute",width:Au(_),height:Au(m),margin:Au(b),backgroundColor:i,borderRadius:Au(I),transition:"2s",animationFillMode:"both",animation:"".concat(RG," ").concat(1.2/l,"s ").concat(U*.12,"s infinite ease-in-out")}},D=Qt(Qt({},W(1)),{top:"".concat(M,"px"),left:"0"}),A=Qt(Qt({},W(2)),{top:"".concat(z,"px"),left:"".concat(z,"px"),transform:"rotate(-45deg)"}),C=Qt(Qt({},W(3)),{top:"0",left:"".concat(M,"px"),transform:"rotate(90deg)"}),E=Qt(Qt({},W(4)),{top:"".concat(-1*z,"px"),left:"".concat(z,"px"),transform:"rotate(45deg)"}),x=Qt(Qt({},W(5)),{top:"".concat(-1*M,"px"),left:"0"}),k=Qt(Qt({},W(6)),{top:"".concat(-1*z,"px"),left:"".concat(-1*z,"px"),transform:"rotate(-45deg)"}),O=Qt(Qt({},W(7)),{top:"0",left:"".concat(-1*M,"px"),transform:"rotate(90deg)"}),X=Qt(Qt({},W(8)),{top:"".concat(z,"px"),left:"".concat(-1*z,"px"),transform:"rotate(45deg)"});return t?K.createElement("span",Qt({style:B},V),K.createElement("span",{style:D}),K.createElement("span",{style:A}),K.createElement("span",{style:C}),K.createElement("span",{style:E}),K.createElement("span",{style:x}),K.createElement("span",{style:k}),K.createElement("span",{style:O}),K.createElement("span",{style:X})):null}function NI(){return F("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:F(AG,{color:"#36d7b7"})})}function bG(){const[n,e]=K.useState([]),[t,r]=K.useState(!1);return K.useEffect(()=>{Pt.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),F($m,{children:t?F(NI,{}):F("section",{className:Ru.product_container,children:n==null?void 0:n.map(i=>F(Pc,{renderAdd:!0,product:i},i.id))})})}var ew={},Md={},rm={},im={},EP;function PG(){return EP||(EP=1,function(n){(function(e,t){t(n,Ko(),DN())})(im,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=I;var i=l(t),s=l(r);function l(L){return L&&L.__esModule?L:{default:L}}var u=Object.assign||function(L){for(var M=1;M<arguments.length;M++){var z=arguments[M];for(var B in z)Object.prototype.hasOwnProperty.call(z,B)&&(L[B]=z[B])}return L};function d(L,M){var z={};for(var B in L)M.indexOf(B)>=0||Object.prototype.hasOwnProperty.call(L,B)&&(z[B]=L[B]);return z}function h(L,M){if(!(L instanceof M))throw new TypeError("Cannot call a class as a function")}var m=function(){function L(M,z){for(var B=0;B<z.length;B++){var W=z[B];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(M,W.key,W)}}return function(M,z,B){return z&&L(M.prototype,z),B&&L(M,B),M}}();function g(L,M){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:L}function _(L,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);L.prototype=Object.create(M&&M.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(L,M):L.__proto__=M)}var T=!1;function I(L){T=L}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){I(!0)}}))}catch{}function R(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?L:L.capture}function b(L){if("touches"in L){var M=L.touches[0],z=M.pageX,B=M.pageY;return{x:z,y:B}}var W=L.screenX,D=L.screenY;return{x:W,y:D}}var V=function(L){_(M,L);function M(){var z;h(this,M);for(var B=arguments.length,W=Array(B),D=0;D<B;D++)W[D]=arguments[D];var A=g(this,(z=M.__proto__||Object.getPrototypeOf(M)).call.apply(z,[this].concat(W)));return A._handleSwipeStart=A._handleSwipeStart.bind(A),A._handleSwipeMove=A._handleSwipeMove.bind(A),A._handleSwipeEnd=A._handleSwipeEnd.bind(A),A._onMouseDown=A._onMouseDown.bind(A),A._onMouseMove=A._onMouseMove.bind(A),A._onMouseUp=A._onMouseUp.bind(A),A._setSwiperRef=A._setSwiperRef.bind(A),A}return m(M,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(B){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(B))}},{key:"_onMouseMove",value:function(B){this.mouseDown&&this._handleSwipeMove(B)}},{key:"_onMouseUp",value:function(B){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(B)}},{key:"_handleSwipeStart",value:function(B){var W=b(B),D=W.x,A=W.y;this.moveStart={x:D,y:A},this.props.onSwipeStart(B)}},{key:"_handleSwipeMove",value:function(B){if(this.moveStart){var W=b(B),D=W.x,A=W.y,C=D-this.moveStart.x,E=A-this.moveStart.y;this.moving=!0;var x=this.props.onSwipeMove({x:C,y:E},B);x&&B.cancelable&&B.preventDefault(),this.movePosition={deltaX:C,deltaY:E}}}},{key:"_handleSwipeEnd",value:function(B){this.props.onSwipeEnd(B);var W=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-W?this.props.onSwipeLeft(1,B):this.movePosition.deltaX>W&&this.props.onSwipeRight(1,B),this.movePosition.deltaY<-W?this.props.onSwipeUp(1,B):this.movePosition.deltaY>W&&this.props.onSwipeDown(1,B)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(B){this.swiper=B,this.props.innerRef(B)}},{key:"render",value:function(){var B=this.props;B.tagName;var W=B.className,D=B.style,A=B.children;B.allowMouseEvents,B.onSwipeUp,B.onSwipeDown,B.onSwipeLeft,B.onSwipeRight,B.onSwipeStart,B.onSwipeMove,B.onSwipeEnd,B.innerRef,B.tolerance;var C=d(B,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,u({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:W,style:D},C),A)}}]),M}(t.Component);V.displayName="ReactSwipe",V.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},V.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=V})}(im)),im}var IP;function yD(){return IP||(IP=1,function(n){(function(e,t){t(n,PG())})(rm,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})}(rm)),rm}var Fd={},tw={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var TP;function CG(){return TP||(TP=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(s=i(s,r(u)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var u in s)e.call(s,u)&&s[u]&&(l=i(l,u));return l}function i(s,l){return l?s?s+" "+l:s+l:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(tw)),tw.exports}var SP;function _D(){if(SP)return Fd;SP=1,Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.default=void 0;var n=e(CG());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,s,l){return s in i?Object.defineProperty(i,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[s]=l,i}var r={ROOT:function(s){return(0,n.default)(t({"carousel-root":!0},s||"",!!s))},CAROUSEL:function(s){return(0,n.default)({carousel:!0,"carousel-slider":s})},WRAPPER:function(s,l){return(0,n.default)({"thumbs-wrapper":!s,"slider-wrapper":s,"axis-horizontal":l==="horizontal","axis-vertical":l!=="horizontal"})},SLIDER:function(s,l){return(0,n.default)({thumbs:!s,slider:s,animated:!l})},ITEM:function(s,l,u){return(0,n.default)({thumb:!s,slide:s,selected:l,previous:u})},ARROW_PREV:function(s){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":s})},ARROW_NEXT:function(s){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":s})},DOT:function(s){return(0,n.default)({dot:!0,selected:s})}};return Fd.default=r,Fd}var Ud={},$d={},RP;function kG(){if(RP)return $d;RP=1,Object.defineProperty($d,"__esModule",{value:!0}),$d.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return $d.outerWidth=n,$d}var Bd={},AP;function DI(){if(AP)return Bd;AP=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.default=void 0;var n=function(t,r,i){var s=t===0?t:t+r,l=i==="horizontal"?[s,0,0]:[0,s,0],u="translate3d",d="("+l.join(",")+")";return u+d};return Bd.default=n,Bd}var zd={},bP;function vD(){if(bP)return zd;bP=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.default=void 0;var n=function(){return window};return zd.default=n,zd}var PP;function wD(){if(PP)return Ud;PP=1,Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.default=void 0;var n=d(Ko()),e=l(_D()),t=kG(),r=l(DI()),i=l(yD()),s=l(vD());function l(A){return A&&A.__esModule?A:{default:A}}function u(){if(typeof WeakMap!="function")return null;var A=new WeakMap;return u=function(){return A},A}function d(A){if(A&&A.__esModule)return A;if(A===null||h(A)!=="object"&&typeof A!="function")return{default:A};var C=u();if(C&&C.has(A))return C.get(A);var E={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in A)if(Object.prototype.hasOwnProperty.call(A,k)){var O=x?Object.getOwnPropertyDescriptor(A,k):null;O&&(O.get||O.set)?Object.defineProperty(E,k,O):E[k]=A[k]}return E.default=A,C&&C.set(A,E),E}function h(A){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(E){return typeof E}:h=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},h(A)}function m(){return m=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var E=arguments[C];for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&(A[x]=E[x])}return A},m.apply(this,arguments)}function g(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function _(A,C){for(var E=0;E<C.length;E++){var x=C[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function T(A,C,E){return C&&_(A.prototype,C),A}function I(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),C&&R(A,C)}function R(A,C){return R=Object.setPrototypeOf||function(x,k){return x.__proto__=k,x},R(A,C)}function b(A){var C=M();return function(){var x=z(A),k;if(C){var O=z(this).constructor;k=Reflect.construct(x,arguments,O)}else k=x.apply(this,arguments);return V(this,k)}}function V(A,C){return C&&(h(C)==="object"||typeof C=="function")?C:L(A)}function L(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function z(A){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},z(A)}function B(A,C,E){return C in A?Object.defineProperty(A,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):A[C]=E,A}var W=function(C){return C.hasOwnProperty("key")},D=function(A){I(E,A);var C=b(E);function E(x){var k;return g(this,E),k=C.call(this,x),B(L(k),"itemsWrapperRef",void 0),B(L(k),"itemsListRef",void 0),B(L(k),"thumbsRef",void 0),B(L(k),"setItemsWrapperRef",function(O){k.itemsWrapperRef=O}),B(L(k),"setItemsListRef",function(O){k.itemsListRef=O}),B(L(k),"setThumbsRef",function(O,X){k.thumbsRef||(k.thumbsRef=[]),k.thumbsRef[X]=O}),B(L(k),"updateSizes",function(){if(!(!k.props.children||!k.itemsWrapperRef||!k.thumbsRef)){var O=n.Children.count(k.props.children),X=k.itemsWrapperRef.clientWidth,U=k.props.thumbWidth?k.props.thumbWidth:(0,t.outerWidth)(k.thumbsRef[0]),me=Math.floor(X/U),oe=me<O,Z=oe?O-me:0;k.setState(function(pe,he){return{itemSize:U,visibleItems:me,firstItem:oe?k.getFirstItem(he.selectedItem):0,lastPosition:Z,showArrows:oe}})}}),B(L(k),"handleClickItem",function(O,X,U){if(!W(U)||U.key==="Enter"){var me=k.props.onSelectItem;typeof me=="function"&&me(O,X)}}),B(L(k),"onSwipeStart",function(){k.setState({swiping:!0})}),B(L(k),"onSwipeEnd",function(){k.setState({swiping:!1})}),B(L(k),"onSwipeMove",function(O){var X=O.x;if(!k.state.itemSize||!k.itemsWrapperRef||!k.state.visibleItems)return!1;var U=0,me=n.Children.count(k.props.children),oe=-(k.state.firstItem*100)/k.state.visibleItems,Z=Math.max(me-k.state.visibleItems,0),pe=-Z*100/k.state.visibleItems;oe===U&&X>0&&(X=0),oe===pe&&X<0&&(X=0);var he=k.itemsWrapperRef.clientWidth,q=oe+100/(he/X);return k.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ie){k.itemsListRef.style[ie]=(0,r.default)(q,"%",k.props.axis)}),!0}),B(L(k),"slideRight",function(O){k.moveTo(k.state.firstItem-(typeof O=="number"?O:1))}),B(L(k),"slideLeft",function(O){k.moveTo(k.state.firstItem+(typeof O=="number"?O:1))}),B(L(k),"moveTo",function(O){O=O<0?0:O,O=O>=k.state.lastPosition?k.state.lastPosition:O,k.setState({firstItem:O})}),k.state={selectedItem:x.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},k}return T(E,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(k){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==k.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(k){var O=k;return k>=this.state.lastPosition&&(O=this.state.lastPosition),k<this.state.firstItem+this.state.visibleItems&&(O=this.state.firstItem),k<this.state.firstItem&&(O=k),O}},{key:"renderItems",value:function(){var k=this;return this.props.children.map(function(O,X){var U=e.default.ITEM(!1,X===k.state.selectedItem),me={key:X,ref:function(Z){return k.setThumbsRef(Z,X)},className:U,onClick:k.handleClickItem.bind(k,X,k.props.children[X]),onKeyDown:k.handleClickItem.bind(k,X,k.props.children[X]),"aria-label":"".concat(k.props.labels.item," ").concat(X+1),style:{width:k.props.thumbWidth}};return n.default.createElement("li",m({},me,{role:"button",tabIndex:0}),O)})}},{key:"render",value:function(){var k=this;if(!this.props.children)return null;var O=n.Children.count(this.props.children)>1,X=this.state.showArrows&&this.state.firstItem>0,U=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,me={},oe=-this.state.firstItem*(this.state.itemSize||0),Z=(0,r.default)(oe,"px",this.props.axis),pe=this.props.transitionTime+"ms";return me={WebkitTransform:Z,MozTransform:Z,MsTransform:Z,OTransform:Z,transform:Z,msTransform:Z,WebkitTransitionDuration:pe,MozTransitionDuration:pe,MsTransitionDuration:pe,OTransitionDuration:pe,transitionDuration:pe,msTransitionDuration:pe},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!X),onClick:function(){return k.slideRight()},"aria-label":this.props.labels.leftArrow}),O?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:me,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(q){return k.setItemsListRef(q)},style:me},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!U),onClick:function(){return k.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),E}(n.Component);return Ud.default=D,B(D,"displayName","Thumbs"),B(D,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Ud}var jd={},CP;function xG(){if(CP)return jd;CP=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.default=void 0;var n=function(){return document};return jd.default=n,jd}var gr={},kP;function ED(){if(kP)return gr;kP=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.setPosition=gr.getPosition=gr.isKeyboardEvent=gr.defaultStatusFormatter=gr.noop=void 0;var n=Ko(),e=t(DI());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};gr.noop=r;var i=function(h,m){return"".concat(h," of ").concat(m)};gr.defaultStatusFormatter=i;var s=function(h){return h?h.hasOwnProperty("key"):!1};gr.isKeyboardEvent=s;var l=function(h,m){if(m.infiniteLoop&&++h,h===0)return 0;var g=n.Children.count(m.children);if(m.centerMode&&m.axis==="horizontal"){var _=-h*m.centerSlidePercentage,T=g-1;return h&&(h!==T||m.infiniteLoop)?_+=(100-m.centerSlidePercentage)/2:h===T&&(_+=100-m.centerSlidePercentage),_}return-h*100};gr.getPosition=l;var u=function(h,m){var g={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(_){g[_]=(0,e.default)(h,"%",m)}),g};return gr.setPosition=u,gr}var ci={},xP;function OG(){if(xP)return ci;xP=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.fadeAnimationHandler=ci.slideStopSwipingHandler=ci.slideSwipeAnimationHandler=ci.slideAnimationHandler=void 0;var n=Ko(),e=r(DI()),t=ED();function r(g){return g&&g.__esModule?g:{default:g}}function i(g,_){var T=Object.keys(g);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(g);_&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(g,R).enumerable})),T.push.apply(T,I)}return T}function s(g){for(var _=1;_<arguments.length;_++){var T=arguments[_]!=null?arguments[_]:{};_%2?i(Object(T),!0).forEach(function(I){l(g,I,T[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(I){Object.defineProperty(g,I,Object.getOwnPropertyDescriptor(T,I))})}return g}function l(g,_,T){return _ in g?Object.defineProperty(g,_,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[_]=T,g}var u=function(_,T){var I={},R=T.selectedItem,b=R,V=n.Children.count(_.children)-1,L=_.infiniteLoop&&(R<0||R>V);if(L)return b<0?_.centerMode&&_.centerSlidePercentage&&_.axis==="horizontal"?I.itemListStyle=(0,t.setPosition)(-(V+2)*_.centerSlidePercentage-(100-_.centerSlidePercentage)/2,_.axis):I.itemListStyle=(0,t.setPosition)(-(V+2)*100,_.axis):b>V&&(I.itemListStyle=(0,t.setPosition)(0,_.axis)),I;var M=(0,t.getPosition)(R,_),z=(0,e.default)(M,"%",_.axis),B=_.transitionTime+"ms";return I.itemListStyle={WebkitTransform:z,msTransform:z,OTransform:z,transform:z},T.swiping||(I.itemListStyle=s(s({},I.itemListStyle),{},{WebkitTransitionDuration:B,MozTransitionDuration:B,OTransitionDuration:B,transitionDuration:B,msTransitionDuration:B})),I};ci.slideAnimationHandler=u;var d=function(_,T,I,R){var b={},V=T.axis==="horizontal",L=n.Children.count(T.children),M=0,z=(0,t.getPosition)(I.selectedItem,T),B=T.infiniteLoop?(0,t.getPosition)(L-1,T)-100:(0,t.getPosition)(L-1,T),W=V?_.x:_.y,D=W;z===M&&W>0&&(D=0),z===B&&W<0&&(D=0);var A=z+100/(I.itemSize/D),C=Math.abs(W)>T.swipeScrollTolerance;return T.infiniteLoop&&C&&(I.selectedItem===0&&A>-100?A-=L*100:I.selectedItem===L-1&&A<-L*100&&(A+=L*100)),(!T.preventMovementUntilSwipeScrollTolerance||C||I.swipeMovementStarted)&&(I.swipeMovementStarted||R({swipeMovementStarted:!0}),b.itemListStyle=(0,t.setPosition)(A,T.axis)),C&&!I.cancelClick&&R({cancelClick:!0}),b};ci.slideSwipeAnimationHandler=d;var h=function(_,T){var I=(0,t.getPosition)(T.selectedItem,_),R=(0,t.setPosition)(I,_.axis);return{itemListStyle:R}};ci.slideStopSwipingHandler=h;var m=function(_,T){var I=_.transitionTime+"ms",R="ease-in-out",b={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:R,msTransitionTimingFunction:R,MozTransitionTimingFunction:R,WebkitTransitionTimingFunction:R,OTransitionTimingFunction:R};return T.swiping||(b=s(s({},b),{},{WebkitTransitionDuration:I,MozTransitionDuration:I,OTransitionDuration:I,transitionDuration:I,msTransitionDuration:I})),{slideStyle:b,selectedStyle:s(s({},b),{},{opacity:1,position:"relative"}),prevStyle:s({},b)}};return ci.fadeAnimationHandler=m,ci}var OP;function NG(){if(OP)return Md;OP=1,Object.defineProperty(Md,"__esModule",{value:!0}),Md.default=void 0;var n=m(Ko()),e=d(yD()),t=d(_D()),r=d(wD()),i=d(xG()),s=d(vD()),l=ED(),u=OG();function d(x){return x&&x.__esModule?x:{default:x}}function h(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return h=function(){return x},x}function m(x){if(x&&x.__esModule)return x;if(x===null||g(x)!=="object"&&typeof x!="function")return{default:x};var k=h();if(k&&k.has(x))return k.get(x);var O={},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in x)if(Object.prototype.hasOwnProperty.call(x,U)){var me=X?Object.getOwnPropertyDescriptor(x,U):null;me&&(me.get||me.set)?Object.defineProperty(O,U,me):O[U]=x[U]}return O.default=x,k&&k.set(x,O),O}function g(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(O){return typeof O}:g=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},g(x)}function _(){return _=Object.assign||function(x){for(var k=1;k<arguments.length;k++){var O=arguments[k];for(var X in O)Object.prototype.hasOwnProperty.call(O,X)&&(x[X]=O[X])}return x},_.apply(this,arguments)}function T(x,k){var O=Object.keys(x);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(x);k&&(X=X.filter(function(U){return Object.getOwnPropertyDescriptor(x,U).enumerable})),O.push.apply(O,X)}return O}function I(x){for(var k=1;k<arguments.length;k++){var O=arguments[k]!=null?arguments[k]:{};k%2?T(Object(O),!0).forEach(function(X){C(x,X,O[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(O)):T(Object(O)).forEach(function(X){Object.defineProperty(x,X,Object.getOwnPropertyDescriptor(O,X))})}return x}function R(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}function b(x,k){for(var O=0;O<k.length;O++){var X=k[O];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(x,X.key,X)}}function V(x,k,O){return k&&b(x.prototype,k),x}function L(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),k&&M(x,k)}function M(x,k){return M=Object.setPrototypeOf||function(X,U){return X.__proto__=U,X},M(x,k)}function z(x){var k=D();return function(){var X=A(x),U;if(k){var me=A(this).constructor;U=Reflect.construct(X,arguments,me)}else U=X.apply(this,arguments);return B(this,U)}}function B(x,k){return k&&(g(k)==="object"||typeof k=="function")?k:W(x)}function W(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A(x){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},A(x)}function C(x,k,O){return k in x?Object.defineProperty(x,k,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[k]=O,x}var E=function(x){L(O,x);var k=z(O);function O(X){var U;R(this,O),U=k.call(this,X),C(W(U),"thumbsRef",void 0),C(W(U),"carouselWrapperRef",void 0),C(W(U),"listRef",void 0),C(W(U),"itemsRef",void 0),C(W(U),"timer",void 0),C(W(U),"animationHandler",void 0),C(W(U),"setThumbsRef",function(oe){U.thumbsRef=oe}),C(W(U),"setCarouselWrapperRef",function(oe){U.carouselWrapperRef=oe}),C(W(U),"setListRef",function(oe){U.listRef=oe}),C(W(U),"setItemsRef",function(oe,Z){U.itemsRef||(U.itemsRef=[]),U.itemsRef[Z]=oe}),C(W(U),"autoPlay",function(){n.Children.count(U.props.children)<=1||(U.clearAutoPlay(),U.props.autoPlay&&(U.timer=setTimeout(function(){U.increment()},U.props.interval)))}),C(W(U),"clearAutoPlay",function(){U.timer&&clearTimeout(U.timer)}),C(W(U),"resetAutoPlay",function(){U.clearAutoPlay(),U.autoPlay()}),C(W(U),"stopOnHover",function(){U.setState({isMouseEntered:!0},U.clearAutoPlay)}),C(W(U),"startOnLeave",function(){U.setState({isMouseEntered:!1},U.autoPlay)}),C(W(U),"isFocusWithinTheCarousel",function(){return U.carouselWrapperRef?!!((0,i.default)().activeElement===U.carouselWrapperRef||U.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),C(W(U),"navigateWithKeyboard",function(oe){if(U.isFocusWithinTheCarousel()){var Z=U.props.axis,pe=Z==="horizontal",he={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},q=pe?he.ArrowRight:he.ArrowDown,ie=pe?he.ArrowLeft:he.ArrowUp;q===oe.keyCode?U.increment():ie===oe.keyCode&&U.decrement()}}),C(W(U),"updateSizes",function(){if(!(!U.state.initialized||!U.itemsRef||U.itemsRef.length===0)){var oe=U.props.axis==="horizontal",Z=U.itemsRef[0];if(Z){var pe=oe?Z.clientWidth:Z.clientHeight;U.setState({itemSize:pe}),U.thumbsRef&&U.thumbsRef.updateSizes()}}}),C(W(U),"setMountState",function(){U.setState({hasMount:!0}),U.updateSizes()}),C(W(U),"handleClickItem",function(oe,Z){if(n.Children.count(U.props.children)!==0){if(U.state.cancelClick){U.setState({cancelClick:!1});return}U.props.onClickItem(oe,Z),oe!==U.state.selectedItem&&U.setState({selectedItem:oe})}}),C(W(U),"handleOnChange",function(oe,Z){n.Children.count(U.props.children)<=1||U.props.onChange(oe,Z)}),C(W(U),"handleClickThumb",function(oe,Z){U.props.onClickThumb(oe,Z),U.moveTo(oe)}),C(W(U),"onSwipeStart",function(oe){U.setState({swiping:!0}),U.props.onSwipeStart(oe)}),C(W(U),"onSwipeEnd",function(oe){U.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),U.props.onSwipeEnd(oe),U.clearAutoPlay(),U.state.autoPlay&&U.autoPlay()}),C(W(U),"onSwipeMove",function(oe,Z){U.props.onSwipeMove(Z);var pe=U.props.swipeAnimationHandler(oe,U.props,U.state,U.setState.bind(W(U)));return U.setState(I({},pe)),!!Object.keys(pe).length}),C(W(U),"decrement",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;U.moveTo(U.state.selectedItem-(typeof oe=="number"?oe:1))}),C(W(U),"increment",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;U.moveTo(U.state.selectedItem+(typeof oe=="number"?oe:1))}),C(W(U),"moveTo",function(oe){if(typeof oe=="number"){var Z=n.Children.count(U.props.children)-1;oe<0&&(oe=U.props.infiniteLoop?Z:0),oe>Z&&(oe=U.props.infiniteLoop?0:Z),U.selectItem({selectedItem:oe}),U.state.autoPlay&&U.state.isMouseEntered===!1&&U.resetAutoPlay()}}),C(W(U),"onClickNext",function(){U.increment(1)}),C(W(U),"onClickPrev",function(){U.decrement(1)}),C(W(U),"onSwipeForward",function(){U.increment(1),U.props.emulateTouch&&U.setState({cancelClick:!0})}),C(W(U),"onSwipeBackwards",function(){U.decrement(1),U.props.emulateTouch&&U.setState({cancelClick:!0})}),C(W(U),"changeItem",function(oe){return function(Z){(!(0,l.isKeyboardEvent)(Z)||Z.key==="Enter")&&U.moveTo(oe)}}),C(W(U),"selectItem",function(oe){U.setState(I({previousItem:U.state.selectedItem},oe),function(){U.setState(U.animationHandler(U.props,U.state))}),U.handleOnChange(oe.selectedItem,n.Children.toArray(U.props.children)[oe.selectedItem])}),C(W(U),"getInitialImage",function(){var oe=U.props.selectedItem,Z=U.itemsRef&&U.itemsRef[oe],pe=Z&&Z.getElementsByTagName("img")||[];return pe[0]}),C(W(U),"getVariableItemHeight",function(oe){var Z=U.itemsRef&&U.itemsRef[oe];if(U.state.hasMount&&Z&&Z.children.length){var pe=Z.children[0].getElementsByTagName("img")||[];if(pe.length>0){var he=pe[0];if(!he.complete){var q=function xe(){U.forceUpdate(),he.removeEventListener("load",xe)};he.addEventListener("load",q)}}var ie=pe[0]||Z.children[0],Se=ie.clientHeight;return Se>0?Se:null}return null});var me={initialized:!1,previousItem:X.selectedItem,selectedItem:X.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:X.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return U.animationHandler=typeof X.animationHandler=="function"&&X.animationHandler||X.animationHandler==="fade"&&u.fadeAnimationHandler||u.slideAnimationHandler,U.state=I(I({},me),U.animationHandler(X,me)),U}return V(O,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(U,me){!U.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!U.autoFocus&&this.props.autoFocus&&this.forceFocus(),me.swiping&&!this.state.swiping&&this.setState(I({},this.props.stopSwipingHandler(this.props,this.state))),(U.selectedItem!==this.props.selectedItem||U.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),U.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var U=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var me=U.getInitialImage();me&&!me.complete?me.addEventListener("load",U.setMountState):U.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var U=this.carouselWrapperRef;this.props.stopOnHover&&U&&(U.addEventListener("mouseenter",this.stopOnHover),U.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var U=this.carouselWrapperRef;this.props.stopOnHover&&U&&(U.removeEventListener("mouseenter",this.stopOnHover),U.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var U=this.getInitialImage();U&&U.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var U;(U=this.carouselWrapperRef)===null||U===void 0||U.focus()}},{key:"renderItems",value:function(U){var me=this;return this.props.children?n.Children.map(this.props.children,function(oe,Z){var pe=Z===me.state.selectedItem,he=Z===me.state.previousItem,q=pe&&me.state.selectedStyle||he&&me.state.prevStyle||me.state.slideStyle||{};me.props.centerMode&&me.props.axis==="horizontal"&&(q=I(I({},q),{},{minWidth:me.props.centerSlidePercentage+"%"})),me.state.swiping&&me.state.swipeMovementStarted&&(q=I(I({},q),{},{pointerEvents:"none"}));var ie={ref:function(xe){return me.setItemsRef(xe,Z)},key:"itemKey"+Z+(U?"clone":""),className:t.default.ITEM(!0,Z===me.state.selectedItem,Z===me.state.previousItem),onClick:me.handleClickItem.bind(me,Z,oe),style:q};return n.default.createElement("li",ie,me.props.renderItem(oe,{isSelected:Z===me.state.selectedItem,isPrevious:Z===me.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var U=this,me=this.props,oe=me.showIndicators,Z=me.labels,pe=me.renderIndicator,he=me.children;return oe?n.default.createElement("ul",{className:"control-dots"},n.Children.map(he,function(q,ie){return pe&&pe(U.changeItem(ie),ie===U.state.selectedItem,ie,Z.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var U=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var me=this.props.swipeable&&n.Children.count(this.props.children)>1,oe=this.props.axis==="horizontal",Z=this.props.showArrows&&n.Children.count(this.props.children)>1,pe=Z&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,he=Z&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,q=this.renderItems(!0),ie=q.shift(),Se=q.pop(),xe={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Me={};if(oe){if(xe.onSwipeLeft=this.onSwipeForward,xe.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Be=this.getVariableItemHeight(this.state.selectedItem);Me.height=Be||"auto"}}else xe.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,xe.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,xe.style=I(I({},xe.style),{},{height:this.state.itemSize}),Me.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,pe,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Me},me?n.default.createElement(e.default,_({tagName:"ul",innerRef:this.setListRef},xe,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&Se,this.renderItems(),this.props.infiniteLoop&&ie):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(He){return U.setListRef(He)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&Se,this.renderItems(),this.props.infiniteLoop&&ie)),this.props.renderArrowNext(this.onClickNext,he,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),O}(n.default.Component);return Md.default=E,C(E,"displayName","Carousel"),C(E,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:l.noop,onClickThumb:l.noop,onChange:l.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(k,O,X){return n.default.createElement("button",{type:"button","aria-label":X,className:t.default.ARROW_PREV(!O),onClick:k})},renderArrowNext:function(k,O,X){return n.default.createElement("button",{type:"button","aria-label":X,className:t.default.ARROW_NEXT(!O),onClick:k})},renderIndicator:function(k,O,X,U){return n.default.createElement("li",{className:t.default.DOT(O),onClick:k,onKeyDown:k,value:X,key:X,role:"button",tabIndex:0,"aria-label":"".concat(U," ").concat(X+1)})},renderItem:function(k){return k},renderThumbs:function(k){var O=n.Children.map(k,function(X){var U=X;if(X.type!=="img"&&(U=n.Children.toArray(X.props.children).find(function(me){return me.type==="img"})),!!U)return U});return O.filter(function(X){return X}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):O},statusFormatter:l.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler}),Md}var NP={},DP;function DG(){return DP||(DP=1),NP}var LP;function LG(){return LP||(LP=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(NG()),t=DG(),r=i(wD());function i(s){return s&&s.__esModule?s:{default:s}}}(ew)),ew}var VG=LG();const MG="/Amazon-Clone-2025/assets/1-DVW8dbf2.jpg",FG="/Amazon-Clone-2025/assets/2-DNTc5oNT.jpg",UG="/Amazon-Clone-2025/assets/3-NpmuadD7.jpg",$G="/Amazon-Clone-2025/assets/4-CZcDcPop.jpg",BG="/Amazon-Clone-2025/assets/5-D_zATL-Y.jpg",zG=[MG,FG,UG,$G,BG],jG="_hero_img_1ri22_1",WG={hero_img:jG};function qG(){return we("div",{children:[F(VG.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:zG.map((n,e)=>F("img",{src:n},e))}),F("div",{className:WG.hero_img})]})}const HG="_footer__container_1uj8f_1",KG="_back_to_top_1uj8f_13",GG="_footer_links_1uj8f_59",QG="_footer_column_1uj8f_77",YG="_footer_bottom_container_1uj8f_133",JG="_footer_logo_1uj8f_145",XG="_language_country_1uj8f_167",ZG="_language_dropdown_1uj8f_181",e7="_country_dropdown_1uj8f_183",t7="_footer_bottom_1uj8f_133",yr={footer__container:HG,back_to_top:KG,footer_links:GG,footer_column:QG,footer_bottom_container:YG,footer_logo:JG,language_country:XG,language_dropdown:ZG,country_dropdown:e7,footer_bottom:t7};function n7(){const n=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})};return we("section",{className:yr.footer__container,children:[F("div",{className:yr.back_to_top,children:F("p",{onClick:n,children:"Back to top"})}),we("div",{className:yr.footer_links,children:[we("div",{className:yr.footer_column,children:[F("h4",{children:"Get to Know Us"}),we("ul",{children:[F("li",{children:F("a",{href:"#",children:"Careers"})}),F("li",{children:F("a",{href:"#",children:"Amazon Newsletter"})}),F("li",{children:F("a",{href:"#",children:"About Amazon"})}),F("li",{children:F("a",{href:"#",children:"Accessibility"})}),F("li",{children:F("a",{href:"#",children:"Sustainability"})}),F("li",{children:F("a",{href:"#",children:"Press Center"})}),F("li",{children:F("a",{href:"#",children:"Investor Relations"})}),F("li",{children:F("a",{href:"#",children:"Amazon Devices"})}),F("li",{children:F("a",{href:"#",children:"Amazon Science"})})]})]}),we("div",{className:yr.footer_column,children:[F("h4",{children:"Make Money with Us"}),we("ul",{children:[F("li",{children:F("a",{href:"#",children:"Sell on Amazon"})}),F("li",{children:F("a",{href:"#",children:"Sell apps on Amazon"})}),F("li",{children:F("a",{href:"#",children:"Supply to Amazon"})}),F("li",{children:F("a",{href:"#",children:"Protect & Build Your Brand"})}),F("li",{children:F("a",{href:"#",children:"Become an Affiliate"})}),F("li",{children:F("a",{href:"#",children:"Become a Delivery Driver"})}),F("li",{children:F("a",{href:"",children:"Start a Package Delivery Business"})}),F("li",{children:F("a",{href:"",children:"Advertise Your Products"})}),F("li",{children:F("a",{href:"",children:"Self-Publish with Us"})}),F("li",{children:F("a",{href:"",children:"Become an Amazon Hub Partner"})}),F("li",{children:F("a",{href:"",children:"See More Ways to Make Money"})})]})]}),we("div",{className:yr.footer_column,children:[F("h4",{children:"Amazon Payment Products"}),we("ul",{children:[F("li",{children:F("a",{href:"",children:"Amazon Visa"})}),F("li",{children:F("a",{href:"",children:"Amazon Store Card"})}),F("li",{children:F("a",{href:"",children:"Amazon Secured Card"})}),F("li",{children:F("a",{href:"#",children:"Amazon Business Card"})}),F("li",{children:F("a",{href:"#",children:"Shop with Points"})}),F("li",{children:F("a",{href:"#",children:"Reload Your Balance"})}),F("li",{children:F("a",{href:"",children:"Gift Cards"})}),F("li",{children:F("a",{href:"#",children:"Amazon Currency Converter"})})]})]}),we("div",{className:yr.footer_column,children:[F("h4",{children:"Let Us Help You"}),we("ul",{children:[F("li",{children:F("a",{href:"#",children:"Amazon and COVID-19"})}),F("li",{children:F("a",{href:"#",children:"Your Account"})}),F("li",{children:F("a",{href:"#",children:"Your Orders"})}),F("li",{children:F("a",{href:"#",children:"Shipping Rates & Policies"})}),F("li",{children:F("a",{href:"",children:"Amazon Prime"})}),F("li",{children:F("a",{href:"#",children:"Returns & Replacements"})}),F("li",{children:F("a",{href:"",children:"Manage Your Content and Devices"})}),F("li",{children:F("a",{href:"",children:"Recalls and Product Safety Alerts"})}),F("li",{children:F("a",{href:"",children:"Registry & Gift List"})}),F("li",{children:F("a",{href:"#",children:"Help"})})]})]})]}),we("div",{className:yr.footer_bottom_container,children:[F("div",{className:yr.footer_logo,children:F("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"Amazon Logo"})}),we("div",{className:yr.language_country,children:[we("div",{className:yr.language_dropdown,children:[F("img",{src:"",alt:""}),F("select",{name:"",id:"",children:F("option",{value:"",children:" English "})})]}),we("div",{className:yr.country_dropdown,children:[F("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1024px-Flag_of_the_United_States.svg.png",alt:""}),F("select",{name:"",id:"",children:F("option",{value:"",children:" United States"})})]})]})]}),we("div",{className:yr.footer_bottom,children:[F("p",{children:"Conditions of Use | Privacy Notice | Your Ads Privacy Choices"}),F("p",{children:" 1996-2025, Amazon.com, Inc. or its affiliates"})]})]})}function r7(){return we(Sc,{children:[F(qG,{}),F(aW,{}),F(bG,{}),F(n7,{})]})}const i7="_login_1kpqy_1",s7="_login_container_1kpqy_23",o7="_login_signInButton_1kpqy_91",a7="_login_registerButton_1kpqy_123",sm={login:i7,login_container:s7,login_signInButton:o7,login_registerButton:a7};function l7(){var T,I;const[n,e]=K.useState(""),[t,r]=K.useState(""),[i,s]=K.useState(""),[l,u]=K.useState({signIn:!1,signUp:!1}),[{user:d},h]=K.useContext(qs),m=bg(),g=Go();console.log(g);const _=async R=>{R.preventDefault(),console.log(R.target.name),R.target.name=="signin"?(u({...l,signIn:!0}),wU(wg,n,t).then(b=>{var V;h({type:jr.SET_USER,user:b.user}),u({...l,signIn:!1}),m(((V=g==null?void 0:g.state)==null?void 0:V.redirect)||"/")}).catch(b=>{s(b.message),u({...l,signIn:!1})})):(u({...l,signUp:!0}),vU(wg,n,t).then(b=>{var V;h({type:jr.SET_USER,user:b.user}),u({...l,signUp:!1}),m(((V=g==null?void 0:g.state)==null?void 0:V.redirect)||"/")}).catch(b=>{s(b.message),u({...l,signUp:!1})}))};return we("section",{className:sm.login,children:[F(hi,{to:"/",children:F("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png",alt:""})}),we("div",{className:sm.login_container,children:[F("h1",{children:"Sign in"}),((T=g==null?void 0:g.state)==null?void 0:T.msg)&&F("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(I=g==null?void 0:g.state)==null?void 0:I.msg}),we("form",{action:"",children:[we("div",{children:[F("label",{htmlFor:"email",children:"Email"}),F("input",{value:n,onChange:R=>e(R.target.value),type:"email",id:"email"})]}),we("div",{children:[F("label",{htmlFor:"password",children:"Password"}),F("input",{value:t,onChange:R=>r(R.target.value),type:"password",id:"password"})]}),F("button",{type:"submit",name:"signin",onClick:_,className:sm.login_signInButton,children:l.signIn?F(mE,{color:"#000",size:15}):"sign In"})]}),F("p",{children:"By signing-in you agree to the Amazon fake clone conditions of use & sale. Please see our privacy notice,our cookies notice and our interest-based Ads notice."}),F("button",{type:"submit",name:"signup",onClick:_,className:sm.login_registerButton,children:l.signUp?F(mE,{color:"#000",size:15}):"Create Your Amazon Account"}),i&&F("small",{style:{paddingTop:"5px",color:"red"},children:i})]})]})}const u7="_payment_header_13xf3_1",c7="_flex_13xf3_19",d7="_payment_card_container_13xf3_47",h7="_payment_price_13xf3_57",f7="_payment_details_13xf3_73",p7="_loading_13xf3_97",Es={payment_header:u7,flex:c7,payment_card_container:d7,payment_price:h7,payment_details:f7,loading:p7};function VP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function MP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(t),!0).forEach(function(r){ID(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VP(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Mm(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mm=function(e){return typeof e}:Mm=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(n)}function ID(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TD(n,e){return m7(n)||g7(n,e)||y7(n,e)||_7()}function m7(n){if(Array.isArray(n))return n}function g7(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,s=!1,l,u;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){s=!0,u=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw u}}return r}}function y7(n,e){if(n){if(typeof n=="string")return FP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return FP(n,e)}}function FP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function _7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _r=function(e,t,r){var i=!!r,s=Ge.useRef(r);Ge.useEffect(function(){s.current=r},[r]),Ge.useEffect(function(){if(!i||!e)return function(){};var l=function(){s.current&&s.current.apply(s,arguments)};return e.on(t,l),function(){e.off(t,l)}},[i,t,e,s])},gE=function(e){var t=Ge.useRef(e);return Ge.useEffect(function(){t.current=e},[e]),t.current},ac=function(e){return e!==null&&Mm(e)==="object"},v7=function(e){return ac(e)&&typeof e.then=="function"},w7=function(e){return ac(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},UP="[object Object]",E7=function n(e,t){if(!ac(e)||!ac(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===UP,l=Object.prototype.toString.call(t)===UP;if(s!==l)return!1;if(!s&&!r)return e===t;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var h={},m=0;m<u.length;m+=1)h[u[m]]=!0;for(var g=0;g<d.length;g+=1)h[d[g]]=!0;var _=Object.keys(h);if(_.length!==u.length)return!1;var T=e,I=t,R=function(V){return n(T[V],I[V])};return _.every(R)},SD=function(e,t,r){return ac(e)?Object.keys(e).reduce(function(i,s){var l=!ac(t)||!E7(e[s],t[s]);return r.includes(s)?(l&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):l?MP(MP({},i||{}),{},ID({},s,e[s])):i},null):null},RD="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",$P=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:RD;if(e===null||w7(e))return e;throw new Error(t)},I7=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:RD;if(v7(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return $P(i,t)})};var r=$P(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},T7=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.3.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.3.0",url:"https://stripe.com/docs/stripe-js/react"}))},$y=Ge.createContext(null);$y.displayName="ElementsContext";var AD=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},bD=function(e){var t=e.stripe,r=e.options,i=e.children,s=Ge.useMemo(function(){return I7(t)},[t]),l=Ge.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),u=TD(l,2),d=u[0],h=u[1];Ge.useEffect(function(){var _=!0,T=function(R){h(function(b){return b.stripe?b:{stripe:R,elements:R.elements(r)}})};return s.tag==="async"&&!d.stripe?s.stripePromise.then(function(I){I&&_&&T(I)}):s.tag==="sync"&&!d.stripe&&T(s.stripe),function(){_=!1}},[s,d,r]);var m=gE(t);Ge.useEffect(function(){m!==null&&m!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,t]);var g=gE(r);return Ge.useEffect(function(){if(d.elements){var _=SD(r,g,["clientSecret","fonts"]);_&&d.elements.update(_)}},[r,g,d.elements]),Ge.useEffect(function(){T7(d.stripe)},[d.stripe]),Ge.createElement($y.Provider,{value:d},i)};bD.propTypes={stripe:xt.any,options:xt.object};var S7=function(e){var t=Ge.useContext($y);return AD(t,e)},R7=function(){var e=S7("calls useElements()"),t=e.elements;return t};xt.func.isRequired;var PD=Ge.createContext(null);PD.displayName="CheckoutSdkContext";var A7=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},b7=Ge.createContext(null);b7.displayName="CheckoutContext";xt.any,xt.shape({clientSecret:xt.string.isRequired,elementsOptions:xt.object}).isRequired;var yE=function(e){var t=Ge.useContext(PD),r=Ge.useContext($y);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?A7(t,e):AD(r,e)},P7=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Zt=function(e,t){var r="".concat(P7(e),"Element"),i=function(d){var h=d.id,m=d.className,g=d.options,_=g===void 0?{}:g,T=d.onBlur,I=d.onFocus,R=d.onReady,b=d.onChange,V=d.onEscape,L=d.onClick,M=d.onLoadError,z=d.onLoaderStart,B=d.onNetworksChange,W=d.onConfirm,D=d.onCancel,A=d.onShippingAddressChange,C=d.onShippingRateChange,E=yE("mounts <".concat(r,">")),x="elements"in E?E.elements:null,k="checkoutSdk"in E?E.checkoutSdk:null,O=Ge.useState(null),X=TD(O,2),U=X[0],me=X[1],oe=Ge.useRef(null),Z=Ge.useRef(null);_r(U,"blur",T),_r(U,"focus",I),_r(U,"escape",V),_r(U,"click",L),_r(U,"loaderror",M),_r(U,"loaderstart",z),_r(U,"networkschange",B),_r(U,"confirm",W),_r(U,"cancel",D),_r(U,"shippingaddresschange",A),_r(U,"shippingratechange",C),_r(U,"change",b);var pe;R&&(e==="expressCheckout"?pe=R:pe=function(){R(U)}),_r(U,"ready",pe),Ge.useLayoutEffect(function(){if(oe.current===null&&Z.current!==null&&(x||k)){var q=null;k?q=k.createElement(e,_):x&&(q=x.create(e,_)),oe.current=q,me(q),q&&q.mount(Z.current)}},[x,k,_]);var he=gE(_);return Ge.useEffect(function(){if(oe.current){var q=SD(_,he,["paymentRequest"]);q&&"update"in oe.current&&oe.current.update(q)}},[_,he]),Ge.useLayoutEffect(function(){return function(){if(oe.current&&typeof oe.current.destroy=="function")try{oe.current.destroy(),oe.current=null}catch{}}},[]),Ge.createElement("div",{id:h,className:m,ref:Z})},s=function(d){yE("mounts <".concat(r,">"));var h=d.id,m=d.className;return Ge.createElement("div",{id:h,className:m})},l=t?s:i;return l.propTypes={id:xt.string,className:xt.string,onChange:xt.func,onBlur:xt.func,onFocus:xt.func,onReady:xt.func,onEscape:xt.func,onClick:xt.func,onLoadError:xt.func,onLoaderStart:xt.func,onNetworksChange:xt.func,onConfirm:xt.func,onCancel:xt.func,onShippingAddressChange:xt.func,onShippingRateChange:xt.func,options:xt.object},l.displayName=r,l.__elementType=e,l},en=typeof window>"u",C7=Ge.createContext(null);C7.displayName="EmbeddedCheckoutProviderContext";var k7=function(){var e=yE("calls useStripe()"),t=e.stripe;return t};Zt("auBankAccount",en);var BP=Zt("card",en);Zt("cardNumber",en);Zt("cardExpiry",en);Zt("cardCvc",en);Zt("fpxBank",en);Zt("iban",en);Zt("idealBank",en);Zt("p24Bank",en);Zt("epsBank",en);Zt("payment",en);Zt("expressCheckout",en);Zt("currencySelector",en);Zt("paymentRequestButton",en);Zt("linkAuthentication",en);Zt("address",en);Zt("shippingAddress",en);Zt("paymentMethodMessaging",en);Zt("affirmMessage",en);Zt("afterpayClearpayMessage",en);const x7=Pt.create({baseURL:"http://127.0.0.1:5001/e-clone-2025/us-central1/api",baseURL:"https://amazon-api-deploy-cde1.onrender.com"});function O7(){const[{user:n,basket:e},t]=K.useContext(qs),r=e==null?void 0:e.reduce((I,R)=>R.amount+I,0),i=e.reduce((I,R)=>R.price*R.amount+I,0),[s,l]=K.useState(null),[u,d]=K.useState(!1),h=k7(),m=R7(),g=bg(),_=I=>{var R,b;(R=I.error)!=null&&R.message?l((b=I.error)==null?void 0:b.message):l("")},T=async I=>{var R;I.preventDefault();try{d(!0);const V=(R=(await x7({method:"POST",url:`/payment/create?total=${i*100}`})).data)==null?void 0:R.clientSecret,{paymentIntent:L}=await h.confirmCardPayment(V,{payment_method:{card:m.getElement(BP)}});await lN.collection("users").doc(n.uid).collection("orders").doc(L.id).set({basket:e,amount:L.amount,created:L.created}),t({type:jr.EMPTY_BASKET}),d(!1),g("/orders",{state:{msg:"you have placed new order"}})}catch{d(!1)}};return we(Sc,{children:[we("div",{className:Es.payment_header,children:["Checkout ",r," items"]}),we("section",{className:Es.Payment,children:[we("div",{className:Es.flex,children:[F("h3",{children:"Delivery Address"}),we("div",{children:[F("div",{children:n&&n.email?n.email:"No email available"}),F("div",{children:"123 React Lane"}),F("div",{children:"Chicago, IL"})]})]}),F("hr",{}),we("div",{className:Es.flex,children:[F("h3",{children:"Review items and delivery"}),F("div",{children:e==null?void 0:e.map((I,R)=>F(Pc,{product:I,flex:!0},R))})]}),F("hr",{}),we("div",{className:Es.flex,children:[F("h3",{children:"Payment methods"}),F("div",{className:Es.payment_card_container,children:F("div",{className:Es.payment_details,children:we("form",{onSubmit:T,children:[s&&F("small",{style:{color:"red"},children:s}),F(BP,{onChange:_}),we("div",{className:Es.payment_price,children:[F("div",{children:we("span",{style:{display:"flex",gap:"10px"},children:[F("p",{children:" Total Order | "})," ",F(OI,{amount:i})]})}),F("button",{type:"submit",children:u?we("div",{className:Es.loading,children:[F(mE,{color:"gray",size:12}),F("p",{children:"Please wait ..."})]}):" Pay Now"})]})]})})})]})]})]})}const N7="_container_139a4_1",D7="_orders_container_139a4_9",zP={container:N7,orders_container:D7};function L7(){const[{user:n},e]=K.useContext(qs),[t,r]=K.useState([]);return K.useEffect(()=>{n?lN.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{console.log(i),r(i.docs.map(s=>({id:s.id,data:s.data()})))}):r([])},[]),F(Sc,{children:F("section",{className:zP.container,children:we("div",{className:zP.orders_container,children:[F("h2",{children:"Your Orders"}),(t==null?void 0:t.length)==0&&F("div",{style:{padding:"20px"},children:"You don't have orders yet."}),F("div",{children:t==null?void 0:t.map((i,s)=>{var l,u;return we("div",{children:[F("hr",{}),we("p",{children:["Order ID: ",i==null?void 0:i.id]}),(u=(l=i==null?void 0:i.data)==null?void 0:l.basket)==null?void 0:u.map(d=>F(Pc,{flex:!0,product:d},d.id))]},s)})})]})})})}const V7="_container_lufh1_1",M7="_cart_product_lufh1_19",F7="_btn_container_lufh1_27",U7="_btn_lufh1_27",$7="_subtotal_lufh1_61",B7="_cart_container_lufh1_67",xa={container:V7,cart_product:M7,btn_container:F7,btn:U7,subtotal:$7,cart_container:B7};function z7(n){return lc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function j7(n){return lc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function W7(){const[{basket:n,user:e},t]=K.useContext(qs),r=n.reduce((l,u)=>u.price*u.amount+l,0),i=l=>{t({type:jr.ADD_TO_BASKET,item:l})},s=l=>{t({type:jr.REMOVE_FROM_BASKET,id:l})};return F(Sc,{children:we("section",{className:xa.container,children:[we("div",{className:xa.cart_container,children:[F("h2",{children:"Hello"}),F("h3",{children:"Your shopping basket"}),F("hr",{}),(n==null?void 0:n.length)==0?F("p",{children:"Opps! No item in your cart"}):n==null?void 0:n.map((l,u)=>we("section",{className:xa.cart_product,children:[F(Pc,{product:l,renderDesc:!0,renderAdd:!1,flex:!0},u),we("div",{className:xa.btn_container,children:[F("button",{className:xa.btn,onClick:()=>i(l),children:F(j7,{size:20})}),F("span",{children:l.amount}),F("button",{className:xa.btn,onClick:()=>s(l.id),children:F(z7,{size:20})})]})]},l.id))]}),(n==null?void 0:n.length)!==0&&we("div",{className:xa.subtotal,children:[we("div",{children:[we("p",{children:["Subtotal (",n==null?void 0:n.length,"items)"]}),F(OI,{amount:r})]}),we("span",{children:[F("input",{type:"checkbox"}),F("small",{children:"This order contains a gift"})]}),F(hi,{to:"/payments",children:"Continue to checkout"})]})]})})}const CD="https://fakestoreapi.com",q7="_results_container_h43yk_1",H7="_products_container_h43yk_11",jP={results_container:q7,products_container:H7};function K7(){const[n,e]=K.useState([]),{categoryName:t}=rC(),[r,i]=K.useState(!1);return K.useEffect(()=>{Pt.get(`${CD}/products/category/${t}`).then(s=>{e(s.data),console.log(s.data),i(!1)}).catch(s=>{console.log(s),i(!1)})},[]),console.log(t),F(Sc,{children:we("section",{className:jP.results_container,children:[F("h1",{style:{padding:"30PX"},children:"Results"}),we("p",{style:{padding:"30px"},children:["Category/",t]}),F("hr",{}),r?F(NI,{}):F("div",{className:jP.products_container,children:n==null?void 0:n.map(s=>F(Pc,{product:s,renderDesc:!1,renderAdd:!0},s.id))})]})})}function G7(){const{productId:n}=rC(),[e,t]=K.useState({}),[r,i]=K.useState(!1);return K.useEffect(()=>{i(!0),Pt.get(`${CD}/products/${n}`).then(s=>{t(s.data),i(!1)}).catch(s=>{console.log(s),i(!1)})},[]),F(Sc,{children:r?F(NI,{}):F(Pc,{product:e,flex:!0,renderDesc:!0,renderAdd:!0})})}var Q7="v3",Y7=function(e){return e===3?"v3":e},kD="https://js.stripe.com",J7="".concat(kD,"/v3"),X7=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Z7=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var eQ=function(e){return X7.test(e)||Z7.test(e)},tQ=function(){for(var e=document.querySelectorAll('script[src^="'.concat(kD,'"]')),t=0;t<e.length;t++){var r=e[t];if(eQ(r.src))return r}return null},WP=function(e){var t="",r=document.createElement("script");r.src="".concat(J7).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},nQ=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.10.0",startTime:t})},Wd=null,om=null,am=null,rQ=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},iQ=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},sQ=function(e){return Wd!==null?Wd:(Wd=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=tQ();if(!(i&&e)){if(!i)i=WP(e);else if(i&&am!==null&&om!==null){var s;i.removeEventListener("load",am),i.removeEventListener("error",om),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=WP(e)}}am=iQ(t,r),om=rQ(r),i.addEventListener("load",am),i.addEventListener("error",om)}catch(l){r(l);return}}),Wd.catch(function(t){return Wd=null,Promise.reject(t)}))},oQ=function(e,t,r){if(e===null)return null;var i=t[0],s=i.match(/^pk_test/),l=Y7(e.version),u=Q7;s&&l!==u&&console.warn("Stripe.js@".concat(l," was loaded on the page, but @stripe/stripe-js@").concat("5.10.0"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=e.apply(void 0,t);return nQ(d,r),d},qd,xD=!1,OD=function(){return qd||(qd=sQ(null).catch(function(e){return qd=null,Promise.reject(e)}),qd)};Promise.resolve().then(function(){return OD()}).catch(function(n){xD||console.warn(n)});var aQ=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];xD=!0;var i=Date.now();return OD().then(function(s){return oQ(s,t,i)})};const qP=({children:n,msg:e,redirect:t})=>{const r=bg(),[{user:i},s]=K.useContext(qs);return K.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[]),n},lQ=aQ("pk_test_51QzUcrER6OjDFN5RJOnT6fVLYGVnrKPNQ2Dwfc5EJkHgZ7lqPNXw1HNdkRtPsrUIVWWE0IqOjaDJC6rU371C8bGE00SWwIyMuu");function uQ(){return F(AM,{basename:"/Amazon-Clone-2025/",children:we(nM,{children:[F(To,{path:"/",element:F(r7,{})}),F(To,{path:"/auth",element:F(l7,{})}),F(To,{path:"/payments",element:F(qP,{msg:"you must log in to pay",redirect:"/payments",children:F(bD,{stripe:lQ,children:F(O7,{})})})}),F(To,{path:"/orders",element:F(qP,{msg:"you must login to access your orders",redirect:"/orders",children:F(L7,{})})}),F(To,{path:"category/:categoryName",element:F(K7,{})}),F(To,{path:"products/:productId",element:F(G7,{})}),F(To,{path:"/cart",element:F(W7,{})})]})})}function cQ(){const[{user:n},e]=K.useContext(qs);return K.useEffect(()=>{wg.onAuthStateChanged(t=>{e(t?{type:jr.SET_USER,user:t}:{type:jr.SET_USER,user:null})})},[]),F($m,{children:F(uQ,{})})}const dQ={basket:[],user:null},hQ=(n,e)=>{switch(e.type){case jr.ADD_TO_BASKET:if(n.basket.find(s=>s.id===e.item.id)){const s=n.basket.map(l=>l.id===e.item.id?{...l,amount:l.amount+1}:l);return{...n,basket:s}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case jr.REMOVE_FROM_BASKET:const r=n.basket.findIndex(s=>s.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case jr.EMPTY_BASKET:return{...n,basket:[]};case jr.SET_USER:return{...n,user:e.user};default:return n}};jL.createRoot(document.getElementById("root")).render(F(K.StrictMode,{children:F(tW,{reducer:hQ,initialState:dQ,children:F(cQ,{})})}));
