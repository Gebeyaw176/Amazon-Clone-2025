function LL(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function yE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hv={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S;function VL(){if($S)return ze;$S=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function _(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,R={};function P(W,ie,Te){this.props=W,this.context=ie,this.refs=R,this.updater=Te||T}P.prototype.isReactComponent={},P.prototype.setState=function(W,ie){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ie,"setState")},P.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function V(){}V.prototype=P.prototype;function L(W,ie,Te){this.props=W,this.context=ie,this.refs=R,this.updater=Te||T}var M=L.prototype=new V;M.constructor=L,I(M,P.prototype),M.isPureReactComponent=!0;var B=Array.isArray,$=Object.prototype.hasOwnProperty,j={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(W,ie,Te){var xe,Me={},Be=null,Ye=null;if(ie!=null)for(xe in ie.ref!==void 0&&(Ye=ie.ref),ie.key!==void 0&&(Be=""+ie.key),ie)$.call(ie,xe)&&!D.hasOwnProperty(xe)&&(Me[xe]=ie[xe]);var He=arguments.length-2;if(He===1)Me.children=Te;else if(1<He){for(var it=Array(He),wt=0;wt<He;wt++)it[wt]=arguments[wt+2];Me.children=it}if(W&&W.defaultProps)for(xe in He=W.defaultProps,He)Me[xe]===void 0&&(Me[xe]=He[xe]);return{$$typeof:n,type:W,key:Be,ref:Ye,props:Me,_owner:j.current}}function C(W,ie){return{$$typeof:n,type:W.type,key:ie,ref:W.ref,props:W.props,_owner:W._owner}}function E(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function x(W){var ie={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Te){return ie[Te]})}var k=/\/+/g;function O(W,ie){return typeof W=="object"&&W!==null&&W.key!=null?x(""+W.key):ie.toString(36)}function X(W,ie,Te,xe,Me){var Be=typeof W;(Be==="undefined"||Be==="boolean")&&(W=null);var Ye=!1;if(W===null)Ye=!0;else switch(Be){case"string":case"number":Ye=!0;break;case"object":switch(W.$$typeof){case n:case e:Ye=!0}}if(Ye)return Ye=W,Me=Me(Ye),W=xe===""?"."+O(Ye,0):xe,B(Me)?(Te="",W!=null&&(Te=W.replace(k,"$&/")+"/"),X(Me,ie,Te,"",function(wt){return wt})):Me!=null&&(E(Me)&&(Me=C(Me,Te+(!Me.key||Ye&&Ye.key===Me.key?"":(""+Me.key).replace(k,"$&/")+"/")+W)),ie.push(Me)),1;if(Ye=0,xe=xe===""?".":xe+":",B(W))for(var He=0;He<W.length;He++){Be=W[He];var it=xe+O(Be,He);Ye+=X(Be,ie,Te,it,Me)}else if(it=_(W),typeof it=="function")for(W=it.call(W),He=0;!(Be=W.next()).done;)Be=Be.value,it=xe+O(Be,He++),Ye+=X(Be,ie,Te,it,Me);else if(Be==="object")throw ie=String(W),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return Ye}function F(W,ie,Te){if(W==null)return W;var xe=[],Me=0;return X(W,xe,"","",function(Be){return ie.call(Te,Be,Me++)}),xe}function me(W){if(W._status===-1){var ie=W._result;ie=ie(),ie.then(function(Te){(W._status===0||W._status===-1)&&(W._status=1,W._result=Te)},function(Te){(W._status===0||W._status===-1)&&(W._status=2,W._result=Te)}),W._status===-1&&(W._status=0,W._result=ie)}if(W._status===1)return W._result.default;throw W._result}var oe={current:null},Z={transition:null},pe={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:Z,ReactCurrentOwner:j};function he(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:F,forEach:function(W,ie,Te){F(W,function(){ie.apply(this,arguments)},Te)},count:function(W){var ie=0;return F(W,function(){ie++}),ie},toArray:function(W){return F(W,function(ie){return ie})||[]},only:function(W){if(!E(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},ze.Component=P,ze.Fragment=t,ze.Profiler=i,ze.PureComponent=L,ze.StrictMode=r,ze.Suspense=d,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,ze.act=he,ze.cloneElement=function(W,ie,Te){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var xe=I({},W.props),Me=W.key,Be=W.ref,Ye=W._owner;if(ie!=null){if(ie.ref!==void 0&&(Be=ie.ref,Ye=j.current),ie.key!==void 0&&(Me=""+ie.key),W.type&&W.type.defaultProps)var He=W.type.defaultProps;for(it in ie)$.call(ie,it)&&!D.hasOwnProperty(it)&&(xe[it]=ie[it]===void 0&&He!==void 0?He[it]:ie[it])}var it=arguments.length-2;if(it===1)xe.children=Te;else if(1<it){He=Array(it);for(var wt=0;wt<it;wt++)He[wt]=arguments[wt+2];xe.children=He}return{$$typeof:n,type:W.type,key:Me,ref:Be,props:xe,_owner:Ye}},ze.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},ze.createElement=A,ze.createFactory=function(W){var ie=A.bind(null,W);return ie.type=W,ie},ze.createRef=function(){return{current:null}},ze.forwardRef=function(W){return{$$typeof:u,render:W}},ze.isValidElement=E,ze.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:me}},ze.memo=function(W,ie){return{$$typeof:h,type:W,compare:ie===void 0?null:ie}},ze.startTransition=function(W){var ie=Z.transition;Z.transition={};try{W()}finally{Z.transition=ie}},ze.unstable_act=he,ze.useCallback=function(W,ie){return oe.current.useCallback(W,ie)},ze.useContext=function(W){return oe.current.useContext(W)},ze.useDebugValue=function(){},ze.useDeferredValue=function(W){return oe.current.useDeferredValue(W)},ze.useEffect=function(W,ie){return oe.current.useEffect(W,ie)},ze.useId=function(){return oe.current.useId()},ze.useImperativeHandle=function(W,ie,Te){return oe.current.useImperativeHandle(W,ie,Te)},ze.useInsertionEffect=function(W,ie){return oe.current.useInsertionEffect(W,ie)},ze.useLayoutEffect=function(W,ie){return oe.current.useLayoutEffect(W,ie)},ze.useMemo=function(W,ie){return oe.current.useMemo(W,ie)},ze.useReducer=function(W,ie,Te){return oe.current.useReducer(W,ie,Te)},ze.useRef=function(W){return oe.current.useRef(W)},ze.useState=function(W){return oe.current.useState(W)},ze.useSyncExternalStore=function(W,ie,Te){return oe.current.useSyncExternalStore(W,ie,Te)},ze.useTransition=function(){return oe.current.useTransition()},ze.version="18.3.1",ze}var BS;function Ho(){return BS||(BS=1,hv.exports=VL()),hv.exports}var H=Ho();const Ge=yE(H),tw=LL({__proto__:null,default:Ge},[H]);var zp={},fv={exports:{}},tr={},pv={exports:{}},mv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zS;function ML(){return zS||(zS=1,function(n){function e(Z,pe){var he=Z.length;Z.push(pe);e:for(;0<he;){var W=he-1>>>1,ie=Z[W];if(0<i(ie,pe))Z[W]=pe,Z[he]=ie,he=W;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var pe=Z[0],he=Z.pop();if(he!==pe){Z[0]=he;e:for(var W=0,ie=Z.length,Te=ie>>>1;W<Te;){var xe=2*(W+1)-1,Me=Z[xe],Be=xe+1,Ye=Z[Be];if(0>i(Me,he))Be<ie&&0>i(Ye,Me)?(Z[W]=Ye,Z[Be]=he,W=Be):(Z[W]=Me,Z[xe]=he,W=xe);else if(Be<ie&&0>i(Ye,he))Z[W]=Ye,Z[Be]=he,W=Be;else break e}}return pe}function i(Z,pe){var he=Z.sortIndex-pe.sortIndex;return he!==0?he:Z.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,g=null,_=3,T=!1,I=!1,R=!1,P=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Z){for(var pe=t(h);pe!==null;){if(pe.callback===null)r(h);else if(pe.startTime<=Z)r(h),pe.sortIndex=pe.expirationTime,e(d,pe);else break;pe=t(h)}}function B(Z){if(R=!1,M(Z),!I)if(t(d)!==null)I=!0,me($);else{var pe=t(h);pe!==null&&oe(B,pe.startTime-Z)}}function $(Z,pe){I=!1,R&&(R=!1,V(A),A=-1),T=!0;var he=_;try{for(M(pe),g=t(d);g!==null&&(!(g.expirationTime>pe)||Z&&!x());){var W=g.callback;if(typeof W=="function"){g.callback=null,_=g.priorityLevel;var ie=W(g.expirationTime<=pe);pe=n.unstable_now(),typeof ie=="function"?g.callback=ie:g===t(d)&&r(d),M(pe)}else r(d);g=t(d)}if(g!==null)var Te=!0;else{var xe=t(h);xe!==null&&oe(B,xe.startTime-pe),Te=!1}return Te}finally{g=null,_=he,T=!1}}var j=!1,D=null,A=-1,C=5,E=-1;function x(){return!(n.unstable_now()-E<C)}function k(){if(D!==null){var Z=n.unstable_now();E=Z;var pe=!0;try{pe=D(!0,Z)}finally{pe?O():(j=!1,D=null)}}else j=!1}var O;if(typeof L=="function")O=function(){L(k)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,F=X.port2;X.port1.onmessage=k,O=function(){F.postMessage(null)}}else O=function(){P(k,0)};function me(Z){D=Z,j||(j=!0,O())}function oe(Z,pe){A=P(function(){Z(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_continueExecution=function(){I||T||(I=!0,me($))},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var pe=3;break;default:pe=_}var he=_;_=pe;try{return Z()}finally{_=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Z,pe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var he=_;_=Z;try{return pe()}finally{_=he}},n.unstable_scheduleCallback=function(Z,pe,he){var W=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?W+he:W):he=W,Z){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=he+ie,Z={id:m++,callback:pe,priorityLevel:Z,startTime:he,expirationTime:ie,sortIndex:-1},he>W?(Z.sortIndex=he,e(h,Z),t(d)===null&&Z===t(h)&&(R?(V(A),A=-1):R=!0,oe(B,he-W))):(Z.sortIndex=ie,e(d,Z),I||T||(I=!0,me($))),Z},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(Z){var pe=_;return function(){var he=_;_=pe;try{return Z.apply(this,arguments)}finally{_=he}}}}(mv)),mv}var jS;function FL(){return jS||(jS=1,pv.exports=ML()),pv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS;function UL(){if(WS)return tr;WS=1;var n=Ho(),e=FL();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function _(o){return d.call(g,o)?!0:d.call(m,o)?!1:h.test(o)?g[o]=!0:(m[o]=!0,!1)}function T(o,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function I(o,a,c,p){if(a===null||typeof a>"u"||T(o,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(o,a,c,p,y,w,b){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=w,this.removeEmptyString=b}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){P[o]=new R(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];P[a]=new R(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){P[o]=new R(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){P[o]=new R(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){P[o]=new R(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){P[o]=new R(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){P[o]=new R(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){P[o]=new R(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){P[o]=new R(o,5,!1,o.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(V,L);P[a]=new R(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(V,L);P[a]=new R(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(V,L);P[a]=new R(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){P[o]=new R(o,1,!1,o.toLowerCase(),null,!1,!1)}),P.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){P[o]=new R(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,a,c,p){var y=P.hasOwnProperty(a)?P[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,c,y,p)&&(c=null),p||y===null?_(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):y.mustUseProperty?o[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,p=y.attributeNamespace,c===null?o.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?o.setAttributeNS(p,a,c):o.setAttribute(a,c))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),j=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),Z=Symbol.iterator;function pe(o){return o===null||typeof o!="object"?null:(o=Z&&o[Z]||o["@@iterator"],typeof o=="function"?o:null)}var he=Object.assign,W;function ie(o){if(W===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+o}var Te=!1;function xe(o,a){if(!o||Te)return"";Te=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var p=ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(ee){p=ee}o.call(a.prototype)}else{try{throw Error()}catch(ee){p=ee}o()}}catch(ee){if(ee&&p&&typeof ee.stack=="string"){for(var y=ee.stack.split(`
`),w=p.stack.split(`
`),b=y.length-1,U=w.length-1;1<=b&&0<=U&&y[b]!==w[U];)U--;for(;1<=b&&0<=U;b--,U--)if(y[b]!==w[U]){if(b!==1||U!==1)do if(b--,U--,0>U||y[b]!==w[U]){var z=`
`+y[b].replace(" at new "," at ");return o.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",o.displayName)),z}while(1<=b&&0<=U);break}}}finally{Te=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?ie(o):""}function Me(o){switch(o.tag){case 5:return ie(o.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return o=xe(o.type,!1),o;case 11:return o=xe(o.type.render,!1),o;case 1:return o=xe(o.type,!0),o;default:return""}}function Be(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case D:return"Fragment";case j:return"Portal";case C:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case X:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case x:return(o.displayName||"Context")+".Consumer";case E:return(o._context.displayName||"Context")+".Provider";case k:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case F:return a=o.displayName||null,a!==null?a:Be(o.type)||"Memo";case me:a=o._payload,o=o._init;try{return Be(o(a))}catch{}}return null}function Ye(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function He(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function it(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function wt(o){var a=it(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),p=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(b){p=""+b,w.call(this,b)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(b){p=""+b},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function cn(o){o._valueTracker||(o._valueTracker=wt(o))}function st(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return o&&(p=it(o)?o.checked?"true":"false":o.value),o=p,o!==c?(a.setValue(o),!0):!1}function gt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function tn(o,a){var c=a.checked;return he({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function Kr(o,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=He(a.value!=null?a.value:c),o._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function br(o,a){a=a.checked,a!=null&&M(o,"checked",a,!1)}function Cr(o,a){br(o,a);var c=He(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Kn(o,a.type,c):a.hasOwnProperty("defaultValue")&&Kn(o,a.type,He(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Hn(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function Kn(o,a,c){(a!=="number"||gt(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var lr=Array.isArray;function rs(o,a,c,p){if(o=o.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<o.length;c++)y=a.hasOwnProperty("$"+o[c].value),o[c].selected!==y&&(o[c].selected=y),y&&p&&(o[c].defaultSelected=!0)}else{for(c=""+He(c),a=null,y=0;y<o.length;y++){if(o[y].value===c){o[y].selected=!0,p&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function bc(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function pl(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(lr(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:He(c)}}function ml(o,a){var c=He(a.value),p=He(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),p!=null&&(o.defaultValue=""+p)}function Cc(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function nn(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rn(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?nn(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var is,kc=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,y){MSApp.execUnsafeLocalFunction(function(){return o(a,c,p,y)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=is.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function qs(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ra=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(o){ra.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),na[a]=na[o]})});function xc(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||na.hasOwnProperty(o)&&na[o]?(""+a).trim():a+"px"}function Oc(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=xc(c,a[c],p);c==="float"&&(c="cssFloat"),p?o.setProperty(c,y):o[c]=y}}var Nc=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dc(o,a){if(a){if(Nc[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Lc(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ia=null;function gl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yl=null,kr=null,_i=null;function _l(o){if(o=sd(o)){if(typeof yl!="function")throw Error(t(280));var a=o.stateNode;a&&(a=rp(a),yl(o.stateNode,o.type,a))}}function vi(o){kr?_i?_i.push(o):_i=[o]:kr=o}function Vc(){if(kr){var o=kr,a=_i;if(_i=kr=null,_l(o),a)for(o=0;o<a.length;o++)_l(a[o])}}function sa(o,a){return o(a)}function Mc(){}var ss=!1;function Fc(o,a,c){if(ss)return o(a,c);ss=!0;try{return sa(o,a,c)}finally{ss=!1,(kr!==null||_i!==null)&&(Mc(),Vc())}}function Bt(o,a){var c=o.stateNode;if(c===null)return null;var p=rp(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var vl=!1;if(u)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){vl=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{vl=!1}function oa(o,a,c,p,y,w,b,U,z){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(c,ee)}catch(ce){this.onError(ce)}}var aa=!1,wl=null,Qr=!1,Uc=null,$y={onError:function(o){aa=!0,wl=o}};function El(o,a,c,p,y,w,b,U,z){aa=!1,wl=null,oa.apply($y,arguments)}function bf(o,a,c,p,y,w,b,U,z){if(El.apply(this,arguments),aa){if(aa){var ee=wl;aa=!1,wl=null}else throw Error(t(198));Qr||(Qr=!0,Uc=ee)}}function Yr(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,a.flags&4098&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function la(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Jr(o){if(Yr(o)!==o)throw Error(t(188))}function Cf(o){var a=o.alternate;if(!a){if(a=Yr(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,p=a;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return Jr(y),o;if(w===p)return Jr(y),a;w=w.sibling}throw Error(t(188))}if(c.return!==p.return)c=y,p=w;else{for(var b=!1,U=y.child;U;){if(U===c){b=!0,c=y,p=w;break}if(U===p){b=!0,p=y,c=w;break}U=U.sibling}if(!b){for(U=w.child;U;){if(U===c){b=!0,c=w,p=y;break}if(U===p){b=!0,p=w,c=y;break}U=U.sibling}if(!b)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function $c(o){return o=Cf(o),o!==null?Il(o):null}function Il(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Il(o);if(a!==null)return a;o=o.sibling}return null}var Tl=e.unstable_scheduleCallback,Bc=e.unstable_cancelCallback,kf=e.unstable_shouldYield,By=e.unstable_requestPaint,ft=e.unstable_now,xf=e.unstable_getCurrentPriorityLevel,ua=e.unstable_ImmediatePriority,Hs=e.unstable_UserBlockingPriority,xr=e.unstable_NormalPriority,zc=e.unstable_LowPriority,Of=e.unstable_IdlePriority,ca=null,ur=null;function Nf(o){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(ca,o,void 0,(o.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:Lf,jc=Math.log,Df=Math.LN2;function Lf(o){return o>>>=0,o===0?32:31-(jc(o)/Df|0)|0}var Sl=64,Rl=4194304;function Ks(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function da(o,a){var c=o.pendingLanes;if(c===0)return 0;var p=0,y=o.suspendedLanes,w=o.pingedLanes,b=c&268435455;if(b!==0){var U=b&~y;U!==0?p=Ks(U):(w&=b,w!==0&&(p=Ks(w)))}else b=c&~y,b!==0?p=Ks(b):w!==0&&(p=Ks(w));if(p===0)return 0;if(a!==0&&a!==p&&!(a&y)&&(y=p&-p,w=a&-a,y>=w||y===16&&(w&4194240)!==0))return a;if(p&4&&(p|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=p;0<a;)c=31-Fn(a),y=1<<c,p|=o[c],a&=~y;return p}function zy(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function os(o,a){for(var c=o.suspendedLanes,p=o.pingedLanes,y=o.expirationTimes,w=o.pendingLanes;0<w;){var b=31-Fn(w),U=1<<b,z=y[b];z===-1?(!(U&c)||U&p)&&(y[b]=zy(U,a)):z<=a&&(o.expiredLanes|=U),w&=~U}}function cr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ha(){var o=Sl;return Sl<<=1,!(Sl&4194240)&&(Sl=64),o}function Gs(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function Qs(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-Fn(a),o[a]=c}function ct(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<c;){var y=31-Fn(c),w=1<<y;a[y]=0,p[y]=-1,o[y]=-1,c&=~w}}function Ys(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var p=31-Fn(c),y=1<<p;y&a|o[p]&a&&(o[p]|=a),c&=~y}}var Ke=0;function Js(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Vf,Al,Mf,Ff,Uf,Wc=!1,wi=[],vn=null,Xr=null,Zr=null,Xs=new Map,Or=new Map,Ei=[],jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $f(o,a){switch(o){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Xs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(a.pointerId)}}function Gn(o,a,c,p,y,w){return o===null||o.nativeEvent!==w?(o={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},a!==null&&(a=sd(a),a!==null&&Al(a)),o):(o.eventSystemFlags|=p,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function Wy(o,a,c,p,y){switch(a){case"focusin":return vn=Gn(vn,o,a,c,p,y),!0;case"dragenter":return Xr=Gn(Xr,o,a,c,p,y),!0;case"mouseover":return Zr=Gn(Zr,o,a,c,p,y),!0;case"pointerover":var w=y.pointerId;return Xs.set(w,Gn(Xs.get(w)||null,o,a,c,p,y)),!0;case"gotpointercapture":return w=y.pointerId,Or.set(w,Gn(Or.get(w)||null,o,a,c,p,y)),!0}return!1}function Bf(o){var a=ya(o.target);if(a!==null){var c=Yr(a);if(c!==null){if(a=c.tag,a===13){if(a=la(c),a!==null){o.blockedOn=a,Uf(o.priority,function(){Mf(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function as(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=Pl(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);ia=p,c.target.dispatchEvent(p),ia=null}else return a=sd(c),a!==null&&Al(a),o.blockedOn=c,!1;a.shift()}return!0}function fa(o,a,c){as(o)&&c.delete(a)}function zf(){Wc=!1,vn!==null&&as(vn)&&(vn=null),Xr!==null&&as(Xr)&&(Xr=null),Zr!==null&&as(Zr)&&(Zr=null),Xs.forEach(fa),Or.forEach(fa)}function ei(o,a){o.blockedOn===a&&(o.blockedOn=null,Wc||(Wc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zf)))}function ti(o){function a(y){return ei(y,o)}if(0<wi.length){ei(wi[0],o);for(var c=1;c<wi.length;c++){var p=wi[c];p.blockedOn===o&&(p.blockedOn=null)}}for(vn!==null&&ei(vn,o),Xr!==null&&ei(Xr,o),Zr!==null&&ei(Zr,o),Xs.forEach(a),Or.forEach(a),c=0;c<Ei.length;c++)p=Ei[c],p.blockedOn===o&&(p.blockedOn=null);for(;0<Ei.length&&(c=Ei[0],c.blockedOn===null);)Bf(c),c.blockedOn===null&&Ei.shift()}var ls=B.ReactCurrentBatchConfig,Zs=!0;function Et(o,a,c,p){var y=Ke,w=ls.transition;ls.transition=null;try{Ke=1,qc(o,a,c,p)}finally{Ke=y,ls.transition=w}}function qy(o,a,c,p){var y=Ke,w=ls.transition;ls.transition=null;try{Ke=4,qc(o,a,c,p)}finally{Ke=y,ls.transition=w}}function qc(o,a,c,p){if(Zs){var y=Pl(o,a,c,p);if(y===null)n_(o,a,p,pa,c),$f(o,p);else if(Wy(y,o,a,c,p))p.stopPropagation();else if($f(o,p),a&4&&-1<jy.indexOf(o)){for(;y!==null;){var w=sd(y);if(w!==null&&Vf(w),w=Pl(o,a,c,p),w===null&&n_(o,a,p,pa,c),w===y)break;y=w}y!==null&&p.stopPropagation()}else n_(o,a,p,null,c)}}var pa=null;function Pl(o,a,c,p){if(pa=null,o=gl(p),o=ya(o),o!==null)if(a=Yr(o),a===null)o=null;else if(c=a.tag,c===13){if(o=la(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return pa=o,null}function Hc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xf()){case ua:return 1;case Hs:return 4;case xr:case zc:return 16;case Of:return 536870912;default:return 16}default:return 16}}var dr=null,bl=null,Qn=null;function Kc(){if(Qn)return Qn;var o,a=bl,c=a.length,p,y="value"in dr?dr.value:dr.textContent,w=y.length;for(o=0;o<c&&a[o]===y[o];o++);var b=c-o;for(p=1;p<=b&&a[c-p]===y[w-p];p++);return Qn=y.slice(o,1<p?1-p:void 0)}function Cl(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Ii(){return!0}function Gc(){return!1}function wn(o){function a(c,p,y,w,b){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=b,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(c=o[U],this[U]=c?c(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ii:Gc,this.isPropagationStopped=Gc,this}return he(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),a}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=wn(ni),Ti=he({},ni,{view:0,detail:0}),Hy=wn(Ti),xl,us,eo,ma=he({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Si,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==eo&&(eo&&o.type==="mousemove"?(xl=o.screenX-eo.screenX,us=o.screenY-eo.screenY):us=xl=0,eo=o),xl)},movementY:function(o){return"movementY"in o?o.movementY:us}}),Ol=wn(ma),Qc=he({},ma,{dataTransfer:0}),jf=wn(Qc),Nl=he({},Ti,{relatedTarget:0}),Dl=wn(Nl),Wf=he({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),cs=wn(Wf),qf=he({},ni,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Hf=wn(qf),Kf=he({},ni,{data:0}),Yc=wn(Kf),Ll={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qf(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=Gf[o])?!!a[o]:!1}function Si(){return Qf}var f=he({},Ti,{key:function(o){if(o.key){var a=Ll[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Cl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Un[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Si,charCode:function(o){return o.type==="keypress"?Cl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Cl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),v=wn(f),S=he({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=wn(S),Q=he({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Si}),ne=wn(Q),ye=he({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),ot=wn(ye),sn=he({},ma,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Je=wn(sn),dn=[9,13,27,32],Kt=u&&"CompositionEvent"in window,Nr=null;u&&"documentMode"in document&&(Nr=document.documentMode);var hr=u&&"TextEvent"in window&&!Nr,ga=u&&(!Kt||Nr&&8<Nr&&11>=Nr),Vl=" ",DI=!1;function LI(o,a){switch(o){case"keyup":return dn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VI(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ml=!1;function OD(o,a){switch(o){case"compositionend":return VI(a);case"keypress":return a.which!==32?null:(DI=!0,Vl);case"textInput":return o=a.data,o===Vl&&DI?null:o;default:return null}}function ND(o,a){if(Ml)return o==="compositionend"||!Kt&&LI(o,a)?(o=Kc(),Qn=bl=dr=null,Ml=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ga&&a.locale!=="ko"?null:a.data;default:return null}}var DD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MI(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!DD[o.type]:a==="textarea"}function FI(o,a,c,p){vi(p),a=ep(a,"onChange"),0<a.length&&(c=new kl("onChange","change",null,c,p),o.push({event:c,listeners:a}))}var Jc=null,Xc=null;function LD(o){nT(o,0)}function Yf(o){var a=zl(o);if(st(a))return o}function VD(o,a){if(o==="change")return a}var UI=!1;if(u){var Ky;if(u){var Gy="oninput"in document;if(!Gy){var $I=document.createElement("div");$I.setAttribute("oninput","return;"),Gy=typeof $I.oninput=="function"}Ky=Gy}else Ky=!1;UI=Ky&&(!document.documentMode||9<document.documentMode)}function BI(){Jc&&(Jc.detachEvent("onpropertychange",zI),Xc=Jc=null)}function zI(o){if(o.propertyName==="value"&&Yf(Xc)){var a=[];FI(a,Xc,o,gl(o)),Fc(LD,a)}}function MD(o,a,c){o==="focusin"?(BI(),Jc=a,Xc=c,Jc.attachEvent("onpropertychange",zI)):o==="focusout"&&BI()}function FD(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Yf(Xc)}function UD(o,a){if(o==="click")return Yf(a)}function $D(o,a){if(o==="input"||o==="change")return Yf(a)}function BD(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var ri=typeof Object.is=="function"?Object.is:BD;function Zc(o,a){if(ri(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!d.call(a,y)||!ri(o[y],a[y]))return!1}return!0}function jI(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function WI(o,a){var c=jI(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=a&&p>=a)return{node:c,offset:a-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=jI(c)}}function qI(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?qI(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function HI(){for(var o=window,a=gt();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=gt(o.document)}return a}function Qy(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function zD(o){var a=HI(),c=o.focusedElem,p=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&qI(c.ownerDocument.documentElement,c)){if(p!==null&&Qy(c)){if(a=p.start,o=p.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var y=c.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!o.extend&&w>p&&(y=p,p=w,w=y),y=WI(c,w);var b=WI(c,p);y&&b&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),o.removeAllRanges(),w>p?(o.addRange(a),o.extend(b.node,b.offset)):(a.setEnd(b.node,b.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var jD=u&&"documentMode"in document&&11>=document.documentMode,Fl=null,Yy=null,ed=null,Jy=!1;function KI(o,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Jy||Fl==null||Fl!==gt(p)||(p=Fl,"selectionStart"in p&&Qy(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ed&&Zc(ed,p)||(ed=p,p=ep(Yy,"onSelect"),0<p.length&&(a=new kl("onSelect","select",null,a,c),o.push({event:a,listeners:p}),a.target=Fl)))}function Jf(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var Ul={animationend:Jf("Animation","AnimationEnd"),animationiteration:Jf("Animation","AnimationIteration"),animationstart:Jf("Animation","AnimationStart"),transitionend:Jf("Transition","TransitionEnd")},Xy={},GI={};u&&(GI=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function Xf(o){if(Xy[o])return Xy[o];if(!Ul[o])return o;var a=Ul[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in GI)return Xy[o]=a[c];return o}var QI=Xf("animationend"),YI=Xf("animationiteration"),JI=Xf("animationstart"),XI=Xf("transitionend"),ZI=new Map,eT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(o,a){ZI.set(o,a),s(a,[o])}for(var Zy=0;Zy<eT.length;Zy++){var e_=eT[Zy],WD=e_.toLowerCase(),qD=e_[0].toUpperCase()+e_.slice(1);to(WD,"on"+qD)}to(QI,"onAnimationEnd"),to(YI,"onAnimationIteration"),to(JI,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(XI,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HD=new Set("cancel close invalid load scroll toggle".split(" ").concat(td));function tT(o,a,c){var p=o.type||"unknown-event";o.currentTarget=c,bf(p,a,void 0,o),o.currentTarget=null}function nT(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],y=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var b=p.length-1;0<=b;b--){var U=p[b],z=U.instance,ee=U.currentTarget;if(U=U.listener,z!==w&&y.isPropagationStopped())break e;tT(y,U,ee),w=z}else for(b=0;b<p.length;b++){if(U=p[b],z=U.instance,ee=U.currentTarget,U=U.listener,z!==w&&y.isPropagationStopped())break e;tT(y,U,ee),w=z}}}if(Qr)throw o=Uc,Qr=!1,Uc=null,o}function yt(o,a){var c=a[l_];c===void 0&&(c=a[l_]=new Set);var p=o+"__bubble";c.has(p)||(rT(a,o,2,!1),c.add(p))}function t_(o,a,c){var p=0;a&&(p|=4),rT(c,o,p,a)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function nd(o){if(!o[Zf]){o[Zf]=!0,r.forEach(function(c){c!=="selectionchange"&&(HD.has(c)||t_(c,!1,o),t_(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Zf]||(a[Zf]=!0,t_("selectionchange",!1,a))}}function rT(o,a,c,p){switch(Hc(a)){case 1:var y=Et;break;case 4:y=qy;break;default:y=qc}c=y.bind(null,a,c,o),y=void 0,!vl||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?o.addEventListener(a,c,{capture:!0,passive:y}):o.addEventListener(a,c,!0):y!==void 0?o.addEventListener(a,c,{passive:y}):o.addEventListener(a,c,!1)}function n_(o,a,c,p,y){var w=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var b=p.tag;if(b===3||b===4){var U=p.stateNode.containerInfo;if(U===y||U.nodeType===8&&U.parentNode===y)break;if(b===4)for(b=p.return;b!==null;){var z=b.tag;if((z===3||z===4)&&(z=b.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;b=b.return}for(;U!==null;){if(b=ya(U),b===null)return;if(z=b.tag,z===5||z===6){p=w=b;continue e}U=U.parentNode}}p=p.return}Fc(function(){var ee=w,ce=gl(c),fe=[];e:{var le=ZI.get(o);if(le!==void 0){var we=kl,Se=o;switch(o){case"keypress":if(Cl(c)===0)break e;case"keydown":case"keyup":we=v;break;case"focusin":Se="focus",we=Dl;break;case"focusout":Se="blur",we=Dl;break;case"beforeblur":case"afterblur":we=Dl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=ne;break;case QI:case YI:case JI:we=cs;break;case XI:we=ot;break;case"scroll":we=Hy;break;case"wheel":we=Je;break;case"copy":case"cut":case"paste":we=Hf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=N}var Ae=(a&4)!==0,zt=!Ae&&o==="scroll",Y=Ae?le!==null?le+"Capture":null:le;Ae=[];for(var q=ee,J;q!==null;){J=q;var ge=J.stateNode;if(J.tag===5&&ge!==null&&(J=ge,Y!==null&&(ge=Bt(q,Y),ge!=null&&Ae.push(rd(q,ge,J)))),zt)break;q=q.return}0<Ae.length&&(le=new we(le,Se,null,c,ce),fe.push({event:le,listeners:Ae}))}}if(!(a&7)){e:{if(le=o==="mouseover"||o==="pointerover",we=o==="mouseout"||o==="pointerout",le&&c!==ia&&(Se=c.relatedTarget||c.fromElement)&&(ya(Se)||Se[ds]))break e;if((we||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,we?(Se=c.relatedTarget||c.toElement,we=ee,Se=Se?ya(Se):null,Se!==null&&(zt=Yr(Se),Se!==zt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(we=null,Se=ee),we!==Se)){if(Ae=Ol,ge="onMouseLeave",Y="onMouseEnter",q="mouse",(o==="pointerout"||o==="pointerover")&&(Ae=N,ge="onPointerLeave",Y="onPointerEnter",q="pointer"),zt=we==null?le:zl(we),J=Se==null?le:zl(Se),le=new Ae(ge,q+"leave",we,c,ce),le.target=zt,le.relatedTarget=J,ge=null,ya(ce)===ee&&(Ae=new Ae(Y,q+"enter",Se,c,ce),Ae.target=J,Ae.relatedTarget=zt,ge=Ae),zt=ge,we&&Se)t:{for(Ae=we,Y=Se,q=0,J=Ae;J;J=$l(J))q++;for(J=0,ge=Y;ge;ge=$l(ge))J++;for(;0<q-J;)Ae=$l(Ae),q--;for(;0<J-q;)Y=$l(Y),J--;for(;q--;){if(Ae===Y||Y!==null&&Ae===Y.alternate)break t;Ae=$l(Ae),Y=$l(Y)}Ae=null}else Ae=null;we!==null&&iT(fe,le,we,Ae,!1),Se!==null&&zt!==null&&iT(fe,zt,Se,Ae,!0)}}e:{if(le=ee?zl(ee):window,we=le.nodeName&&le.nodeName.toLowerCase(),we==="select"||we==="input"&&le.type==="file")var Pe=VD;else if(MI(le))if(UI)Pe=$D;else{Pe=FD;var Oe=MD}else(we=le.nodeName)&&we.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Pe=UD);if(Pe&&(Pe=Pe(o,ee))){FI(fe,Pe,c,ce);break e}Oe&&Oe(o,le,ee),o==="focusout"&&(Oe=le._wrapperState)&&Oe.controlled&&le.type==="number"&&Kn(le,"number",le.value)}switch(Oe=ee?zl(ee):window,o){case"focusin":(MI(Oe)||Oe.contentEditable==="true")&&(Fl=Oe,Yy=ee,ed=null);break;case"focusout":ed=Yy=Fl=null;break;case"mousedown":Jy=!0;break;case"contextmenu":case"mouseup":case"dragend":Jy=!1,KI(fe,c,ce);break;case"selectionchange":if(jD)break;case"keydown":case"keyup":KI(fe,c,ce)}var Ne;if(Kt)e:{switch(o){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ml?LI(o,c)&&(Le="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Le="onCompositionStart");Le&&(ga&&c.locale!=="ko"&&(Ml||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ml&&(Ne=Kc()):(dr=ce,bl="value"in dr?dr.value:dr.textContent,Ml=!0)),Oe=ep(ee,Le),0<Oe.length&&(Le=new Yc(Le,o,null,c,ce),fe.push({event:Le,listeners:Oe}),Ne?Le.data=Ne:(Ne=VI(c),Ne!==null&&(Le.data=Ne)))),(Ne=hr?OD(o,c):ND(o,c))&&(ee=ep(ee,"onBeforeInput"),0<ee.length&&(ce=new Yc("onBeforeInput","beforeinput",null,c,ce),fe.push({event:ce,listeners:ee}),ce.data=Ne))}nT(fe,a)})}function rd(o,a,c){return{instance:o,listener:a,currentTarget:c}}function ep(o,a){for(var c=a+"Capture",p=[];o!==null;){var y=o,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=Bt(o,c),w!=null&&p.unshift(rd(o,w,y)),w=Bt(o,a),w!=null&&p.push(rd(o,w,y))),o=o.return}return p}function $l(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function iT(o,a,c,p,y){for(var w=a._reactName,b=[];c!==null&&c!==p;){var U=c,z=U.alternate,ee=U.stateNode;if(z!==null&&z===p)break;U.tag===5&&ee!==null&&(U=ee,y?(z=Bt(c,w),z!=null&&b.unshift(rd(c,z,U))):y||(z=Bt(c,w),z!=null&&b.push(rd(c,z,U)))),c=c.return}b.length!==0&&o.push({event:a,listeners:b})}var KD=/\r\n?/g,GD=/\u0000|\uFFFD/g;function sT(o){return(typeof o=="string"?o:""+o).replace(KD,`
`).replace(GD,"")}function tp(o,a,c){if(a=sT(a),sT(o)!==a&&c)throw Error(t(425))}function np(){}var r_=null,i_=null;function s_(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var o_=typeof setTimeout=="function"?setTimeout:void 0,QD=typeof clearTimeout=="function"?clearTimeout:void 0,oT=typeof Promise=="function"?Promise:void 0,YD=typeof queueMicrotask=="function"?queueMicrotask:typeof oT<"u"?function(o){return oT.resolve(null).then(o).catch(JD)}:o_;function JD(o){setTimeout(function(){throw o})}function a_(o,a){var c=a,p=0;do{var y=c.nextSibling;if(o.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){o.removeChild(y),ti(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);ti(a)}function no(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function aT(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var Bl=Math.random().toString(36).slice(2),Ri="__reactFiber$"+Bl,id="__reactProps$"+Bl,ds="__reactContainer$"+Bl,l_="__reactEvents$"+Bl,XD="__reactListeners$"+Bl,ZD="__reactHandles$"+Bl;function ya(o){var a=o[Ri];if(a)return a;for(var c=o.parentNode;c;){if(a=c[ds]||c[Ri]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=aT(o);o!==null;){if(c=o[Ri])return c;o=aT(o)}return a}o=c,c=o.parentNode}return null}function sd(o){return o=o[Ri]||o[ds],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function zl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function rp(o){return o[id]||null}var u_=[],jl=-1;function ro(o){return{current:o}}function _t(o){0>jl||(o.current=u_[jl],u_[jl]=null,jl--)}function pt(o,a){jl++,u_[jl]=o.current,o.current=a}var io={},bn=ro(io),Yn=ro(!1),_a=io;function Wl(o,a){var c=o.type.contextTypes;if(!c)return io;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=a[w];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=y),y}function Jn(o){return o=o.childContextTypes,o!=null}function ip(){_t(Yn),_t(bn)}function lT(o,a,c){if(bn.current!==io)throw Error(t(168));pt(bn,a),pt(Yn,c)}function uT(o,a,c){var p=o.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(t(108,Ye(o)||"Unknown",y));return he({},c,p)}function sp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||io,_a=bn.current,pt(bn,o),pt(Yn,Yn.current),!0}function cT(o,a,c){var p=o.stateNode;if(!p)throw Error(t(169));c?(o=uT(o,a,_a),p.__reactInternalMemoizedMergedChildContext=o,_t(Yn),_t(bn),pt(bn,o)):_t(Yn),pt(Yn,c)}var hs=null,op=!1,c_=!1;function dT(o){hs===null?hs=[o]:hs.push(o)}function eL(o){op=!0,dT(o)}function so(){if(!c_&&hs!==null){c_=!0;var o=0,a=Ke;try{var c=hs;for(Ke=1;o<c.length;o++){var p=c[o];do p=p(!0);while(p!==null)}hs=null,op=!1}catch(y){throw hs!==null&&(hs=hs.slice(o+1)),Tl(ua,so),y}finally{Ke=a,c_=!1}}return null}var ql=[],Hl=0,ap=null,lp=0,Dr=[],Lr=0,va=null,fs=1,ps="";function wa(o,a){ql[Hl++]=lp,ql[Hl++]=ap,ap=o,lp=a}function hT(o,a,c){Dr[Lr++]=fs,Dr[Lr++]=ps,Dr[Lr++]=va,va=o;var p=fs;o=ps;var y=32-Fn(p)-1;p&=~(1<<y),c+=1;var w=32-Fn(a)+y;if(30<w){var b=y-y%5;w=(p&(1<<b)-1).toString(32),p>>=b,y-=b,fs=1<<32-Fn(a)+y|c<<y|p,ps=w+o}else fs=1<<w|c<<y|p,ps=o}function d_(o){o.return!==null&&(wa(o,1),hT(o,1,0))}function h_(o){for(;o===ap;)ap=ql[--Hl],ql[Hl]=null,lp=ql[--Hl],ql[Hl]=null;for(;o===va;)va=Dr[--Lr],Dr[Lr]=null,ps=Dr[--Lr],Dr[Lr]=null,fs=Dr[--Lr],Dr[Lr]=null}var fr=null,pr=null,It=!1,ii=null;function fT(o,a){var c=Ur(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function pT(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,fr=o,pr=no(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,fr=o,pr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=va!==null?{id:fs,overflow:ps}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Ur(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,fr=o,pr=null,!0):!1;default:return!1}}function f_(o){return(o.mode&1)!==0&&(o.flags&128)===0}function p_(o){if(It){var a=pr;if(a){var c=a;if(!pT(o,a)){if(f_(o))throw Error(t(418));a=no(c.nextSibling);var p=fr;a&&pT(o,a)?fT(p,c):(o.flags=o.flags&-4097|2,It=!1,fr=o)}}else{if(f_(o))throw Error(t(418));o.flags=o.flags&-4097|2,It=!1,fr=o}}}function mT(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;fr=o}function up(o){if(o!==fr)return!1;if(!It)return mT(o),It=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!s_(o.type,o.memoizedProps)),a&&(a=pr)){if(f_(o))throw gT(),Error(t(418));for(;a;)fT(o,a),a=no(a.nextSibling)}if(mT(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){pr=no(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}pr=null}}else pr=fr?no(o.stateNode.nextSibling):null;return!0}function gT(){for(var o=pr;o;)o=no(o.nextSibling)}function Kl(){pr=fr=null,It=!1}function m_(o){ii===null?ii=[o]:ii.push(o)}var tL=B.ReactCurrentBatchConfig;function od(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,o));var y=p,w=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(b){var U=y.refs;b===null?delete U[w]:U[w]=b},a._stringRef=w,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function cp(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function yT(o){var a=o._init;return a(o._payload)}function _T(o){function a(Y,q){if(o){var J=Y.deletions;J===null?(Y.deletions=[q],Y.flags|=16):J.push(q)}}function c(Y,q){if(!o)return null;for(;q!==null;)a(Y,q),q=q.sibling;return null}function p(Y,q){for(Y=new Map;q!==null;)q.key!==null?Y.set(q.key,q):Y.set(q.index,q),q=q.sibling;return Y}function y(Y,q){return Y=po(Y,q),Y.index=0,Y.sibling=null,Y}function w(Y,q,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<q?(Y.flags|=2,q):J):(Y.flags|=2,q)):(Y.flags|=1048576,q)}function b(Y){return o&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,q,J,ge){return q===null||q.tag!==6?(q=ov(J,Y.mode,ge),q.return=Y,q):(q=y(q,J),q.return=Y,q)}function z(Y,q,J,ge){var Pe=J.type;return Pe===D?ce(Y,q,J.props.children,ge,J.key):q!==null&&(q.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===me&&yT(Pe)===q.type)?(ge=y(q,J.props),ge.ref=od(Y,q,J),ge.return=Y,ge):(ge=Dp(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=od(Y,q,J),ge.return=Y,ge)}function ee(Y,q,J,ge){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=av(J,Y.mode,ge),q.return=Y,q):(q=y(q,J.children||[]),q.return=Y,q)}function ce(Y,q,J,ge,Pe){return q===null||q.tag!==7?(q=ba(J,Y.mode,ge,Pe),q.return=Y,q):(q=y(q,J),q.return=Y,q)}function fe(Y,q,J){if(typeof q=="string"&&q!==""||typeof q=="number")return q=ov(""+q,Y.mode,J),q.return=Y,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case $:return J=Dp(q.type,q.key,q.props,null,Y.mode,J),J.ref=od(Y,null,q),J.return=Y,J;case j:return q=av(q,Y.mode,J),q.return=Y,q;case me:var ge=q._init;return fe(Y,ge(q._payload),J)}if(lr(q)||pe(q))return q=ba(q,Y.mode,J,null),q.return=Y,q;cp(Y,q)}return null}function le(Y,q,J,ge){var Pe=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Pe!==null?null:U(Y,q,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case $:return J.key===Pe?z(Y,q,J,ge):null;case j:return J.key===Pe?ee(Y,q,J,ge):null;case me:return Pe=J._init,le(Y,q,Pe(J._payload),ge)}if(lr(J)||pe(J))return Pe!==null?null:ce(Y,q,J,ge,null);cp(Y,J)}return null}function we(Y,q,J,ge,Pe){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Y=Y.get(J)||null,U(q,Y,""+ge,Pe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case $:return Y=Y.get(ge.key===null?J:ge.key)||null,z(q,Y,ge,Pe);case j:return Y=Y.get(ge.key===null?J:ge.key)||null,ee(q,Y,ge,Pe);case me:var Oe=ge._init;return we(Y,q,J,Oe(ge._payload),Pe)}if(lr(ge)||pe(ge))return Y=Y.get(J)||null,ce(q,Y,ge,Pe,null);cp(q,ge)}return null}function Se(Y,q,J,ge){for(var Pe=null,Oe=null,Ne=q,Le=q=0,pn=null;Ne!==null&&Le<J.length;Le++){Ne.index>Le?(pn=Ne,Ne=null):pn=Ne.sibling;var et=le(Y,Ne,J[Le],ge);if(et===null){Ne===null&&(Ne=pn);break}o&&Ne&&et.alternate===null&&a(Y,Ne),q=w(et,q,Le),Oe===null?Pe=et:Oe.sibling=et,Oe=et,Ne=pn}if(Le===J.length)return c(Y,Ne),It&&wa(Y,Le),Pe;if(Ne===null){for(;Le<J.length;Le++)Ne=fe(Y,J[Le],ge),Ne!==null&&(q=w(Ne,q,Le),Oe===null?Pe=Ne:Oe.sibling=Ne,Oe=Ne);return It&&wa(Y,Le),Pe}for(Ne=p(Y,Ne);Le<J.length;Le++)pn=we(Ne,Y,Le,J[Le],ge),pn!==null&&(o&&pn.alternate!==null&&Ne.delete(pn.key===null?Le:pn.key),q=w(pn,q,Le),Oe===null?Pe=pn:Oe.sibling=pn,Oe=pn);return o&&Ne.forEach(function(mo){return a(Y,mo)}),It&&wa(Y,Le),Pe}function Ae(Y,q,J,ge){var Pe=pe(J);if(typeof Pe!="function")throw Error(t(150));if(J=Pe.call(J),J==null)throw Error(t(151));for(var Oe=Pe=null,Ne=q,Le=q=0,pn=null,et=J.next();Ne!==null&&!et.done;Le++,et=J.next()){Ne.index>Le?(pn=Ne,Ne=null):pn=Ne.sibling;var mo=le(Y,Ne,et.value,ge);if(mo===null){Ne===null&&(Ne=pn);break}o&&Ne&&mo.alternate===null&&a(Y,Ne),q=w(mo,q,Le),Oe===null?Pe=mo:Oe.sibling=mo,Oe=mo,Ne=pn}if(et.done)return c(Y,Ne),It&&wa(Y,Le),Pe;if(Ne===null){for(;!et.done;Le++,et=J.next())et=fe(Y,et.value,ge),et!==null&&(q=w(et,q,Le),Oe===null?Pe=et:Oe.sibling=et,Oe=et);return It&&wa(Y,Le),Pe}for(Ne=p(Y,Ne);!et.done;Le++,et=J.next())et=we(Ne,Y,Le,et.value,ge),et!==null&&(o&&et.alternate!==null&&Ne.delete(et.key===null?Le:et.key),q=w(et,q,Le),Oe===null?Pe=et:Oe.sibling=et,Oe=et);return o&&Ne.forEach(function(DL){return a(Y,DL)}),It&&wa(Y,Le),Pe}function zt(Y,q,J,ge){if(typeof J=="object"&&J!==null&&J.type===D&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case $:e:{for(var Pe=J.key,Oe=q;Oe!==null;){if(Oe.key===Pe){if(Pe=J.type,Pe===D){if(Oe.tag===7){c(Y,Oe.sibling),q=y(Oe,J.props.children),q.return=Y,Y=q;break e}}else if(Oe.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===me&&yT(Pe)===Oe.type){c(Y,Oe.sibling),q=y(Oe,J.props),q.ref=od(Y,Oe,J),q.return=Y,Y=q;break e}c(Y,Oe);break}else a(Y,Oe);Oe=Oe.sibling}J.type===D?(q=ba(J.props.children,Y.mode,ge,J.key),q.return=Y,Y=q):(ge=Dp(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=od(Y,q,J),ge.return=Y,Y=ge)}return b(Y);case j:e:{for(Oe=J.key;q!==null;){if(q.key===Oe)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){c(Y,q.sibling),q=y(q,J.children||[]),q.return=Y,Y=q;break e}else{c(Y,q);break}else a(Y,q);q=q.sibling}q=av(J,Y.mode,ge),q.return=Y,Y=q}return b(Y);case me:return Oe=J._init,zt(Y,q,Oe(J._payload),ge)}if(lr(J))return Se(Y,q,J,ge);if(pe(J))return Ae(Y,q,J,ge);cp(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,q!==null&&q.tag===6?(c(Y,q.sibling),q=y(q,J),q.return=Y,Y=q):(c(Y,q),q=ov(J,Y.mode,ge),q.return=Y,Y=q),b(Y)):c(Y,q)}return zt}var Gl=_T(!0),vT=_T(!1),dp=ro(null),hp=null,Ql=null,g_=null;function y_(){g_=Ql=hp=null}function __(o){var a=dp.current;_t(dp),o._currentValue=a}function v_(o,a,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),o===c)break;o=o.return}}function Yl(o,a){hp=o,g_=Ql=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&a&&(Xn=!0),o.firstContext=null)}function Vr(o){var a=o._currentValue;if(g_!==o)if(o={context:o,memoizedValue:a,next:null},Ql===null){if(hp===null)throw Error(t(308));Ql=o,hp.dependencies={lanes:0,firstContext:o}}else Ql=Ql.next=o;return a}var Ea=null;function w_(o){Ea===null?Ea=[o]:Ea.push(o)}function wT(o,a,c,p){var y=a.interleaved;return y===null?(c.next=c,w_(a)):(c.next=y.next,y.next=c),a.interleaved=c,ms(o,p)}function ms(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var oo=!1;function E_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ET(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function gs(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function ao(o,a,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,Ze&2){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,ms(o,c)}return y=p.interleaved,y===null?(a.next=a,w_(p)):(a.next=y.next,y.next=a),p.interleaved=a,ms(o,c)}function fp(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,Ys(o,c)}}function IT(o,a){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var b={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=b:w=w.next=b,c=c.next}while(c!==null);w===null?y=w=a:w=w.next=a}else y=w=a;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function pp(o,a,c,p){var y=o.updateQueue;oo=!1;var w=y.firstBaseUpdate,b=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var z=U,ee=z.next;z.next=null,b===null?w=ee:b.next=ee,b=z;var ce=o.alternate;ce!==null&&(ce=ce.updateQueue,U=ce.lastBaseUpdate,U!==b&&(U===null?ce.firstBaseUpdate=ee:U.next=ee,ce.lastBaseUpdate=z))}if(w!==null){var fe=y.baseState;b=0,ce=ee=z=null,U=w;do{var le=U.lane,we=U.eventTime;if((p&le)===le){ce!==null&&(ce=ce.next={eventTime:we,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Se=o,Ae=U;switch(le=a,we=c,Ae.tag){case 1:if(Se=Ae.payload,typeof Se=="function"){fe=Se.call(we,fe,le);break e}fe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ae.payload,le=typeof Se=="function"?Se.call(we,fe,le):Se,le==null)break e;fe=he({},fe,le);break e;case 2:oo=!0}}U.callback!==null&&U.lane!==0&&(o.flags|=64,le=y.effects,le===null?y.effects=[U]:le.push(U))}else we={eventTime:we,lane:le,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ce===null?(ee=ce=we,z=fe):ce=ce.next=we,b|=le;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;le=U,U=le.next,le.next=null,y.lastBaseUpdate=le,y.shared.pending=null}}while(!0);if(ce===null&&(z=fe),y.baseState=z,y.firstBaseUpdate=ee,y.lastBaseUpdate=ce,a=y.shared.interleaved,a!==null){y=a;do b|=y.lane,y=y.next;while(y!==a)}else w===null&&(y.shared.lanes=0);Sa|=b,o.lanes=b,o.memoizedState=fe}}function TT(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var p=o[a],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var ad={},Ai=ro(ad),ld=ro(ad),ud=ro(ad);function Ia(o){if(o===ad)throw Error(t(174));return o}function I_(o,a){switch(pt(ud,a),pt(ld,o),pt(Ai,ad),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:rn(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=rn(a,o)}_t(Ai),pt(Ai,a)}function Jl(){_t(Ai),_t(ld),_t(ud)}function ST(o){Ia(ud.current);var a=Ia(Ai.current),c=rn(a,o.type);a!==c&&(pt(ld,o),pt(Ai,c))}function T_(o){ld.current===o&&(_t(Ai),_t(ld))}var Ct=ro(0);function mp(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var S_=[];function R_(){for(var o=0;o<S_.length;o++)S_[o]._workInProgressVersionPrimary=null;S_.length=0}var gp=B.ReactCurrentDispatcher,A_=B.ReactCurrentBatchConfig,Ta=0,kt=null,on=null,hn=null,yp=!1,cd=!1,dd=0,nL=0;function Cn(){throw Error(t(321))}function P_(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!ri(o[c],a[c]))return!1;return!0}function b_(o,a,c,p,y,w){if(Ta=w,kt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,gp.current=o===null||o.memoizedState===null?oL:aL,o=c(p,y),cd){w=0;do{if(cd=!1,dd=0,25<=w)throw Error(t(301));w+=1,hn=on=null,a.updateQueue=null,gp.current=lL,o=c(p,y)}while(cd)}if(gp.current=wp,a=on!==null&&on.next!==null,Ta=0,hn=on=kt=null,yp=!1,a)throw Error(t(300));return o}function C_(){var o=dd!==0;return dd=0,o}function Pi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?kt.memoizedState=hn=o:hn=hn.next=o,hn}function Mr(){if(on===null){var o=kt.alternate;o=o!==null?o.memoizedState:null}else o=on.next;var a=hn===null?kt.memoizedState:hn.next;if(a!==null)hn=a,on=o;else{if(o===null)throw Error(t(310));on=o,o={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},hn===null?kt.memoizedState=hn=o:hn=hn.next=o}return hn}function hd(o,a){return typeof a=="function"?a(o):a}function k_(o){var a=Mr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=on,y=p.baseQueue,w=c.pending;if(w!==null){if(y!==null){var b=y.next;y.next=w.next,w.next=b}p.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,p=p.baseState;var U=b=null,z=null,ee=w;do{var ce=ee.lane;if((Ta&ce)===ce)z!==null&&(z=z.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),p=ee.hasEagerState?ee.eagerState:o(p,ee.action);else{var fe={lane:ce,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};z===null?(U=z=fe,b=p):z=z.next=fe,kt.lanes|=ce,Sa|=ce}ee=ee.next}while(ee!==null&&ee!==w);z===null?b=p:z.next=U,ri(p,a.memoizedState)||(Xn=!0),a.memoizedState=p,a.baseState=b,a.baseQueue=z,c.lastRenderedState=p}if(o=c.interleaved,o!==null){y=o;do w=y.lane,kt.lanes|=w,Sa|=w,y=y.next;while(y!==o)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function x_(o){var a=Mr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=c.dispatch,y=c.pending,w=a.memoizedState;if(y!==null){c.pending=null;var b=y=y.next;do w=o(w,b.action),b=b.next;while(b!==y);ri(w,a.memoizedState)||(Xn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,p]}function RT(){}function AT(o,a){var c=kt,p=Mr(),y=a(),w=!ri(p.memoizedState,y);if(w&&(p.memoizedState=y,Xn=!0),p=p.queue,O_(CT.bind(null,c,p,o),[o]),p.getSnapshot!==a||w||hn!==null&&hn.memoizedState.tag&1){if(c.flags|=2048,fd(9,bT.bind(null,c,p,y,a),void 0,null),fn===null)throw Error(t(349));Ta&30||PT(c,a,y)}return y}function PT(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=kt.updateQueue,a===null?(a={lastEffect:null,stores:null},kt.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function bT(o,a,c,p){a.value=c,a.getSnapshot=p,kT(a)&&xT(o)}function CT(o,a,c){return c(function(){kT(a)&&xT(o)})}function kT(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!ri(o,c)}catch{return!0}}function xT(o){var a=ms(o,1);a!==null&&li(a,o,1,-1)}function OT(o){var a=Pi();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hd,lastRenderedState:o},a.queue=o,o=o.dispatch=sL.bind(null,kt,o),[a.memoizedState,o]}function fd(o,a,c,p){return o={tag:o,create:a,destroy:c,deps:p,next:null},a=kt.updateQueue,a===null?(a={lastEffect:null,stores:null},kt.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,a.lastEffect=o)),o}function NT(){return Mr().memoizedState}function _p(o,a,c,p){var y=Pi();kt.flags|=o,y.memoizedState=fd(1|a,c,void 0,p===void 0?null:p)}function vp(o,a,c,p){var y=Mr();p=p===void 0?null:p;var w=void 0;if(on!==null){var b=on.memoizedState;if(w=b.destroy,p!==null&&P_(p,b.deps)){y.memoizedState=fd(a,c,w,p);return}}kt.flags|=o,y.memoizedState=fd(1|a,c,w,p)}function DT(o,a){return _p(8390656,8,o,a)}function O_(o,a){return vp(2048,8,o,a)}function LT(o,a){return vp(4,2,o,a)}function VT(o,a){return vp(4,4,o,a)}function MT(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function FT(o,a,c){return c=c!=null?c.concat([o]):null,vp(4,4,MT.bind(null,a,o),c)}function N_(){}function UT(o,a){var c=Mr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&P_(a,p[1])?p[0]:(c.memoizedState=[o,a],o)}function $T(o,a){var c=Mr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&P_(a,p[1])?p[0]:(o=o(),c.memoizedState=[o,a],o)}function BT(o,a,c){return Ta&21?(ri(c,a)||(c=ha(),kt.lanes|=c,Sa|=c,o.baseState=!0),a):(o.baseState&&(o.baseState=!1,Xn=!0),o.memoizedState=c)}function rL(o,a){var c=Ke;Ke=c!==0&&4>c?c:4,o(!0);var p=A_.transition;A_.transition={};try{o(!1),a()}finally{Ke=c,A_.transition=p}}function zT(){return Mr().memoizedState}function iL(o,a,c){var p=ho(o);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},jT(o))WT(a,c);else if(c=wT(o,a,c,p),c!==null){var y=Bn();li(c,o,p,y),qT(c,a,p)}}function sL(o,a,c){var p=ho(o),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(jT(o))WT(a,y);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var b=a.lastRenderedState,U=w(b,c);if(y.hasEagerState=!0,y.eagerState=U,ri(U,b)){var z=a.interleaved;z===null?(y.next=y,w_(a)):(y.next=z.next,z.next=y),a.interleaved=y;return}}catch{}finally{}c=wT(o,a,y,p),c!==null&&(y=Bn(),li(c,o,p,y),qT(c,a,p))}}function jT(o){var a=o.alternate;return o===kt||a!==null&&a===kt}function WT(o,a){cd=yp=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function qT(o,a,c){if(c&4194240){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,Ys(o,c)}}var wp={readContext:Vr,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},oL={readContext:Vr,useCallback:function(o,a){return Pi().memoizedState=[o,a===void 0?null:a],o},useContext:Vr,useEffect:DT,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,_p(4194308,4,MT.bind(null,a,o),c)},useLayoutEffect:function(o,a){return _p(4194308,4,o,a)},useInsertionEffect:function(o,a){return _p(4,2,o,a)},useMemo:function(o,a){var c=Pi();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var p=Pi();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},p.queue=o,o=o.dispatch=iL.bind(null,kt,o),[p.memoizedState,o]},useRef:function(o){var a=Pi();return o={current:o},a.memoizedState=o},useState:OT,useDebugValue:N_,useDeferredValue:function(o){return Pi().memoizedState=o},useTransition:function(){var o=OT(!1),a=o[0];return o=rL.bind(null,o[1]),Pi().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var p=kt,y=Pi();if(It){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),fn===null)throw Error(t(349));Ta&30||PT(p,a,c)}y.memoizedState=c;var w={value:c,getSnapshot:a};return y.queue=w,DT(CT.bind(null,p,w,o),[o]),p.flags|=2048,fd(9,bT.bind(null,p,w,c,a),void 0,null),c},useId:function(){var o=Pi(),a=fn.identifierPrefix;if(It){var c=ps,p=fs;c=(p&~(1<<32-Fn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=dd++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=nL++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},aL={readContext:Vr,useCallback:UT,useContext:Vr,useEffect:O_,useImperativeHandle:FT,useInsertionEffect:LT,useLayoutEffect:VT,useMemo:$T,useReducer:k_,useRef:NT,useState:function(){return k_(hd)},useDebugValue:N_,useDeferredValue:function(o){var a=Mr();return BT(a,on.memoizedState,o)},useTransition:function(){var o=k_(hd)[0],a=Mr().memoizedState;return[o,a]},useMutableSource:RT,useSyncExternalStore:AT,useId:zT,unstable_isNewReconciler:!1},lL={readContext:Vr,useCallback:UT,useContext:Vr,useEffect:O_,useImperativeHandle:FT,useInsertionEffect:LT,useLayoutEffect:VT,useMemo:$T,useReducer:x_,useRef:NT,useState:function(){return x_(hd)},useDebugValue:N_,useDeferredValue:function(o){var a=Mr();return on===null?a.memoizedState=o:BT(a,on.memoizedState,o)},useTransition:function(){var o=x_(hd)[0],a=Mr().memoizedState;return[o,a]},useMutableSource:RT,useSyncExternalStore:AT,useId:zT,unstable_isNewReconciler:!1};function si(o,a){if(o&&o.defaultProps){a=he({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function D_(o,a,c,p){a=o.memoizedState,c=c(p,a),c=c==null?a:he({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Ep={isMounted:function(o){return(o=o._reactInternals)?Yr(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var p=Bn(),y=ho(o),w=gs(p,y);w.payload=a,c!=null&&(w.callback=c),a=ao(o,w,y),a!==null&&(li(a,o,y,p),fp(a,o,y))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var p=Bn(),y=ho(o),w=gs(p,y);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=ao(o,w,y),a!==null&&(li(a,o,y,p),fp(a,o,y))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=Bn(),p=ho(o),y=gs(c,p);y.tag=2,a!=null&&(y.callback=a),a=ao(o,y,p),a!==null&&(li(a,o,p,c),fp(a,o,p))}};function HT(o,a,c,p,y,w,b){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,b):a.prototype&&a.prototype.isPureReactComponent?!Zc(c,p)||!Zc(y,w):!0}function KT(o,a,c){var p=!1,y=io,w=a.contextType;return typeof w=="object"&&w!==null?w=Vr(w):(y=Jn(a)?_a:bn.current,p=a.contextTypes,w=(p=p!=null)?Wl(o,y):io),a=new a(c,w),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ep,o.stateNode=a,a._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=w),a}function GT(o,a,c,p){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==o&&Ep.enqueueReplaceState(a,a.state,null)}function L_(o,a,c,p){var y=o.stateNode;y.props=c,y.state=o.memoizedState,y.refs={},E_(o);var w=a.contextType;typeof w=="object"&&w!==null?y.context=Vr(w):(w=Jn(a)?_a:bn.current,y.context=Wl(o,w)),y.state=o.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(D_(o,a,w,c),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&Ep.enqueueReplaceState(y,y.state,null),pp(o,c,y,p),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function Xl(o,a){try{var c="",p=a;do c+=Me(p),p=p.return;while(p);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:a,stack:y,digest:null}}function V_(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function M_(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var uL=typeof WeakMap=="function"?WeakMap:Map;function QT(o,a,c){c=gs(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){bp||(bp=!0,X_=p),M_(o,a)},c}function YT(o,a,c){c=gs(-1,c),c.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;c.payload=function(){return p(y)},c.callback=function(){M_(o,a)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){M_(o,a),typeof p!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})}),c}function JT(o,a,c){var p=o.pingCache;if(p===null){p=o.pingCache=new uL;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(c)||(y.add(c),o=TL.bind(null,o,a,c),a.then(o,o))}function XT(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function ZT(o,a,c,p,y){return o.mode&1?(o.flags|=65536,o.lanes=y,o):(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=gs(-1,1),a.tag=2,ao(c,a,1))),c.lanes|=1),o)}var cL=B.ReactCurrentOwner,Xn=!1;function $n(o,a,c,p){a.child=o===null?vT(a,null,c,p):Gl(a,o.child,c,p)}function eS(o,a,c,p,y){c=c.render;var w=a.ref;return Yl(a,y),p=b_(o,a,c,p,w,y),c=C_(),o!==null&&!Xn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,ys(o,a,y)):(It&&c&&d_(a),a.flags|=1,$n(o,a,p,y),a.child)}function tS(o,a,c,p,y){if(o===null){var w=c.type;return typeof w=="function"&&!sv(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,nS(o,a,w,p,y)):(o=Dp(c.type,null,p,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(w=o.child,!(o.lanes&y)){var b=w.memoizedProps;if(c=c.compare,c=c!==null?c:Zc,c(b,p)&&o.ref===a.ref)return ys(o,a,y)}return a.flags|=1,o=po(w,p),o.ref=a.ref,o.return=a,a.child=o}function nS(o,a,c,p,y){if(o!==null){var w=o.memoizedProps;if(Zc(w,p)&&o.ref===a.ref)if(Xn=!1,a.pendingProps=p=w,(o.lanes&y)!==0)o.flags&131072&&(Xn=!0);else return a.lanes=o.lanes,ys(o,a,y)}return F_(o,a,c,p,y)}function rS(o,a,c){var p=a.pendingProps,y=p.children,w=o!==null?o.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(eu,mr),mr|=c;else{if(!(c&1073741824))return o=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,pt(eu,mr),mr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,pt(eu,mr),mr|=p}else w!==null?(p=w.baseLanes|c,a.memoizedState=null):p=c,pt(eu,mr),mr|=p;return $n(o,a,y,c),a.child}function iS(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function F_(o,a,c,p,y){var w=Jn(c)?_a:bn.current;return w=Wl(a,w),Yl(a,y),c=b_(o,a,c,p,w,y),p=C_(),o!==null&&!Xn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,ys(o,a,y)):(It&&p&&d_(a),a.flags|=1,$n(o,a,c,y),a.child)}function sS(o,a,c,p,y){if(Jn(c)){var w=!0;sp(a)}else w=!1;if(Yl(a,y),a.stateNode===null)Tp(o,a),KT(a,c,p),L_(a,c,p,y),p=!0;else if(o===null){var b=a.stateNode,U=a.memoizedProps;b.props=U;var z=b.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=Vr(ee):(ee=Jn(c)?_a:bn.current,ee=Wl(a,ee));var ce=c.getDerivedStateFromProps,fe=typeof ce=="function"||typeof b.getSnapshotBeforeUpdate=="function";fe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(U!==p||z!==ee)&&GT(a,b,p,ee),oo=!1;var le=a.memoizedState;b.state=le,pp(a,p,b,y),z=a.memoizedState,U!==p||le!==z||Yn.current||oo?(typeof ce=="function"&&(D_(a,c,ce,p),z=a.memoizedState),(U=oo||HT(a,c,U,p,le,z,ee))?(fe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=z),b.props=p,b.state=z,b.context=ee,p=U):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{b=a.stateNode,ET(o,a),U=a.memoizedProps,ee=a.type===a.elementType?U:si(a.type,U),b.props=ee,fe=a.pendingProps,le=b.context,z=c.contextType,typeof z=="object"&&z!==null?z=Vr(z):(z=Jn(c)?_a:bn.current,z=Wl(a,z));var we=c.getDerivedStateFromProps;(ce=typeof we=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(U!==fe||le!==z)&&GT(a,b,p,z),oo=!1,le=a.memoizedState,b.state=le,pp(a,p,b,y);var Se=a.memoizedState;U!==fe||le!==Se||Yn.current||oo?(typeof we=="function"&&(D_(a,c,we,p),Se=a.memoizedState),(ee=oo||HT(a,c,ee,p,le,Se,z)||!1)?(ce||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,Se,z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,Se,z)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Se),b.props=p,b.state=Se,b.context=z,p=ee):(typeof b.componentDidUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(a.flags|=1024),p=!1)}return U_(o,a,c,p,w,y)}function U_(o,a,c,p,y,w){iS(o,a);var b=(a.flags&128)!==0;if(!p&&!b)return y&&cT(a,c,!1),ys(o,a,w);p=a.stateNode,cL.current=a;var U=b&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,o!==null&&b?(a.child=Gl(a,o.child,null,w),a.child=Gl(a,null,U,w)):$n(o,a,U,w),a.memoizedState=p.state,y&&cT(a,c,!0),a.child}function oS(o){var a=o.stateNode;a.pendingContext?lT(o,a.pendingContext,a.pendingContext!==a.context):a.context&&lT(o,a.context,!1),I_(o,a.containerInfo)}function aS(o,a,c,p,y){return Kl(),m_(y),a.flags|=256,$n(o,a,c,p),a.child}var $_={dehydrated:null,treeContext:null,retryLane:0};function B_(o){return{baseLanes:o,cachePool:null,transitions:null}}function lS(o,a,c){var p=a.pendingProps,y=Ct.current,w=!1,b=(a.flags&128)!==0,U;if((U=b)||(U=o!==null&&o.memoizedState===null?!1:(y&2)!==0),U?(w=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),pt(Ct,y&1),o===null)return p_(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(a.mode&1?o.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(b=p.children,o=p.fallback,w?(p=a.mode,w=a.child,b={mode:"hidden",children:b},!(p&1)&&w!==null?(w.childLanes=0,w.pendingProps=b):w=Lp(b,p,0,null),o=ba(o,p,c,null),w.return=a,o.return=a,w.sibling=o,a.child=w,a.child.memoizedState=B_(c),a.memoizedState=$_,o):z_(a,b));if(y=o.memoizedState,y!==null&&(U=y.dehydrated,U!==null))return dL(o,a,b,p,U,y,c);if(w){w=p.fallback,b=a.mode,y=o.child,U=y.sibling;var z={mode:"hidden",children:p.children};return!(b&1)&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=z,a.deletions=null):(p=po(y,z),p.subtreeFlags=y.subtreeFlags&14680064),U!==null?w=po(U,w):(w=ba(w,b,c,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,b=o.child.memoizedState,b=b===null?B_(c):{baseLanes:b.baseLanes|c,cachePool:null,transitions:b.transitions},w.memoizedState=b,w.childLanes=o.childLanes&~c,a.memoizedState=$_,p}return w=o.child,o=w.sibling,p=po(w,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=p,a.memoizedState=null,p}function z_(o,a){return a=Lp({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Ip(o,a,c,p){return p!==null&&m_(p),Gl(a,o.child,null,c),o=z_(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function dL(o,a,c,p,y,w,b){if(c)return a.flags&256?(a.flags&=-257,p=V_(Error(t(422))),Ip(o,a,b,p)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(w=p.fallback,y=a.mode,p=Lp({mode:"visible",children:p.children},y,0,null),w=ba(w,y,b,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,a.mode&1&&Gl(a,o.child,null,b),a.child.memoizedState=B_(b),a.memoizedState=$_,w);if(!(a.mode&1))return Ip(o,a,b,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var U=p.dgst;return p=U,w=Error(t(419)),p=V_(w,p,void 0),Ip(o,a,b,p)}if(U=(b&o.childLanes)!==0,Xn||U){if(p=fn,p!==null){switch(b&-b){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(p.suspendedLanes|b)?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,ms(o,y),li(p,o,y,-1))}return iv(),p=V_(Error(t(421))),Ip(o,a,b,p)}return y.data==="$?"?(a.flags|=128,a.child=o.child,a=SL.bind(null,o),y._reactRetry=a,null):(o=w.treeContext,pr=no(y.nextSibling),fr=a,It=!0,ii=null,o!==null&&(Dr[Lr++]=fs,Dr[Lr++]=ps,Dr[Lr++]=va,fs=o.id,ps=o.overflow,va=a),a=z_(a,p.children),a.flags|=4096,a)}function uS(o,a,c){o.lanes|=a;var p=o.alternate;p!==null&&(p.lanes|=a),v_(o.return,a,c)}function j_(o,a,c,p,y){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=y)}function cS(o,a,c){var p=a.pendingProps,y=p.revealOrder,w=p.tail;if($n(o,a,p.children,c),p=Ct.current,p&2)p=p&1|2,a.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&uS(o,c,a);else if(o.tag===19)uS(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(pt(Ct,p),!(a.mode&1))a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)o=c.alternate,o!==null&&mp(o)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),j_(a,!1,y,c,w);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&mp(o)===null){a.child=y;break}o=y.sibling,y.sibling=c,c=y,y=o}j_(a,!0,c,null,w);break;case"together":j_(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Tp(o,a){!(a.mode&1)&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function ys(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),Sa|=a.lanes,!(c&a.childLanes))return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=po(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=po(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function hL(o,a,c){switch(a.tag){case 3:oS(a),Kl();break;case 5:ST(a);break;case 1:Jn(a.type)&&sp(a);break;case 4:I_(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;pt(dp,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(pt(Ct,Ct.current&1),a.flags|=128,null):c&a.child.childLanes?lS(o,a,c):(pt(Ct,Ct.current&1),o=ys(o,a,c),o!==null?o.sibling:null);pt(Ct,Ct.current&1);break;case 19:if(p=(c&a.childLanes)!==0,o.flags&128){if(p)return cS(o,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),pt(Ct,Ct.current),p)break;return null;case 22:case 23:return a.lanes=0,rS(o,a,c)}return ys(o,a,c)}var dS,W_,hS,fS;dS=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},W_=function(){},hS=function(o,a,c,p){var y=o.memoizedProps;if(y!==p){o=a.stateNode,Ia(Ai.current);var w=null;switch(c){case"input":y=tn(o,y),p=tn(o,p),w=[];break;case"select":y=he({},y,{value:void 0}),p=he({},p,{value:void 0}),w=[];break;case"textarea":y=bc(o,y),p=bc(o,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=np)}Dc(c,p);var b;c=null;for(ee in y)if(!p.hasOwnProperty(ee)&&y.hasOwnProperty(ee)&&y[ee]!=null)if(ee==="style"){var U=y[ee];for(b in U)U.hasOwnProperty(b)&&(c||(c={}),c[b]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(i.hasOwnProperty(ee)?w||(w=[]):(w=w||[]).push(ee,null));for(ee in p){var z=p[ee];if(U=y!=null?y[ee]:void 0,p.hasOwnProperty(ee)&&z!==U&&(z!=null||U!=null))if(ee==="style")if(U){for(b in U)!U.hasOwnProperty(b)||z&&z.hasOwnProperty(b)||(c||(c={}),c[b]="");for(b in z)z.hasOwnProperty(b)&&U[b]!==z[b]&&(c||(c={}),c[b]=z[b])}else c||(w||(w=[]),w.push(ee,c)),c=z;else ee==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,U=U?U.__html:void 0,z!=null&&U!==z&&(w=w||[]).push(ee,z)):ee==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(ee,""+z):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(ee)?(z!=null&&ee==="onScroll"&&yt("scroll",o),w||U===z||(w=[])):(w=w||[]).push(ee,z))}c&&(w=w||[]).push("style",c);var ee=w;(a.updateQueue=ee)&&(a.flags|=4)}},fS=function(o,a,c,p){c!==p&&(a.flags|=4)};function pd(o,a){if(!It)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function kn(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(a)for(var y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=p,o.childLanes=c,a}function fL(o,a,c){var p=a.pendingProps;switch(h_(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(a),null;case 1:return Jn(a.type)&&ip(),kn(a),null;case 3:return p=a.stateNode,Jl(),_t(Yn),_t(bn),R_(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(up(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,ii!==null&&(tv(ii),ii=null))),W_(o,a),kn(a),null;case 5:T_(a);var y=Ia(ud.current);if(c=a.type,o!==null&&a.stateNode!=null)hS(o,a,c,p,y),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return kn(a),null}if(o=Ia(Ai.current),up(a)){p=a.stateNode,c=a.type;var w=a.memoizedProps;switch(p[Ri]=a,p[id]=w,o=(a.mode&1)!==0,c){case"dialog":yt("cancel",p),yt("close",p);break;case"iframe":case"object":case"embed":yt("load",p);break;case"video":case"audio":for(y=0;y<td.length;y++)yt(td[y],p);break;case"source":yt("error",p);break;case"img":case"image":case"link":yt("error",p),yt("load",p);break;case"details":yt("toggle",p);break;case"input":Kr(p,w),yt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},yt("invalid",p);break;case"textarea":pl(p,w),yt("invalid",p)}Dc(c,w),y=null;for(var b in w)if(w.hasOwnProperty(b)){var U=w[b];b==="children"?typeof U=="string"?p.textContent!==U&&(w.suppressHydrationWarning!==!0&&tp(p.textContent,U,o),y=["children",U]):typeof U=="number"&&p.textContent!==""+U&&(w.suppressHydrationWarning!==!0&&tp(p.textContent,U,o),y=["children",""+U]):i.hasOwnProperty(b)&&U!=null&&b==="onScroll"&&yt("scroll",p)}switch(c){case"input":cn(p),Hn(p,w,!0);break;case"textarea":cn(p),Cc(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=np)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{b=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=nn(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=b.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=b.createElement(c,{is:p.is}):(o=b.createElement(c),c==="select"&&(b=o,p.multiple?b.multiple=!0:p.size&&(b.size=p.size))):o=b.createElementNS(o,c),o[Ri]=a,o[id]=p,dS(o,a,!1,!1),a.stateNode=o;e:{switch(b=Lc(c,p),c){case"dialog":yt("cancel",o),yt("close",o),y=p;break;case"iframe":case"object":case"embed":yt("load",o),y=p;break;case"video":case"audio":for(y=0;y<td.length;y++)yt(td[y],o);y=p;break;case"source":yt("error",o),y=p;break;case"img":case"image":case"link":yt("error",o),yt("load",o),y=p;break;case"details":yt("toggle",o),y=p;break;case"input":Kr(o,p),y=tn(o,p),yt("invalid",o);break;case"option":y=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},y=he({},p,{value:void 0}),yt("invalid",o);break;case"textarea":pl(o,p),y=bc(o,p),yt("invalid",o);break;default:y=p}Dc(c,y),U=y;for(w in U)if(U.hasOwnProperty(w)){var z=U[w];w==="style"?Oc(o,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&kc(o,z)):w==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&qs(o,z):typeof z=="number"&&qs(o,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?z!=null&&w==="onScroll"&&yt("scroll",o):z!=null&&M(o,w,z,b))}switch(c){case"input":cn(o),Hn(o,p,!1);break;case"textarea":cn(o),Cc(o);break;case"option":p.value!=null&&o.setAttribute("value",""+He(p.value));break;case"select":o.multiple=!!p.multiple,w=p.value,w!=null?rs(o,!!p.multiple,w,!1):p.defaultValue!=null&&rs(o,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=np)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return kn(a),null;case 6:if(o&&a.stateNode!=null)fS(o,a,o.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=Ia(ud.current),Ia(Ai.current),up(a)){if(p=a.stateNode,c=a.memoizedProps,p[Ri]=a,(w=p.nodeValue!==c)&&(o=fr,o!==null))switch(o.tag){case 3:tp(p.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&tp(p.nodeValue,c,(o.mode&1)!==0)}w&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Ri]=a,a.stateNode=p}return kn(a),null;case 13:if(_t(Ct),p=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(It&&pr!==null&&a.mode&1&&!(a.flags&128))gT(),Kl(),a.flags|=98560,w=!1;else if(w=up(a),p!==null&&p.dehydrated!==null){if(o===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Ri]=a}else Kl(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;kn(a),w=!1}else ii!==null&&(tv(ii),ii=null),w=!0;if(!w)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(o===null||Ct.current&1?an===0&&(an=3):iv())),a.updateQueue!==null&&(a.flags|=4),kn(a),null);case 4:return Jl(),W_(o,a),o===null&&nd(a.stateNode.containerInfo),kn(a),null;case 10:return __(a.type._context),kn(a),null;case 17:return Jn(a.type)&&ip(),kn(a),null;case 19:if(_t(Ct),w=a.memoizedState,w===null)return kn(a),null;if(p=(a.flags&128)!==0,b=w.rendering,b===null)if(p)pd(w,!1);else{if(an!==0||o!==null&&o.flags&128)for(o=a.child;o!==null;){if(b=mp(o),b!==null){for(a.flags|=128,pd(w,!1),p=b.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)w=c,o=p,w.flags&=14680066,b=w.alternate,b===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=b.childLanes,w.lanes=b.lanes,w.child=b.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=b.memoizedProps,w.memoizedState=b.memoizedState,w.updateQueue=b.updateQueue,w.type=b.type,o=b.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return pt(Ct,Ct.current&1|2),a.child}o=o.sibling}w.tail!==null&&ft()>tu&&(a.flags|=128,p=!0,pd(w,!1),a.lanes=4194304)}else{if(!p)if(o=mp(b),o!==null){if(a.flags|=128,p=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),pd(w,!0),w.tail===null&&w.tailMode==="hidden"&&!b.alternate&&!It)return kn(a),null}else 2*ft()-w.renderingStartTime>tu&&c!==1073741824&&(a.flags|=128,p=!0,pd(w,!1),a.lanes=4194304);w.isBackwards?(b.sibling=a.child,a.child=b):(c=w.last,c!==null?c.sibling=b:a.child=b,w.last=b)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=ft(),a.sibling=null,c=Ct.current,pt(Ct,p?c&1|2:c&1),a):(kn(a),null);case 22:case 23:return rv(),p=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?mr&1073741824&&(kn(a),a.subtreeFlags&6&&(a.flags|=8192)):kn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function pL(o,a){switch(h_(a),a.tag){case 1:return Jn(a.type)&&ip(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Jl(),_t(Yn),_t(bn),R_(),o=a.flags,o&65536&&!(o&128)?(a.flags=o&-65537|128,a):null;case 5:return T_(a),null;case 13:if(_t(Ct),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Kl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return _t(Ct),null;case 4:return Jl(),null;case 10:return __(a.type._context),null;case 22:case 23:return rv(),null;case 24:return null;default:return null}}var Sp=!1,xn=!1,mL=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Zl(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Lt(o,a,p)}else c.current=null}function q_(o,a,c){try{c()}catch(p){Lt(o,a,p)}}var pS=!1;function gL(o,a){if(r_=Zs,o=HI(),Qy(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var b=0,U=-1,z=-1,ee=0,ce=0,fe=o,le=null;t:for(;;){for(var we;fe!==c||y!==0&&fe.nodeType!==3||(U=b+y),fe!==w||p!==0&&fe.nodeType!==3||(z=b+p),fe.nodeType===3&&(b+=fe.nodeValue.length),(we=fe.firstChild)!==null;)le=fe,fe=we;for(;;){if(fe===o)break t;if(le===c&&++ee===y&&(U=b),le===w&&++ce===p&&(z=b),(we=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=we}c=U===-1||z===-1?null:{start:U,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(i_={focusedElem:o,selectionRange:c},Zs=!1,Ie=a;Ie!==null;)if(a=Ie,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Ie=o;else for(;Ie!==null;){a=Ie;try{var Se=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ae=Se.memoizedProps,zt=Se.memoizedState,Y=a.stateNode,q=Y.getSnapshotBeforeUpdate(a.elementType===a.type?Ae:si(a.type,Ae),zt);Y.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Lt(a,a.return,ge)}if(o=a.sibling,o!==null){o.return=a.return,Ie=o;break}Ie=a.return}return Se=pS,pS=!1,Se}function md(o,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&o)===o){var w=y.destroy;y.destroy=void 0,w!==void 0&&q_(a,c,w)}y=y.next}while(y!==p)}}function Rp(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function H_(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function mS(o){var a=o.alternate;a!==null&&(o.alternate=null,mS(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Ri],delete a[id],delete a[l_],delete a[XD],delete a[ZD])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function gS(o){return o.tag===5||o.tag===3||o.tag===4}function yS(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||gS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function K_(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=np));else if(p!==4&&(o=o.child,o!==null))for(K_(o,a,c),o=o.sibling;o!==null;)K_(o,a,c),o=o.sibling}function G_(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(G_(o,a,c),o=o.sibling;o!==null;)G_(o,a,c),o=o.sibling}var En=null,oi=!1;function lo(o,a,c){for(c=c.child;c!==null;)_S(o,a,c),c=c.sibling}function _S(o,a,c){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(ca,c)}catch{}switch(c.tag){case 5:xn||Zl(c,a);case 6:var p=En,y=oi;En=null,lo(o,a,c),En=p,oi=y,En!==null&&(oi?(o=En,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):En.removeChild(c.stateNode));break;case 18:En!==null&&(oi?(o=En,c=c.stateNode,o.nodeType===8?a_(o.parentNode,c):o.nodeType===1&&a_(o,c),ti(o)):a_(En,c.stateNode));break;case 4:p=En,y=oi,En=c.stateNode.containerInfo,oi=!0,lo(o,a,c),En=p,oi=y;break;case 0:case 11:case 14:case 15:if(!xn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,b=w.destroy;w=w.tag,b!==void 0&&(w&2||w&4)&&q_(c,a,b),y=y.next}while(y!==p)}lo(o,a,c);break;case 1:if(!xn&&(Zl(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(U){Lt(c,a,U)}lo(o,a,c);break;case 21:lo(o,a,c);break;case 22:c.mode&1?(xn=(p=xn)||c.memoizedState!==null,lo(o,a,c),xn=p):lo(o,a,c);break;default:lo(o,a,c)}}function vS(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new mL),a.forEach(function(p){var y=RL.bind(null,o,p);c.has(p)||(c.add(p),p.then(y,y))})}}function ai(o,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var w=o,b=a,U=b;e:for(;U!==null;){switch(U.tag){case 5:En=U.stateNode,oi=!1;break e;case 3:En=U.stateNode.containerInfo,oi=!0;break e;case 4:En=U.stateNode.containerInfo,oi=!0;break e}U=U.return}if(En===null)throw Error(t(160));_S(w,b,y),En=null,oi=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(ee){Lt(y,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)wS(a,o),a=a.sibling}function wS(o,a){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ai(a,o),bi(o),p&4){try{md(3,o,o.return),Rp(3,o)}catch(Ae){Lt(o,o.return,Ae)}try{md(5,o,o.return)}catch(Ae){Lt(o,o.return,Ae)}}break;case 1:ai(a,o),bi(o),p&512&&c!==null&&Zl(c,c.return);break;case 5:if(ai(a,o),bi(o),p&512&&c!==null&&Zl(c,c.return),o.flags&32){var y=o.stateNode;try{qs(y,"")}catch(Ae){Lt(o,o.return,Ae)}}if(p&4&&(y=o.stateNode,y!=null)){var w=o.memoizedProps,b=c!==null?c.memoizedProps:w,U=o.type,z=o.updateQueue;if(o.updateQueue=null,z!==null)try{U==="input"&&w.type==="radio"&&w.name!=null&&br(y,w),Lc(U,b);var ee=Lc(U,w);for(b=0;b<z.length;b+=2){var ce=z[b],fe=z[b+1];ce==="style"?Oc(y,fe):ce==="dangerouslySetInnerHTML"?kc(y,fe):ce==="children"?qs(y,fe):M(y,ce,fe,ee)}switch(U){case"input":Cr(y,w);break;case"textarea":ml(y,w);break;case"select":var le=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var we=w.value;we!=null?rs(y,!!w.multiple,we,!1):le!==!!w.multiple&&(w.defaultValue!=null?rs(y,!!w.multiple,w.defaultValue,!0):rs(y,!!w.multiple,w.multiple?[]:"",!1))}y[id]=w}catch(Ae){Lt(o,o.return,Ae)}}break;case 6:if(ai(a,o),bi(o),p&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,w=o.memoizedProps;try{y.nodeValue=w}catch(Ae){Lt(o,o.return,Ae)}}break;case 3:if(ai(a,o),bi(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{ti(a.containerInfo)}catch(Ae){Lt(o,o.return,Ae)}break;case 4:ai(a,o),bi(o);break;case 13:ai(a,o),bi(o),y=o.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(J_=ft())),p&4&&vS(o);break;case 22:if(ce=c!==null&&c.memoizedState!==null,o.mode&1?(xn=(ee=xn)||ce,ai(a,o),xn=ee):ai(a,o),bi(o),p&8192){if(ee=o.memoizedState!==null,(o.stateNode.isHidden=ee)&&!ce&&o.mode&1)for(Ie=o,ce=o.child;ce!==null;){for(fe=Ie=ce;Ie!==null;){switch(le=Ie,we=le.child,le.tag){case 0:case 11:case 14:case 15:md(4,le,le.return);break;case 1:Zl(le,le.return);var Se=le.stateNode;if(typeof Se.componentWillUnmount=="function"){p=le,c=le.return;try{a=p,Se.props=a.memoizedProps,Se.state=a.memoizedState,Se.componentWillUnmount()}catch(Ae){Lt(p,c,Ae)}}break;case 5:Zl(le,le.return);break;case 22:if(le.memoizedState!==null){TS(fe);continue}}we!==null?(we.return=le,Ie=we):TS(fe)}ce=ce.sibling}e:for(ce=null,fe=o;;){if(fe.tag===5){if(ce===null){ce=fe;try{y=fe.stateNode,ee?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(U=fe.stateNode,z=fe.memoizedProps.style,b=z!=null&&z.hasOwnProperty("display")?z.display:null,U.style.display=xc("display",b))}catch(Ae){Lt(o,o.return,Ae)}}}else if(fe.tag===6){if(ce===null)try{fe.stateNode.nodeValue=ee?"":fe.memoizedProps}catch(Ae){Lt(o,o.return,Ae)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===o)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===o)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===o)break e;ce===fe&&(ce=null),fe=fe.return}ce===fe&&(ce=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:ai(a,o),bi(o),p&4&&vS(o);break;case 21:break;default:ai(a,o),bi(o)}}function bi(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(gS(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(qs(y,""),p.flags&=-33);var w=yS(o);G_(o,w,y);break;case 3:case 4:var b=p.stateNode.containerInfo,U=yS(o);K_(o,U,b);break;default:throw Error(t(161))}}catch(z){Lt(o,o.return,z)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function yL(o,a,c){Ie=o,ES(o)}function ES(o,a,c){for(var p=(o.mode&1)!==0;Ie!==null;){var y=Ie,w=y.child;if(y.tag===22&&p){var b=y.memoizedState!==null||Sp;if(!b){var U=y.alternate,z=U!==null&&U.memoizedState!==null||xn;U=Sp;var ee=xn;if(Sp=b,(xn=z)&&!ee)for(Ie=y;Ie!==null;)b=Ie,z=b.child,b.tag===22&&b.memoizedState!==null?SS(y):z!==null?(z.return=b,Ie=z):SS(y);for(;w!==null;)Ie=w,ES(w),w=w.sibling;Ie=y,Sp=U,xn=ee}IS(o)}else y.subtreeFlags&8772&&w!==null?(w.return=y,Ie=w):IS(o)}}function IS(o){for(;Ie!==null;){var a=Ie;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:xn||Rp(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!xn)if(c===null)p.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:si(a.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&TT(a,w,p);break;case 3:var b=a.updateQueue;if(b!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}TT(a,b,c)}break;case 5:var U=a.stateNode;if(c===null&&a.flags&4){c=U;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var ce=ee.memoizedState;if(ce!==null){var fe=ce.dehydrated;fe!==null&&ti(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}xn||a.flags&512&&H_(a)}catch(le){Lt(a,a.return,le)}}if(a===o){Ie=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ie=c;break}Ie=a.return}}function TS(o){for(;Ie!==null;){var a=Ie;if(a===o){Ie=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ie=c;break}Ie=a.return}}function SS(o){for(;Ie!==null;){var a=Ie;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Rp(4,a)}catch(z){Lt(a,c,z)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch(z){Lt(a,y,z)}}var w=a.return;try{H_(a)}catch(z){Lt(a,w,z)}break;case 5:var b=a.return;try{H_(a)}catch(z){Lt(a,b,z)}}}catch(z){Lt(a,a.return,z)}if(a===o){Ie=null;break}var U=a.sibling;if(U!==null){U.return=a.return,Ie=U;break}Ie=a.return}}var _L=Math.ceil,Ap=B.ReactCurrentDispatcher,Q_=B.ReactCurrentOwner,Fr=B.ReactCurrentBatchConfig,Ze=0,fn=null,Gt=null,In=0,mr=0,eu=ro(0),an=0,gd=null,Sa=0,Pp=0,Y_=0,yd=null,Zn=null,J_=0,tu=1/0,_s=null,bp=!1,X_=null,uo=null,Cp=!1,co=null,kp=0,_d=0,Z_=null,xp=-1,Op=0;function Bn(){return Ze&6?ft():xp!==-1?xp:xp=ft()}function ho(o){return o.mode&1?Ze&2&&In!==0?In&-In:tL.transition!==null?(Op===0&&(Op=ha()),Op):(o=Ke,o!==0||(o=window.event,o=o===void 0?16:Hc(o.type)),o):1}function li(o,a,c,p){if(50<_d)throw _d=0,Z_=null,Error(t(185));Qs(o,c,p),(!(Ze&2)||o!==fn)&&(o===fn&&(!(Ze&2)&&(Pp|=c),an===4&&fo(o,In)),er(o,p),c===1&&Ze===0&&!(a.mode&1)&&(tu=ft()+500,op&&so()))}function er(o,a){var c=o.callbackNode;os(o,a);var p=da(o,o===fn?In:0);if(p===0)c!==null&&Bc(c),o.callbackNode=null,o.callbackPriority=0;else if(a=p&-p,o.callbackPriority!==a){if(c!=null&&Bc(c),a===1)o.tag===0?eL(AS.bind(null,o)):dT(AS.bind(null,o)),YD(function(){!(Ze&6)&&so()}),c=null;else{switch(Js(p)){case 1:c=ua;break;case 4:c=Hs;break;case 16:c=xr;break;case 536870912:c=Of;break;default:c=xr}c=DS(c,RS.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function RS(o,a){if(xp=-1,Op=0,Ze&6)throw Error(t(327));var c=o.callbackNode;if(nu()&&o.callbackNode!==c)return null;var p=da(o,o===fn?In:0);if(p===0)return null;if(p&30||p&o.expiredLanes||a)a=Np(o,p);else{a=p;var y=Ze;Ze|=2;var w=bS();(fn!==o||In!==a)&&(_s=null,tu=ft()+500,Aa(o,a));do try{EL();break}catch(U){PS(o,U)}while(!0);y_(),Ap.current=w,Ze=y,Gt!==null?a=0:(fn=null,In=0,a=an)}if(a!==0){if(a===2&&(y=cr(o),y!==0&&(p=y,a=ev(o,y))),a===1)throw c=gd,Aa(o,0),fo(o,p),er(o,ft()),c;if(a===6)fo(o,p);else{if(y=o.current.alternate,!(p&30)&&!vL(y)&&(a=Np(o,p),a===2&&(w=cr(o),w!==0&&(p=w,a=ev(o,w))),a===1))throw c=gd,Aa(o,0),fo(o,p),er(o,ft()),c;switch(o.finishedWork=y,o.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:Pa(o,Zn,_s);break;case 3:if(fo(o,p),(p&130023424)===p&&(a=J_+500-ft(),10<a)){if(da(o,0)!==0)break;if(y=o.suspendedLanes,(y&p)!==p){Bn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=o_(Pa.bind(null,o,Zn,_s),a);break}Pa(o,Zn,_s);break;case 4:if(fo(o,p),(p&4194240)===p)break;for(a=o.eventTimes,y=-1;0<p;){var b=31-Fn(p);w=1<<b,b=a[b],b>y&&(y=b),p&=~w}if(p=y,p=ft()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*_L(p/1960))-p,10<p){o.timeoutHandle=o_(Pa.bind(null,o,Zn,_s),p);break}Pa(o,Zn,_s);break;case 5:Pa(o,Zn,_s);break;default:throw Error(t(329))}}}return er(o,ft()),o.callbackNode===c?RS.bind(null,o):null}function ev(o,a){var c=yd;return o.current.memoizedState.isDehydrated&&(Aa(o,a).flags|=256),o=Np(o,a),o!==2&&(a=Zn,Zn=c,a!==null&&tv(a)),o}function tv(o){Zn===null?Zn=o:Zn.push.apply(Zn,o)}function vL(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],w=y.getSnapshot;y=y.value;try{if(!ri(w(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function fo(o,a){for(a&=~Y_,a&=~Pp,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-Fn(a),p=1<<c;o[c]=-1,a&=~p}}function AS(o){if(Ze&6)throw Error(t(327));nu();var a=da(o,0);if(!(a&1))return er(o,ft()),null;var c=Np(o,a);if(o.tag!==0&&c===2){var p=cr(o);p!==0&&(a=p,c=ev(o,p))}if(c===1)throw c=gd,Aa(o,0),fo(o,a),er(o,ft()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Pa(o,Zn,_s),er(o,ft()),null}function nv(o,a){var c=Ze;Ze|=1;try{return o(a)}finally{Ze=c,Ze===0&&(tu=ft()+500,op&&so())}}function Ra(o){co!==null&&co.tag===0&&!(Ze&6)&&nu();var a=Ze;Ze|=1;var c=Fr.transition,p=Ke;try{if(Fr.transition=null,Ke=1,o)return o()}finally{Ke=p,Fr.transition=c,Ze=a,!(Ze&6)&&so()}}function rv(){mr=eu.current,_t(eu)}function Aa(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,QD(c)),Gt!==null)for(c=Gt.return;c!==null;){var p=c;switch(h_(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&ip();break;case 3:Jl(),_t(Yn),_t(bn),R_();break;case 5:T_(p);break;case 4:Jl();break;case 13:_t(Ct);break;case 19:_t(Ct);break;case 10:__(p.type._context);break;case 22:case 23:rv()}c=c.return}if(fn=o,Gt=o=po(o.current,null),In=mr=a,an=0,gd=null,Y_=Pp=Sa=0,Zn=yd=null,Ea!==null){for(a=0;a<Ea.length;a++)if(c=Ea[a],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,w=c.pending;if(w!==null){var b=w.next;w.next=y,p.next=b}c.pending=p}Ea=null}return o}function PS(o,a){do{var c=Gt;try{if(y_(),gp.current=wp,yp){for(var p=kt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}yp=!1}if(Ta=0,hn=on=kt=null,cd=!1,dd=0,Q_.current=null,c===null||c.return===null){an=1,gd=a,Gt=null;break}e:{var w=o,b=c.return,U=c,z=a;if(a=In,U.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var ee=z,ce=U,fe=ce.tag;if(!(ce.mode&1)&&(fe===0||fe===11||fe===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var we=XT(b);if(we!==null){we.flags&=-257,ZT(we,b,U,w,a),we.mode&1&&JT(w,ee,a),a=we,z=ee;var Se=a.updateQueue;if(Se===null){var Ae=new Set;Ae.add(z),a.updateQueue=Ae}else Se.add(z);break e}else{if(!(a&1)){JT(w,ee,a),iv();break e}z=Error(t(426))}}else if(It&&U.mode&1){var zt=XT(b);if(zt!==null){!(zt.flags&65536)&&(zt.flags|=256),ZT(zt,b,U,w,a),m_(Xl(z,U));break e}}w=z=Xl(z,U),an!==4&&(an=2),yd===null?yd=[w]:yd.push(w),w=b;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var Y=QT(w,z,a);IT(w,Y);break e;case 1:U=z;var q=w.type,J=w.stateNode;if(!(w.flags&128)&&(typeof q.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(uo===null||!uo.has(J)))){w.flags|=65536,a&=-a,w.lanes|=a;var ge=YT(w,U,a);IT(w,ge);break e}}w=w.return}while(w!==null)}kS(c)}catch(Pe){a=Pe,Gt===c&&c!==null&&(Gt=c=c.return);continue}break}while(!0)}function bS(){var o=Ap.current;return Ap.current=wp,o===null?wp:o}function iv(){(an===0||an===3||an===2)&&(an=4),fn===null||!(Sa&268435455)&&!(Pp&268435455)||fo(fn,In)}function Np(o,a){var c=Ze;Ze|=2;var p=bS();(fn!==o||In!==a)&&(_s=null,Aa(o,a));do try{wL();break}catch(y){PS(o,y)}while(!0);if(y_(),Ze=c,Ap.current=p,Gt!==null)throw Error(t(261));return fn=null,In=0,an}function wL(){for(;Gt!==null;)CS(Gt)}function EL(){for(;Gt!==null&&!kf();)CS(Gt)}function CS(o){var a=NS(o.alternate,o,mr);o.memoizedProps=o.pendingProps,a===null?kS(o):Gt=a,Q_.current=null}function kS(o){var a=o;do{var c=a.alternate;if(o=a.return,a.flags&32768){if(c=pL(c,a),c!==null){c.flags&=32767,Gt=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{an=6,Gt=null;return}}else if(c=fL(c,a,mr),c!==null){Gt=c;return}if(a=a.sibling,a!==null){Gt=a;return}Gt=a=o}while(a!==null);an===0&&(an=5)}function Pa(o,a,c){var p=Ke,y=Fr.transition;try{Fr.transition=null,Ke=1,IL(o,a,c,p)}finally{Fr.transition=y,Ke=p}return null}function IL(o,a,c,p){do nu();while(co!==null);if(Ze&6)throw Error(t(327));c=o.finishedWork;var y=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var w=c.lanes|c.childLanes;if(ct(o,w),o===fn&&(Gt=fn=null,In=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||Cp||(Cp=!0,DS(xr,function(){return nu(),null})),w=(c.flags&15990)!==0,c.subtreeFlags&15990||w){w=Fr.transition,Fr.transition=null;var b=Ke;Ke=1;var U=Ze;Ze|=4,Q_.current=null,gL(o,c),wS(c,o),zD(i_),Zs=!!r_,i_=r_=null,o.current=c,yL(c),By(),Ze=U,Ke=b,Fr.transition=w}else o.current=c;if(Cp&&(Cp=!1,co=o,kp=y),w=o.pendingLanes,w===0&&(uo=null),Nf(c.stateNode),er(o,ft()),a!==null)for(p=o.onRecoverableError,c=0;c<a.length;c++)y=a[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(bp)throw bp=!1,o=X_,X_=null,o;return kp&1&&o.tag!==0&&nu(),w=o.pendingLanes,w&1?o===Z_?_d++:(_d=0,Z_=o):_d=0,so(),null}function nu(){if(co!==null){var o=Js(kp),a=Fr.transition,c=Ke;try{if(Fr.transition=null,Ke=16>o?16:o,co===null)var p=!1;else{if(o=co,co=null,kp=0,Ze&6)throw Error(t(331));var y=Ze;for(Ze|=4,Ie=o.current;Ie!==null;){var w=Ie,b=w.child;if(Ie.flags&16){var U=w.deletions;if(U!==null){for(var z=0;z<U.length;z++){var ee=U[z];for(Ie=ee;Ie!==null;){var ce=Ie;switch(ce.tag){case 0:case 11:case 15:md(8,ce,w)}var fe=ce.child;if(fe!==null)fe.return=ce,Ie=fe;else for(;Ie!==null;){ce=Ie;var le=ce.sibling,we=ce.return;if(mS(ce),ce===ee){Ie=null;break}if(le!==null){le.return=we,Ie=le;break}Ie=we}}}var Se=w.alternate;if(Se!==null){var Ae=Se.child;if(Ae!==null){Se.child=null;do{var zt=Ae.sibling;Ae.sibling=null,Ae=zt}while(Ae!==null)}}Ie=w}}if(w.subtreeFlags&2064&&b!==null)b.return=w,Ie=b;else e:for(;Ie!==null;){if(w=Ie,w.flags&2048)switch(w.tag){case 0:case 11:case 15:md(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,Ie=Y;break e}Ie=w.return}}var q=o.current;for(Ie=q;Ie!==null;){b=Ie;var J=b.child;if(b.subtreeFlags&2064&&J!==null)J.return=b,Ie=J;else e:for(b=q;Ie!==null;){if(U=Ie,U.flags&2048)try{switch(U.tag){case 0:case 11:case 15:Rp(9,U)}}catch(Pe){Lt(U,U.return,Pe)}if(U===b){Ie=null;break e}var ge=U.sibling;if(ge!==null){ge.return=U.return,Ie=ge;break e}Ie=U.return}}if(Ze=y,so(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(ca,o)}catch{}p=!0}return p}finally{Ke=c,Fr.transition=a}}return!1}function xS(o,a,c){a=Xl(c,a),a=QT(o,a,1),o=ao(o,a,1),a=Bn(),o!==null&&(Qs(o,1,a),er(o,a))}function Lt(o,a,c){if(o.tag===3)xS(o,o,c);else for(;a!==null;){if(a.tag===3){xS(a,o,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(uo===null||!uo.has(p))){o=Xl(c,o),o=YT(a,o,1),a=ao(a,o,1),o=Bn(),a!==null&&(Qs(a,1,o),er(a,o));break}}a=a.return}}function TL(o,a,c){var p=o.pingCache;p!==null&&p.delete(a),a=Bn(),o.pingedLanes|=o.suspendedLanes&c,fn===o&&(In&c)===c&&(an===4||an===3&&(In&130023424)===In&&500>ft()-J_?Aa(o,0):Y_|=c),er(o,a)}function OS(o,a){a===0&&(o.mode&1?(a=Rl,Rl<<=1,!(Rl&130023424)&&(Rl=4194304)):a=1);var c=Bn();o=ms(o,a),o!==null&&(Qs(o,a,c),er(o,c))}function SL(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),OS(o,c)}function RL(o,a){var c=0;switch(o.tag){case 13:var p=o.stateNode,y=o.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),OS(o,c)}var NS;NS=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||Yn.current)Xn=!0;else{if(!(o.lanes&c)&&!(a.flags&128))return Xn=!1,hL(o,a,c);Xn=!!(o.flags&131072)}else Xn=!1,It&&a.flags&1048576&&hT(a,lp,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Tp(o,a),o=a.pendingProps;var y=Wl(a,bn.current);Yl(a,c),y=b_(null,a,p,o,y,c);var w=C_();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Jn(p)?(w=!0,sp(a)):w=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,E_(a),y.updater=Ep,a.stateNode=y,y._reactInternals=a,L_(a,p,o,c),a=U_(null,a,p,!0,w,c)):(a.tag=0,It&&w&&d_(a),$n(null,a,y,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Tp(o,a),o=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=PL(p),o=si(p,o),y){case 0:a=F_(null,a,p,o,c);break e;case 1:a=sS(null,a,p,o,c);break e;case 11:a=eS(null,a,p,o,c);break e;case 14:a=tS(null,a,p,si(p.type,o),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:si(p,y),F_(o,a,p,y,c);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:si(p,y),sS(o,a,p,y,c);case 3:e:{if(oS(a),o===null)throw Error(t(387));p=a.pendingProps,w=a.memoizedState,y=w.element,ET(o,a),pp(a,p,null,c);var b=a.memoizedState;if(p=b.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){y=Xl(Error(t(423)),a),a=aS(o,a,p,c,y);break e}else if(p!==y){y=Xl(Error(t(424)),a),a=aS(o,a,p,c,y);break e}else for(pr=no(a.stateNode.containerInfo.firstChild),fr=a,It=!0,ii=null,c=vT(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Kl(),p===y){a=ys(o,a,c);break e}$n(o,a,p,c)}a=a.child}return a;case 5:return ST(a),o===null&&p_(a),p=a.type,y=a.pendingProps,w=o!==null?o.memoizedProps:null,b=y.children,s_(p,y)?b=null:w!==null&&s_(p,w)&&(a.flags|=32),iS(o,a),$n(o,a,b,c),a.child;case 6:return o===null&&p_(a),null;case 13:return lS(o,a,c);case 4:return I_(a,a.stateNode.containerInfo),p=a.pendingProps,o===null?a.child=Gl(a,null,p,c):$n(o,a,p,c),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:si(p,y),eS(o,a,p,y,c);case 7:return $n(o,a,a.pendingProps,c),a.child;case 8:return $n(o,a,a.pendingProps.children,c),a.child;case 12:return $n(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,w=a.memoizedProps,b=y.value,pt(dp,p._currentValue),p._currentValue=b,w!==null)if(ri(w.value,b)){if(w.children===y.children&&!Yn.current){a=ys(o,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var U=w.dependencies;if(U!==null){b=w.child;for(var z=U.firstContext;z!==null;){if(z.context===p){if(w.tag===1){z=gs(-1,c&-c),z.tag=2;var ee=w.updateQueue;if(ee!==null){ee=ee.shared;var ce=ee.pending;ce===null?z.next=z:(z.next=ce.next,ce.next=z),ee.pending=z}}w.lanes|=c,z=w.alternate,z!==null&&(z.lanes|=c),v_(w.return,c,a),U.lanes|=c;break}z=z.next}}else if(w.tag===10)b=w.type===a.type?null:w.child;else if(w.tag===18){if(b=w.return,b===null)throw Error(t(341));b.lanes|=c,U=b.alternate,U!==null&&(U.lanes|=c),v_(b,c,a),b=w.sibling}else b=w.child;if(b!==null)b.return=w;else for(b=w;b!==null;){if(b===a){b=null;break}if(w=b.sibling,w!==null){w.return=b.return,b=w;break}b=b.return}w=b}$n(o,a,y.children,c),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,Yl(a,c),y=Vr(y),p=p(y),a.flags|=1,$n(o,a,p,c),a.child;case 14:return p=a.type,y=si(p,a.pendingProps),y=si(p.type,y),tS(o,a,p,y,c);case 15:return nS(o,a,a.type,a.pendingProps,c);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:si(p,y),Tp(o,a),a.tag=1,Jn(p)?(o=!0,sp(a)):o=!1,Yl(a,c),KT(a,p,y),L_(a,p,y,c),U_(null,a,p,!0,o,c);case 19:return cS(o,a,c);case 22:return rS(o,a,c)}throw Error(t(156,a.tag))};function DS(o,a){return Tl(o,a)}function AL(o,a,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(o,a,c,p){return new AL(o,a,c,p)}function sv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function PL(o){if(typeof o=="function")return sv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===k)return 11;if(o===F)return 14}return 2}function po(o,a){var c=o.alternate;return c===null?(c=Ur(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Dp(o,a,c,p,y,w){var b=2;if(p=o,typeof o=="function")sv(o)&&(b=1);else if(typeof o=="string")b=5;else e:switch(o){case D:return ba(c.children,y,w,a);case A:b=8,y|=8;break;case C:return o=Ur(12,c,a,y|2),o.elementType=C,o.lanes=w,o;case O:return o=Ur(13,c,a,y),o.elementType=O,o.lanes=w,o;case X:return o=Ur(19,c,a,y),o.elementType=X,o.lanes=w,o;case oe:return Lp(c,y,w,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:b=10;break e;case x:b=9;break e;case k:b=11;break e;case F:b=14;break e;case me:b=16,p=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Ur(b,c,a,y),a.elementType=o,a.type=p,a.lanes=w,a}function ba(o,a,c,p){return o=Ur(7,o,p,a),o.lanes=c,o}function Lp(o,a,c,p){return o=Ur(22,o,p,a),o.elementType=oe,o.lanes=c,o.stateNode={isHidden:!1},o}function ov(o,a,c){return o=Ur(6,o,null,a),o.lanes=c,o}function av(o,a,c){return a=Ur(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function bL(o,a,c,p,y){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gs(0),this.expirationTimes=Gs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function lv(o,a,c,p,y,w,b,U,z){return o=new bL(o,a,c,U,z),a===1?(a=1,w===!0&&(a|=8)):a=0,w=Ur(3,null,null,a),o.current=w,w.stateNode=o,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},E_(w),o}function CL(o,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:p==null?null:""+p,children:o,containerInfo:a,implementation:c}}function LS(o){if(!o)return io;o=o._reactInternals;e:{if(Yr(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Jn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Jn(c))return uT(o,c,a)}return a}function VS(o,a,c,p,y,w,b,U,z){return o=lv(c,p,!0,o,y,w,b,U,z),o.context=LS(null),c=o.current,p=Bn(),y=ho(c),w=gs(p,y),w.callback=a??null,ao(c,w,y),o.current.lanes=y,Qs(o,y,p),er(o,p),o}function Vp(o,a,c,p){var y=a.current,w=Bn(),b=ho(y);return c=LS(c),a.context===null?a.context=c:a.pendingContext=c,a=gs(w,b),a.payload={element:o},p=p===void 0?null:p,p!==null&&(a.callback=p),o=ao(y,a,b),o!==null&&(li(o,y,b,w),fp(o,y,b)),b}function Mp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function MS(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function uv(o,a){MS(o,a),(o=o.alternate)&&MS(o,a)}function kL(){return null}var FS=typeof reportError=="function"?reportError:function(o){console.error(o)};function cv(o){this._internalRoot=o}Fp.prototype.render=cv.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Vp(o,a,null,null)},Fp.prototype.unmount=cv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Ra(function(){Vp(null,o,null,null)}),a[ds]=null}};function Fp(o){this._internalRoot=o}Fp.prototype.unstable_scheduleHydration=function(o){if(o){var a=Ff();o={blockedOn:null,target:o,priority:a};for(var c=0;c<Ei.length&&a!==0&&a<Ei[c].priority;c++);Ei.splice(c,0,o),c===0&&Bf(o)}};function dv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Up(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function US(){}function xL(o,a,c,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var ee=Mp(b);w.call(ee)}}var b=VS(a,p,o,0,null,!1,!1,"",US);return o._reactRootContainer=b,o[ds]=b.current,nd(o.nodeType===8?o.parentNode:o),Ra(),b}for(;y=o.lastChild;)o.removeChild(y);if(typeof p=="function"){var U=p;p=function(){var ee=Mp(z);U.call(ee)}}var z=lv(o,0,!1,null,null,!1,!1,"",US);return o._reactRootContainer=z,o[ds]=z.current,nd(o.nodeType===8?o.parentNode:o),Ra(function(){Vp(a,z,c,p)}),z}function $p(o,a,c,p,y){var w=c._reactRootContainer;if(w){var b=w;if(typeof y=="function"){var U=y;y=function(){var z=Mp(b);U.call(z)}}Vp(a,b,o,y)}else b=xL(c,a,o,y,p);return Mp(b)}Vf=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=Ks(a.pendingLanes);c!==0&&(Ys(a,c|1),er(a,ft()),!(Ze&6)&&(tu=ft()+500,so()))}break;case 13:Ra(function(){var p=ms(o,1);if(p!==null){var y=Bn();li(p,o,1,y)}}),uv(o,1)}},Al=function(o){if(o.tag===13){var a=ms(o,134217728);if(a!==null){var c=Bn();li(a,o,134217728,c)}uv(o,134217728)}},Mf=function(o){if(o.tag===13){var a=ho(o),c=ms(o,a);if(c!==null){var p=Bn();li(c,o,a,p)}uv(o,a)}},Ff=function(){return Ke},Uf=function(o,a){var c=Ke;try{return Ke=o,a()}finally{Ke=c}},yl=function(o,a,c){switch(a){case"input":if(Cr(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==o&&p.form===o.form){var y=rp(p);if(!y)throw Error(t(90));st(p),Cr(p,y)}}}break;case"textarea":ml(o,c);break;case"select":a=c.value,a!=null&&rs(o,!!c.multiple,a,!1)}},sa=nv,Mc=Ra;var OL={usingClientEntryPoint:!1,Events:[sd,zl,rp,vi,Vc,nv]},vd={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NL={bundleType:vd.bundleType,version:vd.version,rendererPackageName:vd.rendererPackageName,rendererConfig:vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=$c(o),o===null?null:o.stateNode},findFiberByHostInstance:vd.findFiberByHostInstance||kL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{ca=Bp.inject(NL),ur=Bp}catch{}}return tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OL,tr.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dv(a))throw Error(t(200));return CL(o,a,null,c)},tr.createRoot=function(o,a){if(!dv(o))throw Error(t(299));var c=!1,p="",y=FS;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=lv(o,1,!1,null,null,c,!1,p,y),o[ds]=a.current,nd(o.nodeType===8?o.parentNode:o),new cv(a)},tr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=$c(a),o=o===null?null:o.stateNode,o},tr.flushSync=function(o){return Ra(o)},tr.hydrate=function(o,a,c){if(!Up(a))throw Error(t(200));return $p(null,o,a,!0,c)},tr.hydrateRoot=function(o,a,c){if(!dv(o))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,y=!1,w="",b=FS;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),a=VS(a,null,o,1,c??null,y,!1,w,b),o[ds]=a.current,nd(o),p)for(o=0;o<p.length;o++)c=p[o],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Fp(a)},tr.render=function(o,a,c){if(!Up(a))throw Error(t(200));return $p(null,o,a,!1,c)},tr.unmountComponentAtNode=function(o){if(!Up(o))throw Error(t(40));return o._reactRootContainer?(Ra(function(){$p(null,null,o,!1,function(){o._reactRootContainer=null,o[ds]=null})}),!0):!1},tr.unstable_batchedUpdates=nv,tr.unstable_renderSubtreeIntoContainer=function(o,a,c,p){if(!Up(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return $p(o,a,c,!1,p)},tr.version="18.3.1-next-f1338f8080-20240426",tr}var qS;function $L(){if(qS)return fv.exports;qS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fv.exports=UL(),fv.exports}var HS;function BL(){if(HS)return zp;HS=1;var n=$L();return zp.createRoot=n.createRoot,zp.hydrateRoot=n.hydrateRoot,zp}var zL=BL(),qb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},KS=Ge.createContext&&Ge.createContext(qb),jL=["attr","size","title"];function WL(n,e){if(n==null)return{};var t=qL(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function qL(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Mm(){return Mm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mm.apply(this,arguments)}function GS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Fm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(t),!0).forEach(function(r){HL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):GS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function HL(n,e,t){return e=KL(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KL(n){var e=GL(n,"string");return typeof e=="symbol"?e:e+""}function GL(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Hb(n){return n&&n.map((e,t)=>Ge.createElement(e.tag,Fm({key:t},e.attr),Hb(e.child)))}function ac(n){return e=>Ge.createElement(QL,Mm({attr:Fm({},n.attr)},e),Hb(n.child))}function QL(n){var e=t=>{var{attr:r,size:i,title:s}=n,l=WL(n,jL),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Ge.createElement("svg",Mm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:Fm(Fm({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&Ge.createElement("title",null,s),n.children)};return KS!==void 0?Ge.createElement(KS.Consumer,null,t=>e(t)):e(qb)}function YL(n){return ac({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function JL(n){return ac({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function XL(n){return ac({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}const ZL="_fixed_m9orn_11",eV="_header_container_m9orn_23",tV="_logo_container_m9orn_39",nV="_delivery_m9orn_63",rV="_search_m9orn_85",iV="_order_container_m9orn_155",sV="_language_m9orn_183",oV="_cart_m9orn_209",aV="_lower_container_m9orn_241",Es={fixed:ZL,header_container:eV,logo_container:tV,delivery:nV,search:rV,order_container:iV,language:sV,cart:oV,lower_container:aV};function lV(n){return ac({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}var gv={exports:{}},wd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS;function uV(){if(QS)return wd;QS=1;var n=Ho(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var m,g={},_=null,T=null;h!==void 0&&(_=""+h),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(T=d.ref);for(m in d)r.call(d,m)&&!s.hasOwnProperty(m)&&(g[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:u,key:_,ref:T,props:g,_owner:i.current}}return wd.Fragment=t,wd.jsx=l,wd.jsxs=l,wd}var YS;function cV(){return YS||(YS=1,gv.exports=uV()),gv.exports}var _E=cV();const K=_E.jsx,ke=_E.jsxs,Um=_E.Fragment;function dV(){return K("div",{className:Es.lower_container,children:ke("ul",{children:[K("li",{children:K(lV,{})}),K("li",{children:"All"}),K("li",{children:"Today's Deals"}),K("li",{children:"Costumer Service"}),K("li",{children:"Registry"}),K("li",{children:"Gift Cards"}),K("li",{children:"Sell"})]})})}var Ed={},JS;function hV(){if(JS)return Ed;JS=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.parse=l,Ed.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,T){const I=new s,R=_.length;if(R<2)return I;const P=(T==null?void 0:T.decode)||m;let V=0;do{const L=_.indexOf("=",V);if(L===-1)break;const M=_.indexOf(";",V),B=M===-1?R:M;if(L>B){V=_.lastIndexOf(";",L-1)+1;continue}const $=u(_,V,L),j=d(_,L,$),D=_.slice($,j);if(I[D]===void 0){let A=u(_,L+1,B),C=d(_,B,A);const E=P(_.slice(A,C));I[D]=E}V=B+1}while(V<R);return I}function u(_,T,I){do{const R=_.charCodeAt(T);if(R!==32&&R!==9)return T}while(++T<I);return I}function d(_,T,I){for(;T>I;){const R=_.charCodeAt(--T);if(R!==32&&R!==9)return T+1}return I}function h(_,T,I){const R=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const P=R(T);if(!e.test(P))throw new TypeError(`argument val is invalid: ${T}`);let V=_+"="+P;if(!I)return V;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);V+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);V+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);V+="; Path="+I.path}if(I.expires){if(!g(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);V+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(V+="; HttpOnly"),I.secure&&(V+="; Secure"),I.partitioned&&(V+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return V}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function g(_){return i.call(_)==="[object Date]"}return Ed}hV();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var XS="popstate";function fV(n={}){function e(r,i){let{pathname:s,search:l,hash:u}=r.location;return nw("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:gh(i)}return mV(e,t,null,n)}function Ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pV(){return Math.random().toString(36).substring(2,10)}function ZS(n,e){return{usr:n.state,key:n.key,idx:e}}function nw(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?lc(e):e,state:t,key:e&&e.key||r||pV()}}function gh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function lc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function mV(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",d=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let P=m(),V=P==null?null:P-h;h=P,d&&d({action:u,location:R.location,delta:V})}function _(P,V){u="PUSH";let L=nw(R.location,P,V);h=m()+1;let M=ZS(L,h),B=R.createHref(L);try{l.pushState(M,"",B)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(B)}s&&d&&d({action:u,location:R.location,delta:1})}function T(P,V){u="REPLACE";let L=nw(R.location,P,V);h=m();let M=ZS(L,h),B=R.createHref(L);l.replaceState(M,"",B),s&&d&&d({action:u,location:R.location,delta:0})}function I(P){let V=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof P=="string"?P:gh(P);return L=L.replace(/ $/,"%20"),Ot(V,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,V)}let R={get action(){return u},get location(){return n(i,l)},listen(P){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(XS,g),d=P,()=>{i.removeEventListener(XS,g),d=null}},createHref(P){return e(i,P)},createURL:I,encodeLocation(P){let V=I(P);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:_,replace:T,go(P){return l.go(P)}};return R}function Kb(n,e,t="/"){return gV(n,e,t,!1)}function gV(n,e,t,r){let i=typeof e=="string"?lc(e):e,s=Oo(i.pathname||"/",t);if(s==null)return null;let l=Gb(n);yV(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=bV(s);u=AV(l[d],h,r)}return u}function Gb(n,e=[],t=[],r=""){let i=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(Ot(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=bs([r,d.relativePath]),m=t.concat(d);s.children&&s.children.length>0&&(Ot(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Gb(s.children,e,m,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:SV(h,s.index),routesMeta:m})};return n.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let d of Qb(s.path))i(s,l,d)}),e}function Qb(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=Qb(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function yV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:RV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var _V=/^:[\w-]+$/,vV=3,wV=2,EV=1,IV=10,TV=-2,eR=n=>n==="*";function SV(n,e){let t=n.split("/"),r=t.length;return t.some(eR)&&(r+=TV),e&&(r+=wV),t.filter(i=>!eR(i)).reduce((i,s)=>i+(_V.test(s)?vV:s===""?EV:IV),r)}function RV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function AV(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=$m({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),_=d.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=$m({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:bs([s,g.pathname]),pathnameBase:OV(bs([s,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(s=bs([s,g.pathnameBase]))}return l}function $m(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=PV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},_)=>{if(m==="*"){let I=u[_]||"";l=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const T=u[_];return g&&!T?h[m]=void 0:h[m]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:n}}function PV(n,e=!1,t=!0){Gi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function bV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Oo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function CV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?lc(n):n;return{pathname:t?t.startsWith("/")?t:kV(t,e):e,search:NV(r),hash:DV(i)}}function kV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function yv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Yb(n){let e=xV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Jb(n,e,t,r=!1){let i;typeof n=="string"?i=lc(n):(i={...n},Ot(!i.pathname||!i.pathname.includes("?"),yv("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),yv("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),yv("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}u=g>=0?e[g]:"/"}let d=CV(i,u),h=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var bs=n=>n.join("/").replace(/\/\/+/g,"/"),OV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),NV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,DV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function LV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Xb=["POST","PUT","PATCH","DELETE"];new Set(Xb);var VV=["GET",...Xb];new Set(VV);var uc=H.createContext(null);uc.displayName="DataRouter";var Rg=H.createContext(null);Rg.displayName="DataRouterState";var Zb=H.createContext({isTransitioning:!1});Zb.displayName="ViewTransition";var MV=H.createContext(new Map);MV.displayName="Fetchers";var FV=H.createContext(null);FV.displayName="Await";var es=H.createContext(null);es.displayName="Navigation";var Hh=H.createContext(null);Hh.displayName="Location";var ts=H.createContext({outlet:null,matches:[],isDataRoute:!1});ts.displayName="Route";var vE=H.createContext(null);vE.displayName="RouteError";function UV(n,{relative:e}={}){Ot(Kh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=H.useContext(es),{hash:i,pathname:s,search:l}=Gh(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:bs([t,s])),r.createHref({pathname:u,search:l,hash:i})}function Kh(){return H.useContext(Hh)!=null}function Ko(){return Ot(Kh(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Hh).location}var eC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tC(n){H.useContext(es).static||H.useLayoutEffect(n)}function Ag(){let{isDataRoute:n}=H.useContext(ts);return n?XV():$V()}function $V(){Ot(Kh(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(uc),{basename:e,navigator:t}=H.useContext(es),{matches:r}=H.useContext(ts),{pathname:i}=Ko(),s=JSON.stringify(Yb(r)),l=H.useRef(!1);return tC(()=>{l.current=!0}),H.useCallback((d,h={})=>{if(Gi(l.current,eC),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=Jb(d,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:bs([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,s,i,n])}H.createContext(null);function nC(){let{matches:n}=H.useContext(ts),e=n[n.length-1];return e?e.params:{}}function Gh(n,{relative:e}={}){let{matches:t}=H.useContext(ts),{pathname:r}=Ko(),i=JSON.stringify(Yb(t));return H.useMemo(()=>Jb(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function BV(n,e){return rC(n,e)}function rC(n,e,t,r){var L;Ot(Kh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=H.useContext(es),{matches:l}=H.useContext(ts),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let M=g&&g.path||"";iC(h,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let _=Ko(),T;if(e){let M=typeof e=="string"?lc(e):e;Ot(m==="/"||((L=M.pathname)==null?void 0:L.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),T=M}else T=_;let I=T.pathname||"/",R=I;if(m!=="/"){let M=m.replace(/^\//,"").split("/");R="/"+I.replace(/^\//,"").split("/").slice(M.length).join("/")}let P=!s&&t&&t.matches&&t.matches.length>0?t.matches:Kb(n,{pathname:R});Gi(g||P!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Gi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=HV(P&&P.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:bs([m,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:bs([m,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,r);return e&&V?H.createElement(Hh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},V):V}function zV(){let n=JV(),e=LV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:s},"ErrorBoundary")," or"," ",H.createElement("code",{style:s},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:i},t):null,l)}var jV=H.createElement(zV,null),WV=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?H.createElement(ts.Provider,{value:this.props.routeContext},H.createElement(vE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qV({routeContext:n,match:e,children:t}){let r=H.useContext(uc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(ts.Provider,{value:n},t)}function HV(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let d=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);Ot(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=t,_=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let g,_=!1,T=null,I=null;t&&(g=s&&h.route.id?s[h.route.id]:void 0,T=h.route.errorElement||jV,l&&(u<0&&m===0?(iC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,I=null):u===m&&(_=!0,I=h.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,m+1)),P=()=>{let V;return g?V=T:_?V=I:h.route.Component?V=H.createElement(h.route.Component,null):h.route.element?V=h.route.element:V=d,H.createElement(qV,{match:h,routeContext:{outlet:d,matches:R,isDataRoute:t!=null},children:V})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?H.createElement(WV,{location:t.location,revalidation:t.revalidation,component:T,error:g,children:P(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):P()},null)}function wE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KV(n){let e=H.useContext(uc);return Ot(e,wE(n)),e}function GV(n){let e=H.useContext(Rg);return Ot(e,wE(n)),e}function QV(n){let e=H.useContext(ts);return Ot(e,wE(n)),e}function EE(n){let e=QV(n),t=e.matches[e.matches.length-1];return Ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function YV(){return EE("useRouteId")}function JV(){var r;let n=H.useContext(vE),e=GV("useRouteError"),t=EE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function XV(){let{router:n}=KV("useNavigate"),e=EE("useNavigate"),t=H.useRef(!1);return tC(()=>{t.current=!0}),H.useCallback(async(i,s={})=>{Gi(t.current,eC),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var tR={};function iC(n,e,t){!e&&!tR[n]&&(tR[n]=!0,Gi(!1,t))}H.memo(ZV);function ZV({routes:n,future:e,state:t}){return rC(n,void 0,t,e)}function Io(n){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eM({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Ot(!Kh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=H.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=lc(t));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:_="default"}=t,T=H.useMemo(()=>{let I=Oo(d,l);return I==null?null:{location:{pathname:I,search:h,hash:m,state:g,key:_},navigationType:r}},[l,d,h,m,g,_,r]);return Gi(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:H.createElement(es.Provider,{value:u},H.createElement(Hh.Provider,{children:e,value:T}))}function tM({children:n,location:e}){return BV(rw(n),e)}function rw(n,e=[]){let t=[];return H.Children.forEach(n,(r,i)=>{if(!H.isValidElement(r))return;let s=[...e,i];if(r.type===H.Fragment){t.push.apply(t,rw(r.props.children,s));return}Ot(r.type===Io,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=rw(r.props.children,s)),t.push(l)}),t}var am="get",lm="application/x-www-form-urlencoded";function Pg(n){return n!=null&&typeof n.tagName=="string"}function nM(n){return Pg(n)&&n.tagName.toLowerCase()==="button"}function rM(n){return Pg(n)&&n.tagName.toLowerCase()==="form"}function iM(n){return Pg(n)&&n.tagName.toLowerCase()==="input"}function sM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oM(n,e){return n.button===0&&(!e||e==="_self")&&!sM(n)}var jp=null;function aM(){if(jp===null)try{new FormData(document.createElement("form"),0),jp=!1}catch{jp=!0}return jp}var lM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _v(n){return n!=null&&!lM.has(n)?(Gi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lm}"`),null):n}function uM(n,e){let t,r,i,s,l;if(rM(n)){let u=n.getAttribute("action");r=u?Oo(u,e):null,t=n.getAttribute("method")||am,i=_v(n.getAttribute("enctype"))||lm,s=new FormData(n)}else if(nM(n)||iM(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?Oo(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||am,i=_v(n.getAttribute("formenctype"))||_v(u.getAttribute("enctype"))||lm,s=new FormData(u,n),!aM()){let{name:h,type:m,value:g}=n;if(m==="image"){let _=h?`${h}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else h&&s.append(h,g)}}else{if(Pg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=am,r=null,i=lm,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}function IE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function cM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function hM(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await cM(s,t);return l.links?l.links():[]}return[]}));return gM(r.flat(1).filter(dM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function nR(n,e,t,r,i,s){let l=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,u=(d,h)=>{var m;return t[h].pathname!==d.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return s==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):s==="data"?e.filter((d,h)=>{var g;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function fM(n,e,{includeHydrateFallback:t}={}){return pM(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function pM(n){return[...new Set(n)]}function mM(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function gM(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(mM(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function yM(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function _M(){let n=H.useContext(uc);return IE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function vM(){let n=H.useContext(Rg);return IE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var TE=H.createContext(void 0);TE.displayName="FrameworkContext";function sC(){let n=H.useContext(TE);return IE(n,"You must render this element inside a <HydratedRouter> element"),n}function wM(n,e){let t=H.useContext(TE),[r,i]=H.useState(!1),[s,l]=H.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,_=H.useRef(null);H.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=V=>{V.forEach(L=>{l(L.isIntersecting)})},P=new IntersectionObserver(R,{threshold:.5});return _.current&&P.observe(_.current),()=>{P.disconnect()}}},[n]),H.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let T=()=>{i(!0)},I=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,_,{}]:[s,_,{onFocus:Id(u,T),onBlur:Id(d,I),onMouseEnter:Id(h,T),onMouseLeave:Id(m,I),onTouchStart:Id(g,T)}]:[!1,_,{}]}function Id(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function EM({page:n,...e}){let{router:t}=_M(),r=H.useMemo(()=>Kb(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?H.createElement(TM,{page:n,matches:r,...e}):null}function IM(n){let{manifest:e,routeModules:t}=sC(),[r,i]=H.useState([]);return H.useEffect(()=>{let s=!1;return hM(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function TM({page:n,matches:e,...t}){let r=Ko(),{manifest:i,routeModules:s}=sC(),{loaderData:l,matches:u}=vM(),d=H.useMemo(()=>nR(n,e,u,i,r,"data"),[n,e,u,i,r]),h=H.useMemo(()=>nR(n,e,u,i,r,"assets"),[n,e,u,i,r]),m=H.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,I=!1;if(e.forEach(P=>{var L;let V=i.routes[P.route.id];!V||!V.hasLoader||(!d.some(M=>M.route.id===P.route.id)&&P.route.id in l&&((L=s[P.route.id])!=null&&L.shouldRevalidate)||V.hasClientLoader?I=!0:T.add(P.route.id))}),T.size===0)return[];let R=yM(n);return I&&T.size>0&&R.searchParams.set("_routes",e.filter(P=>T.has(P.route.id)).map(P=>P.route.id).join(",")),[R.pathname+R.search]},[l,r,i,d,e,n,s]),g=H.useMemo(()=>fM(h,i),[h,i]),_=IM(h);return H.createElement(H.Fragment,null,m.map(T=>H.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),g.map(T=>H.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),_.map(({key:T,link:I})=>H.createElement("link",{key:T,...I})))}function SM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oC&&(window.__reactRouterVersion="7.2.0")}catch{}function RM({basename:n,children:e,window:t}){let r=H.useRef();r.current==null&&(r.current=fV({window:t,v5Compat:!0}));let i=r.current,[s,l]=H.useState({action:i.action,location:i.location}),u=H.useCallback(d=>{H.startTransition(()=>l(d))},[l]);return H.useLayoutEffect(()=>i.listen(u),[i,u]),H.createElement(eM,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var aC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,di=H.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:d,to:h,preventScrollReset:m,viewTransition:g,..._},T){let{basename:I}=H.useContext(es),R=typeof h=="string"&&aC.test(h),P,V=!1;if(typeof h=="string"&&R&&(P=h,oC))try{let C=new URL(window.location.href),E=h.startsWith("//")?new URL(C.protocol+h):new URL(h),x=Oo(E.pathname,I);E.origin===C.origin&&x!=null?h=x+E.search+E.hash:V=!0}catch{Gi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=UV(h,{relative:i}),[M,B,$]=wM(r,_),j=CM(h,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:g});function D(C){e&&e(C),C.defaultPrevented||j(C)}let A=H.createElement("a",{..._,...$,href:P||L,onClick:V||s?e:D,ref:SM(T,B),target:d,"data-discover":!R&&t==="render"?"true":void 0});return M&&!R?H.createElement(H.Fragment,null,A,H.createElement(EM,{page:L})):A});di.displayName="Link";var AM=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:d,...h},m){let g=Gh(l,{relative:h.relative}),_=Ko(),T=H.useContext(Rg),{navigator:I,basename:R}=H.useContext(es),P=T!=null&&DM(g)&&u===!0,V=I.encodeLocation?I.encodeLocation(g).pathname:g.pathname,L=_.pathname,M=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(L=L.toLowerCase(),M=M?M.toLowerCase():null,V=V.toLowerCase()),M&&R&&(M=Oo(M,R)||M);const B=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let $=L===V||!i&&L.startsWith(V)&&L.charAt(B)==="/",j=M!=null&&(M===V||!i&&M.startsWith(V)&&M.charAt(V.length)==="/"),D={isActive:$,isPending:j,isTransitioning:P},A=$?e:void 0,C;typeof r=="function"?C=r(D):C=[r,$?"active":null,j?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let E=typeof s=="function"?s(D):s;return H.createElement(di,{...h,"aria-current":A,className:C,ref:m,style:E,to:l,viewTransition:u},typeof d=="function"?d(D):d)});AM.displayName="NavLink";var PM=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=am,action:u,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:g,..._},T)=>{let I=OM(),R=NM(u,{relative:h}),P=l.toLowerCase()==="get"?"get":"post",V=typeof u=="string"&&aC.test(u),L=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let B=M.nativeEvent.submitter,$=(B==null?void 0:B.getAttribute("formmethod"))||l;I(B||M.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:i,state:s,relative:h,preventScrollReset:m,viewTransition:g})};return H.createElement("form",{ref:T,method:P,action:R,onSubmit:r?d:L,..._,"data-discover":!V&&n==="render"?"true":void 0})});PM.displayName="Form";function bM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lC(n){let e=H.useContext(uc);return Ot(e,bM(n)),e}function CM(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=Ag(),d=Ko(),h=Gh(n,{relative:s});return H.useCallback(m=>{if(oM(m,e)){m.preventDefault();let g=t!==void 0?t:gh(d)===gh(h);u(n,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[d,u,h,t,r,e,n,i,s,l])}var kM=0,xM=()=>`__${String(++kM)}__`;function OM(){let{router:n}=lC("useSubmit"),{basename:e}=H.useContext(es),t=YV();return H.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:d,body:h}=uM(r,e);if(i.navigate===!1){let m=i.fetcherKey||xM();await n.fetch(m,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function NM(n,{relative:e}={}){let{basename:t}=H.useContext(es),r=H.useContext(ts);Ot(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Gh(n||".",{relative:e})},l=Ko();if(n==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:bs([t,s.pathname])),gh(s)}function DM(n,e={}){let t=H.useContext(Zb);Ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=lC("useViewTransitionState"),i=Gh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Oo(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Oo(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $m(i.pathname,l)!=null||$m(i.pathname,s)!=null}new TextEncoder;const LM=()=>{};var rR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},VM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},cC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,h=d?n[i+2]:0,m=s>>2,g=(s&3)<<4|u>>4;let _=(u&15)<<2|h>>6,T=h&63;d||(T=64,l||(_=64)),r.push(t[m],t[g],t[_],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):VM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new MM;const _=s<<2|u>>4;if(r.push(_),h!==64){const T=u<<4&240|h>>2;if(r.push(T),g!==64){const I=h<<6&192|g;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class MM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FM=function(n){const e=uC(n);return cC.encodeByteArray(e,!0)},Bm=function(n){return FM(n).replace(/\./g,"")},bg=function(n){try{return cC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zm(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!UM(t)||(n[t]=zm(n[t],e[t]));return n}function UM(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=()=>dC().__FIREBASE_DEFAULTS__,BM=()=>{if(typeof process>"u"||typeof rR>"u")return;const n=rR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&bg(n[1]);return e&&JSON.parse(e)},Cg=()=>{try{return LM()||$M()||BM()||zM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jM=n=>{var e,t;return(t=(e=Cg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hC=()=>{var n;return(n=Cg())===null||n===void 0?void 0:n.config},SE=n=>{var e;return(e=Cg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bm(JSON.stringify(t)),Bm(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function RE(){var n;const e=(n=Cg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HM(){return typeof window<"u"||pC()}function pC(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function mC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function kg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PE(){const n=qe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function gC(){return!RE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yh(){try{return typeof indexedDB=="object"}catch{return!1}}function KM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="FirebaseError";class yn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=GM,Object.setPrototypeOf(this,yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ns.prototype.create)}}class ns{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?QM(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new yn(i,u,r)}}function QM(n,e){return n.replace(YM,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const YM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function yC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function fi(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],l=e[i];if(sR(s)&&sR(l)){if(!fi(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function sR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hi(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ui(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function bE(n,e){const t=new JM(n,e);return t.subscribe.bind(t)}class JM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");XM(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=vv),i.error===void 0&&(i.error=vv),i.complete===void 0&&(i.complete=vv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function vv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n){return n&&n._delegate?n._delegate:n}class Wr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new WM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t2(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e2(n){return n===xa?void 0:n}function t2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ZM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=[];var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const vC={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},n2=$e.INFO,r2={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},i2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=r2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qh{constructor(e){this.name=e,this._logLevel=n2,this._logHandler=i2,this._userLogHandler=null,CE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}function s2(n){CE.forEach(e=>{e.setLogLevel(n)})}function o2(n,e){for(const t of CE){let r=null;e&&e.level&&(r=vC[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...l)=>{const u=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");s>=(r??i.logLevel)&&n({level:$e[s].toLowerCase(),message:u,args:l,type:i.name})}}}const a2=(n,e)=>e.some(t=>n instanceof t);let oR,aR;function l2(){return oR||(oR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u2(){return aR||(aR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wC=new WeakMap,iw=new WeakMap,EC=new WeakMap,wv=new WeakMap,kE=new WeakMap;function c2(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(Po(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&wC.set(t,n)}).catch(()=>{}),kE.set(e,n),e}function d2(n){if(iw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});iw.set(n,e)}let sw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return iw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||EC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Po(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function h2(n){sw=n(sw)}function f2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ev(this),e,...t);return EC.set(r,e.sort?e.sort():[e]),Po(r)}:u2().includes(n)?function(...e){return n.apply(Ev(this),e),Po(wC.get(this))}:function(...e){return Po(n.apply(Ev(this),e))}}function p2(n){return typeof n=="function"?f2(n):(n instanceof IDBTransaction&&d2(n),a2(n,l2())?new Proxy(n,sw):n)}function Po(n){if(n instanceof IDBRequest)return c2(n);if(wv.has(n))return wv.get(n);const e=p2(n);return e!==n&&(wv.set(n,e),kE.set(e,n)),e}const Ev=n=>kE.get(n);function m2(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(n,e),u=Po(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Po(l.result),d.oldVersion,d.newVersion,Po(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const g2=["get","getKey","getAll","getAllKeys","count"],y2=["put","add","delete","clear"],Iv=new Map;function lR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Iv.get(e))return Iv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=y2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||g2.includes(t)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&d.done]))[0]};return Iv.set(e,s),s}h2(n=>({...n,get:(e,t,r)=>lR(e,t)||n.get(e,t,r),has:(e,t)=>!!lR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(v2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function v2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jm="@firebase/app",ow="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Qh("@firebase/app"),w2="@firebase/app-compat",E2="@firebase/analytics-compat",I2="@firebase/analytics",T2="@firebase/app-check-compat",S2="@firebase/app-check",R2="@firebase/auth",A2="@firebase/auth-compat",P2="@firebase/database",b2="@firebase/data-connect",C2="@firebase/database-compat",k2="@firebase/functions",x2="@firebase/functions-compat",O2="@firebase/installations",N2="@firebase/installations-compat",D2="@firebase/messaging",L2="@firebase/messaging-compat",V2="@firebase/performance",M2="@firebase/performance-compat",F2="@firebase/remote-config",U2="@firebase/remote-config-compat",$2="@firebase/storage",B2="@firebase/storage-compat",z2="@firebase/firestore",j2="@firebase/vertexai",W2="@firebase/firestore-compat",q2="firebase",H2="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="[DEFAULT]",K2={[jm]:"fire-core",[w2]:"fire-core-compat",[I2]:"fire-analytics",[E2]:"fire-analytics-compat",[S2]:"fire-app-check",[T2]:"fire-app-check-compat",[R2]:"fire-auth",[A2]:"fire-auth-compat",[P2]:"fire-rtdb",[b2]:"fire-data-connect",[C2]:"fire-rtdb-compat",[k2]:"fire-fn",[x2]:"fire-fn-compat",[O2]:"fire-iid",[N2]:"fire-iid-compat",[D2]:"fire-fcm",[L2]:"fire-fcm-compat",[V2]:"fire-perf",[M2]:"fire-perf-compat",[F2]:"fire-rc",[U2]:"fire-rc-compat",[$2]:"fire-gcs",[B2]:"fire-gcs-compat",[z2]:"fire-fst",[W2]:"fire-fst-compat",[j2]:"fire-vertex","fire-js":"fire-js",[q2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new Map,Lu=new Map,Vu=new Map;function _h(n,e){try{n.container.addComponent(e)}catch(t){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function IC(n,e){n.container.addOrOverwriteComponent(e)}function Qi(n){const e=n.name;if(Vu.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;Vu.set(e,n);for(const t of Do.values())_h(t,n);for(const t of Lu.values())_h(t,n);return!0}function xg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function G2(n,e,t=No){xg(n,e).clearInstance(t)}function TC(n){return n.options!==void 0}function Qe(n){return n==null?!1:n.settings!==void 0}function Q2(){Vu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new ns("app","Firebase",Y2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SC=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(n,e){const t=bg(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class J2 extends SC{constructor(e,t,r,i){const s=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,l={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,l,i);else{const u=e;super(u.options,l,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},t),this._serverConfig.authIdToken&&uR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&uR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Ir(jm,ow,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){OE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw jr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=H2;function xE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:No,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jr.create("bad-app-name",{appName:String(i)});if(t||(t=hC()),!t)throw jr.create("no-options");const s=Do.get(i);if(s){if(fi(t,s.options)&&fi(r,s.config))return s;throw jr.create("duplicate-app",{appName:i})}const l=new _C(i);for(const d of Vu.values())l.addComponent(d);const u=new SC(t,r,l);return Do.set(i,u),u}function X2(n,e){if(HM()&&!pC())throw jr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;TC(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=h=>[...h].reduce((m,g)=>Math.imul(31,m)+g.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw jr.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),l=Lu.get(s);if(l)return l.incRefCount(e.releaseOnDeref),l;const u=new _C(s);for(const h of Vu.values())u.addComponent(h);const d=new J2(t,e,s,u);return Lu.set(s,d),d}function RC(n=No){const e=Do.get(n);if(!e&&n===No&&hC())return xE();if(!e)throw jr.create("no-app",{appName:n});return e}function Z2(){return Array.from(Do.values())}async function OE(n){let e=!1;const t=n.name;Do.has(t)?(e=!0,Do.delete(t)):Lu.has(t)&&n.decRefCount()<=0&&(Lu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function Ir(n,e,t){var r;let i=(r=K2[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xs.warn(u.join(" "));return}Qi(new Wr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function AC(n,e){if(n!==null&&typeof n!="function")throw jr.create("invalid-log-argument");o2(n,e)}function PC(n){s2(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF="firebase-heartbeat-database",tF=1,vh="firebase-heartbeat-store";let Tv=null;function bC(){return Tv||(Tv=m2(eF,tF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vh)}catch(t){console.warn(t)}}}}).catch(n=>{throw jr.create("idb-open",{originalErrorMessage:n.message})})),Tv}async function nF(n){try{const t=(await bC()).transaction(vh),r=await t.objectStore(vh).get(CC(n));return await t.done,r}catch(e){if(e instanceof yn)xs.warn(e.message);else{const t=jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xs.warn(t.message)}}}async function cR(n,e){try{const r=(await bC()).transaction(vh,"readwrite");await r.objectStore(vh).put(e,CC(n)),await r.done}catch(t){if(t instanceof yn)xs.warn(t.message);else{const r=jr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});xs.warn(r.message)}}}function CC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=1024,iF=30;class sF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>iF){const l=lF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=dR(),{heartbeatsToSend:r,unsentEntries:i}=oF(this._heartbeatsCache.heartbeats),s=Bm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return xs.warn(t),""}}}function dR(){return new Date().toISOString().substring(0,10)}function oF(n,e=rF){const t=[];let r=n.slice();for(const i of n){const s=t.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),hR(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),hR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class aF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yh()?KM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nF(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return cR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return cR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hR(n){return Bm(JSON.stringify({version:2,heartbeats:n})).length}function lF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(n){Qi(new Wr("platform-logger",e=>new _2(e),"PRIVATE")),Qi(new Wr("heartbeat",e=>new sF(e),"PRIVATE")),Ir(jm,ow,n),Ir(jm,ow,"esm2017"),Ir("fire-js","")}uF("");const cF=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:yn,SDK_VERSION:Pr,_DEFAULT_ENTRY_NAME:No,_addComponent:_h,_addOrOverwriteComponent:IC,_apps:Do,_clearComponents:Q2,_components:Vu,_getProvider:xg,_isFirebaseApp:TC,_isFirebaseServerApp:Qe,_registerComponent:Qi,_removeServiceInstance:G2,_serverApps:Lu,deleteApp:OE,getApp:RC,getApps:Z2,initializeApp:xE,initializeServerApp:X2,onLog:AC,registerVersion:Ir,setLogLevel:PC},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,t){this._delegate=e,this.firebase=t,_h(e,new Wr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),OE(this._delegate)))}_getService(e,t=No){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=No){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){_h(this._delegate,e)}_addOrOverwriteComponent(e){IC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},fR=new ns("app-compat","Firebase",hF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(n){const e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:Ir,setLogLevel:PC,onLog:AC,apps:null,SDK_VERSION:Pr,INTERNAL:{registerComponent:u,removeApp:r,useAsService:d,modularAPIs:cF}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(h){delete e[h]}function i(h){if(h=h||No,!iR(e,h))throw fR.create("no-app",{appName:h});return e[h]}i.App=n;function s(h,m={}){const g=xE(h,m);if(iR(e,g.name))return e[g.name];const _=new n(g,t);return e[g.name]=_,_}function l(){return Object.keys(e).map(h=>e[h])}function u(h){const m=h.name,g=m.replace("-compat","");if(Qi(h)&&h.type==="PUBLIC"){const _=(T=i())=>{if(typeof T[g]!="function")throw fR.create("invalid-app-argument",{appName:m});return T[g]()};h.serviceProps!==void 0&&zm(_,h.serviceProps),t[g]=_,n.prototype[g]=function(...T){return this._getService.bind(this,m).apply(this,h.multipleInstances?T:[])}}return h.type==="PUBLIC"?t[g]:null}function d(h,m){return m==="serverAuth"?null:m}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(){const n=fF(dF);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:kC,extendNamespace:e,createSubscribe:bE,ErrorFactory:ns,deepExtend:zm});function e(t){zm(n,t)}return n}const pF=kC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=new Qh("@firebase/app-compat"),mF="@firebase/app-compat",gF="0.2.51";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(n){Ir(mF,gF,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=dC();if(n.firebase!==void 0){pR.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&pR.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const cc=pF;yF();var _F="firebase",vF="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cc.registerVersion(_F,vF,"app-compat");function dc(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function xC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wF=xC,OC=new ns("auth","Firebase",xC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=new Qh("@firebase/auth");function EF(n,...e){Wm.logLevel<=$e.WARN&&Wm.warn(`Auth (${Pr}): ${n}`,...e)}function um(n,...e){Wm.logLevel<=$e.ERROR&&Wm.error(`Auth (${Pr}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(n,...e){throw NE(n,...e)}function ji(n,...e){return NE(n,...e)}function NC(n,e,t){const r=Object.assign(Object.assign({},wF()),{[e]:t});return new ns("auth","Firebase",r).create(e,{appName:n.name})}function Cs(n){return NC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OC.create(n,...e)}function De(n,e,...t){if(!n)throw NE(e,...t)}function Ts(n){const e="INTERNAL ASSERTION FAILED: "+n;throw um(e),new Error(e)}function Os(n,e){n||Ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function IF(){return mR()==="http:"||mR()==="https:"}function mR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IF()||AE()||"connection"in navigator)?navigator.onLine:!0}function SF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Os(t>e,"Short delay should be less than long delay!"),this.isMobile=fC()||kg()}get(){return TF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(n,e){Os(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DC=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=new Yh(3e4,6e4);function Go(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Qo(n,e,t,r,i={}){return LC(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=gi(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:d},s);return mC()||(h.referrerPolicy="no-referrer"),DC.fetch()(VC(n,n.config.apiHost,t,u),h)})}async function LC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},RF),e);try{const i=new bF(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Wp(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wp(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Wp(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Wp(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw NC(n,m,h);pi(n,m)}}catch(i){if(i instanceof yn)throw i;pi(n,"network-request-failed",{message:String(i)})}}async function Jh(n,e,t,r,i={}){const s=await Qo(n,e,t,r,i);return"mfaPendingCredential"in s&&pi(n,"multi-factor-auth-required",{_serverResponse:s}),s}function VC(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?DE(n.config,i):`${n.config.apiScheme}://${i}`}function PF(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let bF=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ji(this.auth,"network-request-failed")),AF.get())})}};function Wp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ji(n,e,r);return i.customData._tokenResponse=t,i}function gR(n){return n!==void 0&&n.enterprise!==void 0}let CF=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return PF(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function kF(n,e){return Qo(n,"GET","/v2/recaptchaConfig",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xF(n,e){return Qo(n,"POST","/v1/accounts:delete",e)}async function MC(n,e){return Qo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OF(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=LE(r);De(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:th(Sv(i.auth_time)),issuedAtTime:th(Sv(i.iat)),expirationTime:th(Sv(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Sv(n){return Number(n)*1e3}function LE(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return um("JWT malformed, contained fewer than 3 sections"),null;try{const i=bg(t);return i?JSON.parse(i):(um("Failed to decode base64 JWT payload"),null)}catch(i){return um("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yR(n){const e=LE(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof yn&&NF(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function NF({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DF=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lw=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=th(this.lastLoginAt),this.creationTime=th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qm(n){var e;const t=n.auth,r=await n.getIdToken(),i=await wh(n,MC(t,{idToken:r}));De(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?FC(s.providerUserInfo):[],u=VF(n.providerData,l),d=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new lw(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function LF(n){const e=Ce(n);await qm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VF(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FC(n){return n.map(e=>{var{providerId:t}=e,r=dc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(n,e){const t=await LC(n,{},async()=>{const r=gi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=VC(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",DC.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function FF(n,e){return Qo(n,"POST","/v2/accounts:revokeToken",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rv=class uw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=yR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await MF(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new uw;return r&&(De(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(De(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(De(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uw,this.toJSON())}_performRefresh(){return Ts("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}let Hm=class qd{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=dc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await wh(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return OF(this,e)}reload(){return LF(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await qm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qe(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await wh(this,xF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,u,d,h,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,T=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,P=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,V=(h=t.createdAt)!==null&&h!==void 0?h:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:B,isAnonymous:$,providerData:j,stsTokenManager:D}=t;De(M&&D,e,"internal-error");const A=Rv.fromJSON(this.name,D);De(typeof M=="string",e,"internal-error"),go(g,e.name),go(_,e.name),De(typeof B=="boolean",e,"internal-error"),De(typeof $=="boolean",e,"internal-error"),go(T,e.name),go(I,e.name),go(R,e.name),go(P,e.name),go(V,e.name),go(L,e.name);const C=new qd({uid:M,auth:e,email:_,emailVerified:B,displayName:g,isAnonymous:$,photoURL:I,phoneNumber:T,tenantId:R,stsTokenManager:A,createdAt:V,lastLoginAt:L});return j&&Array.isArray(j)&&(C.providerData=j.map(E=>Object.assign({},E))),P&&(C._redirectEventId=P),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new Rv;i.updateFromServerResponse(t);const s=new qd({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qm(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];De(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?FC(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Rv;u.updateFromIdToken(r);const d=new qd({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new lw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,h),d}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Map;function Ss(n){Os(n instanceof Function,"Expected a class definition");let e=_R.get(n);return e?(Os(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_R.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UC=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};UC.type="NONE";const vR=UC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(n,e,t){return`firebase:${n}:${e}:${t}`}let wR=class dm{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=cm(this.userKey,i.apiKey,s),this.fullPersistenceKey=cm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hm._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new dm(Ss(vR),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Ss(vR);const l=cm(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(l);if(m){const g=Hm._fromJSON(e,m);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new dm(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new dm(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($C(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qC(e))return"Blackberry";if(HC(e))return"Webos";if(BC(e))return"Safari";if((e.includes("chrome/")||zC(e))&&!e.includes("edge/"))return"Chrome";if(WC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $C(n=qe()){return/firefox\//i.test(n)}function BC(n=qe()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zC(n=qe()){return/crios\//i.test(n)}function jC(n=qe()){return/iemobile/i.test(n)}function WC(n=qe()){return/android/i.test(n)}function qC(n=qe()){return/blackberry/i.test(n)}function HC(n=qe()){return/webos/i.test(n)}function VE(n=qe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UF(n=qe()){var e;return VE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $F(){return PE()&&document.documentMode===10}function KC(n=qe()){return VE(n)||WC(n)||HC(n)||qC(n)||/windows phone/i.test(n)||jC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(n,e=[]){let t;switch(n){case"Browser":t=ER(qe());break;case"Worker":t=`${ER(qe())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Pr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BF=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zF(n,e={}){return Qo(n,"GET","/v2/passwordPolicy",Go(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=6;let WF=class{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:jF,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qF=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IR(this),this.idTokenSubscription=new IR(this),this.beforeStateQueue=new BF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ss(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wR.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await MC(this,{idToken:e}),r=await Hm._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qe(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qe(this.app))return Promise.reject(Cs(this));const t=e?Ce(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qe(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qe(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zF(this),t=new WF(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ns("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await FF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ss(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await wR.create(this,[Ss(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Qe(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&EF(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}};function ll(n){return Ce(n)}let IR=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bE(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Og={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HF(n){Og=n}function QC(n){return Og.loadJS(n)}function KF(){return Og.recaptchaEnterpriseScript}function GF(){return Og.gapiScript}function QF(n){return`__${n}${Math.floor(Math.random()*1e6)}`}let YF=class{constructor(){this.enterprise=new JF}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},JF=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};const XF="recaptcha-enterprise",YC="NO_RECAPTCHA";let ZF=class{constructor(e){this.type=XF,this.auth=ll(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{kF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new CF(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;gR(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(YC)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YF().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&gR(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=KF();d.length!==0&&(d+=u),QC(d).then(()=>{i(u,s,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}};async function TR(n,e,t,r=!1,i=!1){const s=new ZF(n);let l;if(i)l=YC;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function cw(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await TR(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await TR(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(n,e){const t=xg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(fi(s,e??{}))return i;pi(i,"already-initialized")}return t.initialize({options:e})}function tU(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ss);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function nU(n,e,t){const r=ll(n);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=JC(e),{host:l,port:u}=rU(e),d=u===null?"":`:${u}`,h={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(fi(h,r.config.emulator)&&fi(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,iU()}function JC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function rU(n){const e=JC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:SR(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:SR(l)}}}function SR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function iU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ME=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,t){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}};async function sU(n,e){return Qo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(n,e){return Jh(n,"POST","/v1/accounts:signInWithPassword",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aU(n,e){return Jh(n,"POST","/v1/accounts:signInWithEmailLink",Go(n,e))}async function lU(n,e){return Jh(n,"POST","/v1/accounts:signInWithEmailLink",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RR=class dw extends ME{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new dw(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new dw(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cw(e,t,"signInWithPassword",oU);case"emailLink":return aU(e,{email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cw(e,r,"signUpPassword",sU);case"emailLink":return lU(e,{idToken:t,email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(n,e){return Jh(n,"POST","/v1/accounts:signInWithIdp",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="http://localhost";let Ng=class hw extends ME{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new hw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=dc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new hw(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Au(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Au(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Au(e,t)}buildRequest(){const e={requestUri:uU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gi(t)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dU(n){const e=hi(Ui(n)).link,t=e?hi(Ui(e)).deep_link_id:null,r=hi(Ui(n)).deep_link_id;return(r?hi(Ui(r)).link:null)||r||t||e||n}let hU=class XC{constructor(e){var t,r,i,s,l,u;const d=hi(Ui(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=cU((i=d.mode)!==null&&i!==void 0?i:null);De(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=dU(e);try{return new XC(t)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dg=class ZC{constructor(){this.providerId=ZC.PROVIDER_ID}static credential(e,t){return RR._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=hU.parseLink(t);return De(r,"argument-error"),RR._fromEmailAndCode(e,r.code,r.tenantId)}};Dg.PROVIDER_ID="password";Dg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ek=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh=class extends ek{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tk=class mu extends Xh{constructor(){super("facebook.com")}static credential(e){return Ng._fromParams({providerId:mu.PROVIDER_ID,signInMethod:mu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mu.credentialFromTaggedObject(e)}static credentialFromError(e){return mu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mu.credential(e.oauthAccessToken)}catch{return null}}};tk.FACEBOOK_SIGN_IN_METHOD="facebook.com";tk.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nk=class gu extends Xh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ng._fromParams({providerId:gu.PROVIDER_ID,signInMethod:gu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gu.credentialFromTaggedObject(e)}static credentialFromError(e){return gu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return gu.credential(t,r)}catch{return null}}};nk.GOOGLE_SIGN_IN_METHOD="google.com";nk.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rk=class yu extends Xh{constructor(){super("github.com")}static credential(e){return Ng._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yu.credentialFromTaggedObject(e)}static credentialFromError(e){return yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yu.credential(e.oauthAccessToken)}catch{return null}}};rk.GITHUB_SIGN_IN_METHOD="github.com";rk.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ik=class _u extends Xh{constructor(){super("twitter.com")}static credential(e,t){return Ng._fromParams({providerId:_u.PROVIDER_ID,signInMethod:_u.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _u.credentialFromTaggedObject(e)}static credentialFromError(e){return _u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return _u.credential(t,r)}catch{return null}}};ik.TWITTER_SIGN_IN_METHOD="twitter.com";ik.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(n,e){return Jh(n,"POST","/v1/accounts:signUp",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lg=class fw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Hm._fromIdTokenResponse(e,r,i),l=AR(r);return new fw({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=AR(r);return new fw({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function AR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pU=class pw extends yn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new pw(e,t,r,i)}};function sk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pU._fromErrorAndOperation(n,s,e,r):s})}async function mU(n,e,t=!1){const r=await wh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Lg._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(n,e,t=!1){const{auth:r}=n;if(Qe(r.app))return Promise.reject(Cs(r));const i="reauthenticate";try{const s=await wh(n,sk(r,i,e,n),t);De(s.idToken,r,"internal-error");const l=LE(s.idToken);De(l,r,"internal-error");const{sub:u}=l;return De(n.uid===u,r,"user-mismatch"),Lg._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&pi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(n,e,t=!1){if(Qe(n.app))return Promise.reject(Cs(n));const r="signIn",i=await sk(n,r,e),s=await Lg._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function yU(n,e){return ok(ll(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(n){const e=ll(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _U(n,e,t){if(Qe(n.app))return Promise.reject(Cs(n));const r=ll(n),l=await cw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fU).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&ak(n),d}),u=await Lg._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function vU(n,e,t){return Qe(n.app)?Promise.reject(Cs(n)):yU(Ce(n),Dg.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ak(n),r})}function wU(n,e,t,r){return Ce(n).onIdTokenChanged(e,t,r)}function EU(n,e,t){return Ce(n).beforeAuthStateChanged(e,t)}const Km="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lk=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Km,"1"),this.storage.removeItem(Km),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=1e3,TU=10;let uk=class extends lk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);$F()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,TU):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},IU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};uk.type="LOCAL";const SU=uk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ck=class extends lk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}};ck.type="SESSION";const dk=ck;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hk=class fk{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new fk(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(t.origin,s)),d=await RU(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};hk.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AU=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=FE("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(){return window}function PU(n){Wi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function bU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CU(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function kU(){return pk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="firebaseLocalStorageDb",xU=1,Gm="firebaseLocalStorage",gk="fbase_key";let Zh=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Vg(n,e){return n.transaction([Gm],e?"readwrite":"readonly").objectStore(Gm)}function OU(){const n=indexedDB.deleteDatabase(mk);return new Zh(n).toPromise()}function mw(){const n=indexedDB.open(mk,xU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Gm,{keyPath:gk})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Gm)?e(r):(r.close(),await OU(),e(await mw()))})})}async function PR(n,e,t){const r=Vg(n,!0).put({[gk]:e,value:t});return new Zh(r).toPromise()}async function NU(n,e){const t=Vg(n,!1).get(e),r=await new Zh(t).toPromise();return r===void 0?null:r.value}function bR(n,e){const t=Vg(n,!0).delete(e);return new Zh(t).toPromise()}const DU=800,LU=3;let yk=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>LU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hk._getInstance(kU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await bU(),!this.activeServiceWorker)return;this.sender=new AU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mw();return await PR(e,Km,"1"),await bR(e,Km),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>PR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>NU(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>bR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vg(i,!1).getAll();return new Zh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};yk.type="LOCAL";const VU=yk;new Yh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(n,e){return e?Ss(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UE=class extends ME{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Au(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Au(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Au(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function FU(n){return ok(n.auth,new UE(n),n.bypassAuthState)}function UU(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),gU(t,new UE(n),n.bypassAuthState)}async function $U(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),mU(t,new UE(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _k=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FU;case"linkViaPopup":case"linkViaRedirect":return $U;case"reauthViaPopup":case"reauthViaRedirect":return UU;default:pi(this.auth,"internal-error")}}resolve(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=new Yh(2e3,1e4);let zU=class Hd extends _k{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Hd.currentPopupAction&&Hd.currentPopupAction.cancel(),Hd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const e=FE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BU.get())};e()}};zU.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="pendingRedirect",hm=new Map;let WU=class extends _k{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=hm.get(this.auth._key());if(!e){try{const r=await qU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}hm.set(this.auth._key(),e)}return this.bypassAuthState||hm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function qU(n,e){const t=GU(e),r=KU(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function HU(n,e){hm.set(n._key(),e)}function KU(n){return Ss(n._redirectPersistence)}function GU(n){return cm(jU,n.config.apiKey,n.name)}async function QU(n,e,t=!1){if(Qe(n.app))return Promise.reject(Cs(n));const r=ll(n),i=MU(r,e),l=await new WU(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=10*60*1e3;let JU=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!vk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ji(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YU&&this.cachedEventUids.clear(),this.cachedEventUids.has(CR(e))}saveEventToCache(e){this.cachedEventUids.add(CR(e)),this.lastProcessedEventTime=Date.now()}};function CR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vk({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vk(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(n,e={}){return Qo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t$=/^https?/;async function n$(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ZU(n);for(const t of e)try{if(r$(t))return}catch{}pi(n,"unauthorized-domain")}function r$(n){const e=aw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!t$.test(t))return!1;if(e$.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=new Yh(3e4,6e4);function kR(){const n=Wi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function s$(n){return new Promise((e,t)=>{var r,i,s;function l(){kR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kR(),t(ji(n,"network-request-failed"))},timeout:i$.get()})}if(!((i=(r=Wi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Wi().gapi)===null||s===void 0)&&s.load)l();else{const u=QF("iframefcb");return Wi()[u]=()=>{gapi.load?l():t(ji(n,"network-request-failed"))},QC(`${GF()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw fm=null,e})}let fm=null;function o$(n){return fm=fm||s$(n),fm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=new Yh(5e3,15e3),l$="__/auth/iframe",u$="emulator/auth/iframe",c$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h$(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?DE(e,u$):`https://${n.config.authDomain}/${l$}`,r={apiKey:e.apiKey,appName:n.name,v:Pr},i=d$.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${gi(r).slice(1)}`}async function f$(n){const e=await o$(n),t=Wi().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:h$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=ji(n,"network-request-failed"),u=Wi().setTimeout(()=>{s(l)},a$.get());function d(){Wi().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m$=500,g$=600,y$="_blank",_$="http://localhost";let xR=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function v$(n,e,t,r=m$,i=g$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},p$),{width:r.toString(),height:i.toString(),top:s,left:l}),h=qe().toLowerCase();t&&(u=zC(h)?y$:t),$C(h)&&(e=e||_$,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,I])=>`${_}${T}=${I},`,"");if(UF(h)&&u!=="_self")return w$(e||"",u),new xR(null);const g=window.open(e||"",u,m);De(g,n,"popup-blocked");try{g.focus()}catch{}return new xR(g)}function w$(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$="__/auth/handler",I$="emulator/auth/handler",T$=encodeURIComponent("fac");async function OR(n,e,t,r,i,s){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Pr,eventId:i};if(e instanceof ek){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",yC(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Xh){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),h=d?`#${T$}=${encodeURIComponent(d)}`:"";return`${S$(n)}?${gi(u).slice(1)}${h}`}function S$({config:n}){return n.emulator?DE(n,I$):`https://${n.authDomain}/${E$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="webStorageSupport";let R$=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dk,this._completeRedirectFn=QU,this._overrideRedirectResult=HU}async _openPopup(e,t,r,i){var s;Os((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await OR(e,t,r,aw(),i);return v$(e,l,FE())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await OR(e,t,r,aw(),i);return PU(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Os(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await f$(e),r=new JU(e);return t.register("authEvent",i=>(De(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Av,{type:Av},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Av];l!==void 0&&t(!!l),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=n$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return KC()||BC()||VE()}};const A$=R$;var NR="@firebase/auth",DR="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P$=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C$(n){Qi(new Wr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;De(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GC(n)},h=new qF(r,i,s,d);return tU(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Qi(new Wr("auth-internal",e=>{const t=ll(e.getProvider("auth").getImmediate());return(r=>new P$(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(NR,DR,b$(n)),Ir(NR,DR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=5*60,x$=SE("authIdTokenMaxAge")||k$;let LR=null;const O$=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>x$)return;const i=t==null?void 0:t.token;LR!==i&&(LR=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function N$(n=RC()){const e=xg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=eU(n,{popupRedirectResolver:A$,persistence:[VU,SU,dk]}),r=SE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=O$(s.toString());EU(t,l,()=>l(t.currentUser)),wU(t,u=>l(u))}}const i=jM("auth");return i&&nU(t,`http://${i}`),t}function D$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}HF({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=ji("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",D$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C$("Browser");const Td={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},ru={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function wk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V$=L$,M$=wk,Ek=new ns("auth","Firebase",wk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=new Qh("@firebase/auth");function F$(n,...e){Qm.logLevel<=$e.WARN&&Qm.warn(`Auth (${Pr}): ${n}`,...e)}function pm(n,...e){Qm.logLevel<=$e.ERROR&&Qm.error(`Auth (${Pr}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(n,...e){throw BE(n,...e)}function ln(n,...e){return BE(n,...e)}function $E(n,e,t){const r=Object.assign(Object.assign({},M$()),{[e]:t});return new ns("auth","Firebase",r).create(e,{appName:n.name})}function _n(n){return $E(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pn(n,"argument-error"),$E(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function BE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Ek.create(n,...e)}function de(n,e,...t){if(!n)throw BE(e,...t)}function $i(n){const e="INTERNAL ASSERTION FAILED: "+n;throw pm(e),new Error(e)}function mi(n,e){n||$i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function zE(){return VR()==="http:"||VR()==="https:"}function VR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zE()||AE()||"connection"in navigator)?navigator.onLine:!0}function $$(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.shortDelay=e,this.longDelay=t,mi(t>e,"Short delay should be less than long delay!"),this.isMobile=fC()||kg()}get(){return U$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(n,e){mi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=new ef(3e4,6e4);function Ut(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $t(n,e,t,r,i={}){return Tk(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=gi(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:d},s);return mC()||(h.referrerPolicy="no-referrer"),Ik.fetch()(Sk(n,n.config.apiHost,t,u),h)})}async function Tk(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},B$),e);try{const i=new W$(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Kd(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Kd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Kd(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw $E(n,m,h);Pn(n,m)}}catch(i){if(i instanceof yn)throw i;Pn(n,"network-request-failed",{message:String(i)})}}async function Fs(n,e,t,r,i={}){const s=await $t(n,e,t,r,i);return"mfaPendingCredential"in s&&Pn(n,"multi-factor-auth-required",{_serverResponse:s}),s}function Sk(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?jE(n.config,i):`${n.config.apiScheme}://${i}`}function j$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ln(this.auth,"network-request-failed")),z$.get())})}}function Kd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ln(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(n){return n!==void 0&&n.getResponse!==void 0}function FR(n){return n!==void 0&&n.enterprise!==void 0}class Rk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return j$(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$(n){return(await $t(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Ak(n,e){return $t(n,"GET","/v2/recaptchaConfig",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H$(n,e){return $t(n,"POST","/v1/accounts:delete",e)}async function K$(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function Pk(n,e){return $t(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function G$(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=Mg(r);de(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:nh(Pv(i.auth_time)),issuedAtTime:nh(Pv(i.iat)),expirationTime:nh(Pv(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pv(n){return Number(n)*1e3}function Mg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return pm("JWT malformed, contained fewer than 3 sections"),null;try{const i=bg(t);return i?JSON.parse(i):(pm("Failed to decode base64 JWT payload"),null)}catch(i){return pm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function UR(n){const e=Mg(n);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof yn&&Q$(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Q$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nh(this.lastLoginAt),this.creationTime=nh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ns(n,Pk(t,{idToken:r}));de(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?bk(s.providerUserInfo):[],u=X$(n.providerData,l),d=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new gw(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function J$(n){const e=Ce(n);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function X$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bk(n){return n.map(e=>{var{providerId:t}=e,r=dc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z$(n,e){const t=await Tk(n,{},async()=>{const r=gi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=Sk(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Ik.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function e4(n,e){return $t(n,"POST","/v2/accounts:revokeToken",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");const t=UR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await Z$(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new Pu;return r&&(de(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pu,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(n,e){de(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Rs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=dc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Ns(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return G$(this,e)}reload(){return J$(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qe(this.auth.app))return Promise.reject(_n(this.auth));const e=await this.getIdToken();return await Ns(this,H$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,u,d,h,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,T=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,P=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,V=(h=t.createdAt)!==null&&h!==void 0?h:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:B,isAnonymous:$,providerData:j,stsTokenManager:D}=t;de(M&&D,e,"internal-error");const A=Pu.fromJSON(this.name,D);de(typeof M=="string",e,"internal-error"),yo(g,e.name),yo(_,e.name),de(typeof B=="boolean",e,"internal-error"),de(typeof $=="boolean",e,"internal-error"),yo(T,e.name),yo(I,e.name),yo(R,e.name),yo(P,e.name),yo(V,e.name),yo(L,e.name);const C=new Rs({uid:M,auth:e,email:_,emailVerified:B,displayName:g,isAnonymous:$,photoURL:I,phoneNumber:T,tenantId:R,stsTokenManager:A,createdAt:V,lastLoginAt:L});return j&&Array.isArray(j)&&(C.providerData=j.map(E=>Object.assign({},E))),P&&(C._redirectEventId=P),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new Pu;i.updateFromServerResponse(t);const s=new Rs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ih(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];de(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?bk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Pu;u.updateFromIdToken(r);const d=new Rs({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new gw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=new Map;function Er(n){mi(n instanceof Function,"Expected a class definition");let e=$R.get(n);return e?(mi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,$R.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ck.type="NONE";const Mu=Ck;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(n,e,t){return`firebase:${n}:${e}:${t}`}class bu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Wa(this.userKey,i.apiKey,s),this.fullPersistenceKey=Wa("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new bu(Er(Mu),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Er(Mu);const l=Wa(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(l);if(m){const g=Rs._fromJSON(e,m);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new bu(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new bu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Dk(e))return"Blackberry";if(Lk(e))return"Webos";if(xk(e))return"Safari";if((e.includes("chrome/")||Ok(e))&&!e.includes("edge/"))return"Chrome";if(tf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kk(n=qe()){return/firefox\//i.test(n)}function xk(n=qe()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ok(n=qe()){return/crios\//i.test(n)}function Nk(n=qe()){return/iemobile/i.test(n)}function tf(n=qe()){return/android/i.test(n)}function Dk(n=qe()){return/blackberry/i.test(n)}function Lk(n=qe()){return/webos/i.test(n)}function nf(n=qe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function t4(n=qe()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function n4(n=qe()){var e;return nf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function r4(){return PE()&&document.documentMode===10}function Vk(n=qe()){return nf(n)||tf(n)||Lk(n)||Dk(n)||/windows phone/i.test(n)||Nk(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(n,e=[]){let t;switch(n){case"Browser":t=BR(qe());break;case"Worker":t=`${BR(qe())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Pr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(n,e={}){return $t(n,"GET","/v2/passwordPolicy",Ut(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=6;class a4{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:o4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zR(this),this.idTokenSubscription=new zR(this),this.beforeStateQueue=new i4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ek,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Er(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await bu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Pk(this,{idToken:e}),r=await Rs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qe(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qe(this.app))return Promise.reject(_n(this));const t=e?Ce(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qe(this.app)?Promise.reject(_n(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qe(this.app)?Promise.reject(_n(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s4(this),t=new a4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ns("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await e4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Er(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=await bu.create(this,[Er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Qe(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&F$(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Dt(n){return Ce(n)}class zR{constructor(e){this.auth=e,this.observer=null,this.addObserver=bE(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u4(n){rf=n}function WE(n){return rf.loadJS(n)}function c4(){return rf.recaptchaV2Script}function d4(){return rf.recaptchaEnterpriseScript}function h4(){return rf.gapiScript}function Fk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=500,p4=6e4,qp=1e12;class m4{constructor(e){this.auth=e,this.counter=qp,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new _4(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||qp;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||qp;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||qp;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class g4{constructor(){this.enterprise=new y4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class y4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _4{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;de(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=v4(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},p4)},f4))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function v4(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const w4="recaptcha-enterprise",rh="NO_RECAPTCHA";class Uk{constructor(e){this.type=w4,this.auth=Dt(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{Ak(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new Rk(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;FR(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(rh)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new g4().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&FR(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=d4();d.length!==0&&(d+=u),WE(d).then(()=>{i(u,s,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function Sd(n,e,t,r=!1,i=!1){const s=new Uk(n);let l;if(i)l=rh;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function bo(n,e,t,r,i){var s,l;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Sd(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Sd(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const u=await Sd(n,e,t);return r(n,u).catch(async d=>{var h;if(((h=n._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const m=await Sd(n,e,t,!1,!0);return r(n,m)}return Promise.reject(d)})}else{const u=await Sd(n,e,t,!1,!0);return r(n,u)}else return Promise.reject(i+" provider is not supported.")}async function E4(n){const e=Dt(n),t=await Ak(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Rk(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new Uk(e).verify()}function I4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Er);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T4(n,e,t){const r=Dt(n);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),s=$k(e),{host:l,port:u}=S4(e),d=u===null?"":`:${u}`,h={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(fi(h,r.config.emulator)&&fi(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,i||R4()}function $k(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function S4(n){const e=$k(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:jR(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:jR(l)}}}function jR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function R4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,t){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(n,e){return $t(n,"POST","/v1/accounts:resetPassword",Ut(n,e))}async function A4(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function P4(n,e){return $t(n,"POST","/v1/accounts:signUp",e)}async function b4(n,e){return $t(n,"POST","/v1/accounts:update",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(n,e){return Fs(n,"POST","/v1/accounts:signInWithPassword",Ut(n,e))}async function Fg(n,e){return $t(n,"POST","/v1/accounts:sendOobCode",Ut(n,e))}async function k4(n,e){return Fg(n,e)}async function x4(n,e){return Fg(n,e)}async function O4(n,e){return Fg(n,e)}async function N4(n,e){return Fg(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(n,e){return Fs(n,"POST","/v1/accounts:signInWithEmailLink",Ut(n,e))}async function L4(n,e){return Fs(n,"POST","/v1/accounts:signInWithEmailLink",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends fc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Th(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Th(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bo(e,t,"signInWithPassword",C4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return D4(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bo(e,r,"signUpPassword",P4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return L4(e,{idToken:t,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ks(n,e){return Fs(n,"POST","/v1/accounts:signInWithIdp",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="http://localhost";class Yi extends fc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=dc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Yi(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ks(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ks(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ks(e,t)}buildRequest(){const e={requestUri:V4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gi(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(n,e){return $t(n,"POST","/v1/accounts:sendVerificationCode",Ut(n,e))}async function M4(n,e){return Fs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ut(n,e))}async function F4(n,e){const t=await Fs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ut(n,e));if(t.temporaryProof)throw Kd(n,"account-exists-with-different-credential",t);return t}const U4={USER_NOT_FOUND:"user-not-found"};async function $4(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Fs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ut(n,t),U4)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends fc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new qa({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new qa({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return M4(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return F4(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return $4(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!t&&!i&&!s?null:new qa({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z4(n){const e=hi(Ui(n)).link,t=e?hi(Ui(e)).deep_link_id:null,r=hi(Ui(n)).deep_link_id;return(r?hi(Ui(r)).link:null)||r||t||e||n}class Ug{constructor(e){var t,r,i,s,l,u;const d=hi(Ui(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=B4((i=d.mode)!==null&&i!==void 0?i:null);de(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=z4(e);try{return new Ug(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,t){return Th._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ug.parseLink(t);return de(r,"argument-error"),Th._fromEmailAndCode(e,r.code,r.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends Us{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Cu extends pc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return de("providerId"in t&&"signInMethod"in t,"argument-error"),Yi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return de(e.idToken||e.accessToken,"argument-error"),Yi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Cu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Cu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:l,providerId:u}=e;if(!r&&!i&&!t&&!s||!u)return null;try{return new Cu(u)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends pc{constructor(){super("facebook.com")}static credential(e){return Yi._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Yi._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Vi.credential(t,r)}catch{return null}}}Vi.GOOGLE_SIGN_IN_METHOD="google.com";Vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends pc{constructor(){super("github.com")}static credential(e){return Yi._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="http://localhost";class Fu extends fc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return ks(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ks(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ks(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return!r||!i||!s||r!==i?null:new Fu(r,s)}static _create(e,t){return new Fu(e,t)}buildRequest(){return{requestUri:j4,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="saml.";class Ym extends Us{constructor(e){de(e.startsWith(W4),"argument-error"),super(e)}static credentialFromResult(e){return Ym.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ym.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Fu.fromJSON(e);return de(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Fu._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends pc{constructor(){super("twitter.com")}static credential(e,t){return Yi._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,e){return Fs(n,"POST","/v1/accounts:signUp",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Rs._fromIdTokenResponse(e,r,i),l=qR(r);return new qr({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=qR(r);return new qr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function qR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(n){var e;if(Qe(n.app))return Promise.reject(_n(n));const t=Dt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new qr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await zk(t,{returnSecureToken:!0}),i=await qr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends yn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Jm(e,t,r,i)}}function jk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jm._fromErrorAndOperation(n,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(n,e){const t=Ce(n);await $g(!0,t,e);const{providerUserInfo:r}=await K$(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=Wk(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function qE(n,e,t=!1){const r=await Ns(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return qr._forOperation(n,"link",r)}async function $g(n,e,t){await Ih(e);const r=Wk(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";de(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(n,e,t=!1){const{auth:r}=n;if(Qe(r.app))return Promise.reject(_n(r));const i="reauthenticate";try{const s=await Ns(n,jk(r,i,e,n),t);de(s.idToken,r,"internal-error");const l=Mg(s.idToken);de(l,r,"internal-error");const{sub:u}=l;return de(n.uid===u,r,"user-mismatch"),qr._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(n,e,t=!1){if(Qe(n.app))return Promise.reject(_n(n));const r="signIn",i=await jk(n,r,e),s=await qr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Bg(n,e){return Hk(Dt(n),e)}async function Kk(n,e){const t=Ce(n);return await $g(!1,t,e.providerId),qE(t,e)}async function Gk(n,e){return qk(Ce(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(n,e){return Fs(n,"POST","/v1/accounts:signInWithCustomToken",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(n,e){if(Qe(n.app))return Promise.reject(_n(n));const t=Dt(n),r=await K4(t,{token:e,returnSecureToken:!0}),i=await qr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?HE._fromServerResponse(e,t):"totpInfo"in t?KE._fromServerResponse(e,t):Pn(e,"internal-error")}}class HE extends sf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new HE(t)}}class KE extends sf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new KE(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(n,e,t){var r;de(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),de(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),de(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(de(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(de(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GE(n){const e=Dt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Q4(n,e,t){const r=Dt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&zg(r,i,t),await bo(r,i,"getOobCode",x4,"EMAIL_PASSWORD_PROVIDER")}async function Y4(n,e,t){await Bk(Ce(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GE(n),r})}async function J4(n,e){await b4(Ce(n),{oobCode:e})}async function Qk(n,e){const t=Ce(n),r=await Bk(t,{oobCode:e}),i=r.requestType;switch(de(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(r.mfaInfo,t,"internal-error");default:de(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=sf._fromServerResponse(Dt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function X4(n,e){const{data:t}=await Qk(Ce(n),e);return t.email}async function Z4(n,e,t){if(Qe(n.app))return Promise.reject(_n(n));const r=Dt(n),l=await bo(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zk,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&GE(n),d}),u=await qr._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function eB(n,e,t){return Qe(n.app)?Promise.reject(_n(n)):Bg(Ce(n),Yo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GE(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tB(n,e,t){const r=Dt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(l,u){de(u.handleCodeInApp,r,"argument-error"),u&&zg(r,l,u)}s(i,t),await bo(r,i,"getOobCode",O4,"EMAIL_PASSWORD_PROVIDER")}function nB(n,e){const t=Ug.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function rB(n,e,t){if(Qe(n.app))return Promise.reject(_n(n));const r=Ce(n),i=Yo.credentialWithLink(e,t||Eh());return de(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Bg(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iB(n,e){return $t(n,"POST","/v1/accounts:createAuthUri",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sB(n,e){const t=zE()?Eh():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await iB(Ce(n),r);return i||[]}async function oB(n,e){const t=Ce(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&zg(t.auth,i,e);const{email:s}=await k4(t.auth,i);s!==n.email&&await n.reload()}async function aB(n,e,t){const r=Ce(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&zg(r.auth,s,t);const{email:l}=await N4(r.auth,s);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lB(n,e){return $t(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ce(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Ns(r,lB(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function cB(n,e){const t=Ce(n);return Qe(t.auth.app)?Promise.reject(_n(t.auth)):Yk(t,e,null)}function dB(n,e){return Yk(Ce(n),null,e)}async function Yk(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const l=await Ns(n,A4(r,s));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=Mg(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const u=l!=="anonymous"&&l!=="custom"?l:null;return new ku(s,u)}}if(!r)return null;switch(r){case"facebook.com":return new fB(s,i);case"github.com":return new pB(s,i);case"google.com":return new mB(s,i);case"twitter.com":return new gB(s,i,n.screenName||null);case"custom":case"anonymous":return new ku(s,null);default:return new ku(s,r,i)}}class ku{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class Jk extends ku{constructor(e,t,r,i){super(e,t,r),this.username=i}}class fB extends ku{constructor(e,t){super(e,"facebook.com",t)}}class pB extends Jk{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class mB extends ku{constructor(e,t){super(e,"google.com",t)}}class gB extends Jk{constructor(e,t,r){super(e,"twitter.com",t,r)}}function yB(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:hB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Ua("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ua("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return Ua._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Ua._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Dt(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(u=>sf._fromServerResponse(r,u));de(i.mfaPendingCredential,r,"internal-error");const l=Ua._fromMfaPendingCredential(i.mfaPendingCredential);return new QE(l,s,async u=>{const d=await u._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const h=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const m=await qr._fromIdTokenResponse(r,t.operationType,h);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return de(t.user,r,"internal-error"),qr._forOperation(t.user,t.operationType,h);default:Pn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function _B(n,e){var t;const r=Ce(n),i=e;return de(e.customData.operationType,r,"argument-error"),de((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),QE._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:start",Ut(n,e))}function vB(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(n,e))}function wB(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(n,e))}class YE{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>sf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new YE(e)}async getSession(){return Ua._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),s=await Ns(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ns(this.user,wB(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const bv=new WeakMap;function EB(n){const e=Ce(n);return bv.has(e)||bv.set(e,YE._fromUser(e)),bv.get(e)}const Xm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xm,"1"),this.storage.removeItem(Xm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=1e3,TB=10;class Zk extends Xk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);r4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,TB):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},IB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zk.type="LOCAL";const JE=Zk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1 extends Xk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}e1.type="SESSION";const Ga=e1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new jg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(t.origin,s)),d=await SB(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=of("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return window}function AB(n){Jt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){return typeof Jt().WorkerGlobalScope<"u"&&typeof Jt().importScripts=="function"}async function PB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bB(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function CB(){return XE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="firebaseLocalStorageDb",kB=1,Zm="firebaseLocalStorage",n1="fbase_key";class af{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wg(n,e){return n.transaction([Zm],e?"readwrite":"readonly").objectStore(Zm)}function xB(){const n=indexedDB.deleteDatabase(t1);return new af(n).toPromise()}function yw(){const n=indexedDB.open(t1,kB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Zm,{keyPath:n1})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Zm)?e(r):(r.close(),await xB(),e(await yw()))})})}async function KR(n,e,t){const r=Wg(n,!0).put({[n1]:e,value:t});return new af(r).toPromise()}async function OB(n,e){const t=Wg(n,!1).get(e),r=await new af(t).toPromise();return r===void 0?null:r.value}function GR(n,e){const t=Wg(n,!0).delete(e);return new af(t).toPromise()}const NB=800,DB=3;class r1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>DB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jg._getInstance(CB()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await PB(),!this.activeServiceWorker)return;this.sender=new RB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yw();return await KR(e,Xm,"1"),await GR(e,Xm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>KR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>OB(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>GR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Wg(i,!1).getAll();return new af(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r1.type="LOCAL";const Sh=r1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:start",Ut(n,e))}function LB(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:finalize",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=Fk("rcb"),VB=new ef(3e4,6e4);class MB{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Jt().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return de(FB(t),e,"argument-error"),this.shouldResolveImmediately(t)&&MR(Jt().grecaptcha)?Promise.resolve(Jt().grecaptcha):new Promise((r,i)=>{const s=Jt().setTimeout(()=>{i(ln(e,"network-request-failed"))},VB.get());Jt()[Cv]=()=>{Jt().clearTimeout(s),delete Jt()[Cv];const u=Jt().grecaptcha;if(!u||!MR(u)){i(ln(e,"internal-error"));return}const d=u.render;u.render=(h,m)=>{const g=d(h,m);return this.counter++,g},this.hostLanguage=t,r(u)};const l=`${c4()}?${gi({onload:Cv,render:"explicit",hl:t})}`;WE(l).catch(()=>{clearTimeout(s),i(ln(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Jt().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function FB(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class UB{async load(e){return new m4(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="recaptcha",$B={theme:"light",type:"image"};let BB=class{constructor(e,t,r=Object.assign({},$B)){this.parameters=r,this.type=ih,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dt(e),this.isInvisible=this.parameters.size==="invisible",de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;de(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new UB:new MB,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const s=l=>{l&&(this.tokenChangeListeners.delete(s),i(l))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Jt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){de(zE()&&!XE(),this.auth,"internal-error"),await zB(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await q$(this.auth);de(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function zB(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=qa._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function jB(n,e,t){if(Qe(n.app))return Promise.reject(_n(n));const r=Dt(n),i=await qg(r,e,Ce(t));return new ZE(i,s=>Bg(r,s))}async function WB(n,e,t){const r=Ce(n);await $g(!1,r,"phone");const i=await qg(r.auth,e,Ce(t));return new ZE(i,s=>Kk(r,s))}async function qB(n,e,t){const r=Ce(n);if(Qe(r.auth.app))return Promise.reject(_n(r.auth));const i=await qg(r.auth,e,Ce(t));return new ZE(i,s=>Gk(r,s))}async function qg(n,e,t){var r;if(!n._getRecaptchaConfig())try{await E4(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){de(s.type==="enroll",n,"internal-error");const l={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await bo(n,l,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===rh){de((t==null?void 0:t.type)===ih,m,"argument-error");const _=await kv(m,g,t);return HR(m,_)}return HR(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{de(s.type==="signin",n,"internal-error");const l=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;de(l,n,"missing-multi-factor-info");const u={mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await bo(n,u,"mfaSmsSignIn",async(g,_)=>{if(_.phoneSignInInfo.captchaResponse===rh){de((t==null?void 0:t.type)===ih,g,"argument-error");const T=await kv(g,_,t);return QR(g,T)}return QR(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await bo(n,s,"sendVerificationCode",async(h,m)=>{if(m.captchaResponse===rh){de((t==null?void 0:t.type)===ih,h,"argument-error");const g=await kv(h,m,t);return WR(h,g)}return WR(h,m)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{t==null||t._reset()}}async function HB(n,e){const t=Ce(n);if(Qe(t.auth.app))return Promise.reject(_n(t.auth));await qE(t,e)}async function kv(n,e,t){de(t.type===ih,n,"argument-error");const r=await t.verify();de(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:l,clientType:u,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:l,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa=class mm{constructor(e){this.providerId=mm.PROVIDER_ID,this.auth=Dt(e)}verifyPhoneNumber(e,t){return qg(this.auth,e,Ce(t))}static credential(e,t){return qa._fromVerification(e,t)}static credentialFromResult(e){const t=e;return mm.credentialFromTaggedObject(t)}static credentialFromError(e){return mm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?qa._fromTokenResponse(t,r):null}};Qa.PROVIDER_ID="phone";Qa.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(n,e){return e?Er(e):(de(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0 extends fc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ks(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ks(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function KB(n){return Hk(n.auth,new e0(n),n.bypassAuthState)}function GB(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),qk(t,new e0(n),n.bypassAuthState)}async function QB(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),qE(t,new e0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KB;case"linkViaPopup":case"linkViaRedirect":return QB;case"reauthViaPopup":case"reauthViaRedirect":return GB;default:Pn(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=new ef(2e3,1e4);async function JB(n,e,t){if(Qe(n.app))return Promise.reject(ln(n,"operation-not-supported-in-this-environment"));const r=Dt(n);hc(n,e,Us);const i=ul(r,t);return new As(r,"signInViaPopup",e,i).executeNotNull()}async function XB(n,e,t){const r=Ce(n);if(Qe(r.auth.app))return Promise.reject(ln(r.auth,"operation-not-supported-in-this-environment"));hc(r.auth,e,Us);const i=ul(r.auth,t);return new As(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function ZB(n,e,t){const r=Ce(n);hc(r.auth,e,Us);const i=ul(r.auth,t);return new As(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class As extends i1{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,As.currentPopupAction&&As.currentPopupAction.cancel(),As.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=of();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,As.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YB.get())};e()}}As.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5="pendingRedirect",sh=new Map;class t5 extends i1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const r=await n5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n5(n,e){const t=o1(e),r=s1(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function t0(n,e){return s1(n)._set(o1(e),"true")}function r5(){sh.clear()}function n0(n,e){sh.set(n._key(),e)}function s1(n){return Er(n._redirectPersistence)}function o1(n){return Wa(e5,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(n,e,t){return s5(n,e,t)}async function s5(n,e,t){if(Qe(n.app))return Promise.reject(_n(n));const r=Dt(n);hc(n,e,Us),await r._initializationPromise;const i=ul(r,t);return await t0(i,r),i._openRedirect(r,e,"signInViaRedirect")}function o5(n,e,t){return a5(n,e,t)}async function a5(n,e,t){const r=Ce(n);if(hc(r.auth,e,Us),Qe(r.auth.app))return Promise.reject(_n(r.auth));await r.auth._initializationPromise;const i=ul(r.auth,t);await t0(i,r.auth);const s=await a1(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function l5(n,e,t){return u5(n,e,t)}async function u5(n,e,t){const r=Ce(n);hc(r.auth,e,Us),await r.auth._initializationPromise;const i=ul(r.auth,t);await $g(!1,r,e.providerId),await t0(i,r.auth);const s=await a1(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function c5(n,e){return await Dt(n)._initializationPromise,Hg(n,e,!1)}async function Hg(n,e,t=!1){if(Qe(n.app))return Promise.reject(_n(n));const r=Dt(n),i=ul(r,e),l=await new t5(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function a1(n){const e=of(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=10*60*1e3;class l1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!u1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ln(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d5&&this.cachedEventUids.clear(),this.cachedEventUids.has(YR(e))}saveEventToCache(e){this.cachedEventUids.add(YR(e)),this.lastProcessedEventTime=Date.now()}}function YR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function u1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(n,e={}){return $t(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p5=/^https?/;async function m5(n){if(n.config.emulator)return;const{authorizedDomains:e}=await c1(n);for(const t of e)try{if(g5(t))return}catch{}Pn(n,"unauthorized-domain")}function g5(n){const e=Eh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!p5.test(t))return!1;if(f5.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new ef(3e4,6e4);function JR(){const n=Jt().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function _5(n){return new Promise((e,t)=>{var r,i,s;function l(){JR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JR(),t(ln(n,"network-request-failed"))},timeout:y5.get()})}if(!((i=(r=Jt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Jt().gapi)===null||s===void 0)&&s.load)l();else{const u=Fk("iframefcb");return Jt()[u]=()=>{gapi.load?l():t(ln(n,"network-request-failed"))},WE(`${h4()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw gm=null,e})}let gm=null;function v5(n){return gm=gm||_5(n),gm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=new ef(5e3,15e3),E5="__/auth/iframe",I5="emulator/auth/iframe",T5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R5(n){const e=n.config;de(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?jE(e,I5):`https://${n.config.authDomain}/${E5}`,r={apiKey:e.apiKey,appName:n.name,v:Pr},i=S5.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${gi(r).slice(1)}`}async function A5(n){const e=await v5(n),t=Jt().gapi;return de(t,n,"internal-error"),e.open({where:document.body,url:R5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=ln(n,"network-request-failed"),u=Jt().setTimeout(()=>{s(l)},w5.get());function d(){Jt().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b5=500,C5=600,k5="_blank",x5="http://localhost";class XR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O5(n,e,t,r=b5,i=C5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},P5),{width:r.toString(),height:i.toString(),top:s,left:l}),h=qe().toLowerCase();t&&(u=Ok(h)?k5:t),kk(h)&&(e=e||x5,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,I])=>`${_}${T}=${I},`,"");if(n4(h)&&u!=="_self")return N5(e||"",u),new XR(null);const g=window.open(e||"",u,m);de(g,n,"popup-blocked");try{g.focus()}catch{}return new XR(g)}function N5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="__/auth/handler",L5="emulator/auth/handler",V5=encodeURIComponent("fac");async function _w(n,e,t,r,i,s){de(n.config.authDomain,n,"auth-domain-config-required"),de(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Pr,eventId:i};if(e instanceof Us){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",yC(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries(s||{}))l[m]=g}if(e instanceof pc){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),h=d?`#${V5}=${encodeURIComponent(d)}`:"";return`${M5(n)}?${gi(u).slice(1)}${h}`}function M5({config:n}){return n.emulator?jE(n,L5):`https://${n.authDomain}/${D5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="webStorageSupport";class F5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ga,this._completeRedirectFn=Hg,this._overrideRedirectResult=n0}async _openPopup(e,t,r,i){var s;mi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await _w(e,t,r,Eh(),i);return O5(e,l,of())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await _w(e,t,r,Eh(),i);return AB(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(mi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await A5(e),r=new l1(e);return t.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xv,{type:xv},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[xv];l!==void 0&&t(!!l),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=m5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Vk()||xk()||nf()}}const U5=F5;class $5{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return $i("unexpected MultiFactorSessionType")}}}class r0 extends $5{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new r0(e)}_finalizeEnroll(e,t,r){return vB(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return LB(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class d1{constructor(){}static assertion(e){return r0._fromCredential(e)}}d1.FACTOR_ID="phone";var ZR="@firebase/auth",eA="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j5(n){Qi(new Wr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;de(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mk(n)},h=new l4(r,i,s,d);return I4(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Qi(new Wr("auth-internal",e=>{const t=Dt(e.getProvider("auth").getImmediate());return(r=>new B5(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(ZR,eA,z5(n)),Ir(ZR,eA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=5*60;SE("authIdTokenMaxAge");function q5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}u4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=ln("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",q5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j5("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=2e3;async function K5(n,e,t){var r;const{BuildInfo:i}=Ya();mi(e.sessionId,"AuthEvent did not contain a session ID");const s=await X5(e.sessionId),l={};return nf()?l.ibi=i.packageName:tf()?l.apn=i.packageName:Pn(n,"operation-not-supported-in-this-environment"),i.displayName&&(l.appDisplayName=i.displayName),l.sessionId=s,_w(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,l)}async function G5(n){const{BuildInfo:e}=Ya(),t={};nf()?t.iosBundleId=e.packageName:tf()?t.androidPackageName=e.packageName:Pn(n,"operation-not-supported-in-this-environment"),await c1(n,t)}function Q5(n){const{cordova:e}=Ya();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,t4()?"_blank":"_system","location=yes"),t(i)})})}async function Y5(n,e,t){const{cordova:r}=Ya();let i=()=>{};try{await new Promise((s,l)=>{let u=null;function d(){var g;s();const _=(g=r.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof _=="function"&&_(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function h(){u||(u=window.setTimeout(()=>{l(ln(n,"redirect-cancelled-by-user"))},H5))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&h()}e.addPassiveListener(d),document.addEventListener("resume",h,!1),tf()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",m,!1),u&&window.clearTimeout(u)}})}finally{i()}}function J5(n){var e,t,r,i,s,l,u,d,h,m;const g=Ya();de(typeof((e=g==null?void 0:g.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),de(typeof((t=g==null?void 0:g.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),de(typeof((s=(i=(r=g==null?void 0:g.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de(typeof((d=(u=(l=g==null?void 0:g.cordova)===null||l===void 0?void 0:l.plugins)===null||u===void 0?void 0:u.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de(typeof((m=(h=g==null?void 0:g.cordova)===null||h===void 0?void 0:h.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function X5(n){const e=Z5(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Z5(n){if(mi(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=20;class t3 extends l1{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function n3(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:s3(),postBody:null,tenantId:n.tenantId,error:ln(n,"no-auth-event")}}function r3(n,e){return vw()._set(ww(n),e)}async function tA(n){const e=await vw()._get(ww(n));return e&&await vw()._remove(ww(n)),e}function i3(n,e){var t,r;const i=a3(e);if(i.includes("/__/auth/callback")){const s=ym(i),l=s.firebaseError?o3(decodeURIComponent(s.firebaseError)):null,u=(r=(t=l==null?void 0:l.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=u?ln(u):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function s3(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<e3;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function vw(){return Er(JE)}function ww(n){return Wa("authEvent",n.config.apiKey,n.name)}function o3(n){try{return JSON.parse(n)}catch{return null}}function a3(n){const e=ym(n),t=e.link?decodeURIComponent(e.link):void 0,r=ym(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return ym(i).link||i||r||t||n}function ym(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return hi(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=500;class u3{constructor(){this._redirectPersistence=Ga,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Hg,this._overrideRedirectResult=n0}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new t3(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Pn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){J5(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),r5(),await this._originValidation(e);const l=n3(e,r,i);await r3(e,l);const u=await K5(e,l,t),d=await Q5(u);return Y5(e,s,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=G5(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Ya(),l=setTimeout(async()=>{await tA(e),t.onEvent(nA())},l3),u=async m=>{clearTimeout(l);const g=await tA(e);let _=null;g&&(m!=null&&m.url)&&(_=i3(g,m.url)),t.onEvent(_||nA())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const d=i,h=`${s.packageName.toLowerCase()}://`;Ya().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(h)&&u({url:m}),typeof d=="function")try{d(m)}catch(g){console.error(g)}}}}const c3=u3;function nA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ln("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(n,e){Dt(n)._logFramework(e)}var h3="@firebase/auth-compat",f3="0.5.19";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=1e3;function oh(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function m3(){return oh()==="http:"||oh()==="https:"}function h1(n=qe()){return!!((oh()==="file:"||oh()==="ionic:"||oh()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function g3(){return kg()||RE()}function y3(){return PE()&&(document==null?void 0:document.documentMode)===11}function _3(n=qe()){return/Edge\/\d+/.test(n)}function v3(n=qe()){return y3()||_3(n)}function f1(){try{const n=self.localStorage,e=of();if(n)return n.setItem(e,"1"),n.removeItem(e),v3()?yh():!0}catch{return i0()&&yh()}return!1}function i0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ov(){return(m3()||AE()||h1())&&!g3()&&f1()&&!i0()}function p1(){return h1()&&typeof document<"u"}async function w3(){return p1()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},p3);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function E3(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr={LOCAL:"local",NONE:"none",SESSION:"session"},Rd=de,m1="persistence";function I3(n,e){if(Rd(Object.values(vr).includes(e),n,"invalid-persistence-type"),kg()){Rd(e!==vr.SESSION,n,"unsupported-persistence-type");return}if(RE()){Rd(e===vr.NONE,n,"unsupported-persistence-type");return}if(i0()){Rd(e===vr.NONE||e===vr.LOCAL&&yh(),n,"unsupported-persistence-type");return}Rd(e===vr.NONE||f1(),n,"unsupported-persistence-type")}async function Ew(n){await n._initializationPromise;const e=g1(),t=Wa(m1,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function T3(n,e){const t=g1();if(!t)return[];const r=Wa(m1,n,e);switch(t.getItem(r)){case vr.NONE:return[Mu];case vr.LOCAL:return[Sh,Ga];case vr.SESSION:return[Ga];default:return[]}}function g1(){var n;try{return((n=E3())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=de;class So{constructor(){this.browserResolver=Er(U5),this.cordovaResolver=Er(c3),this.underlyingResolver=null,this._redirectPersistence=Ga,this._completeRedirectFn=Hg,this._overrideRedirectResult=n0}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return p1()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return S3(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await w3();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(n){return n.unwrap()}function R3(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(n){return _1(n)}function P3(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new b3(n,_B(n,e))}else if(r){const i=_1(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function _1(n){const{_tokenResponse:e}=n instanceof yn?n.customData:n;if(!e)return null;if(!(n instanceof yn)&&"temporaryProof"in e&&"phoneNumber"in e)return Qa.credentialFromResult(n);const t=e.providerId;if(!t||t===Td.PASSWORD)return null;let r;switch(t){case Td.GOOGLE:r=Vi;break;case Td.FACEBOOK:r=Li;break;case Td.GITHUB:r=Mi;break;case Td.TWITTER:r=Fi;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:l,pendingToken:u,nonce:d}=e;return!s&&!l&&!i&&!u?null:u?t.startsWith("saml.")?Fu._create(t,u):Yi._fromParams({providerId:t,signInMethod:t,pendingToken:u,idToken:i,accessToken:s}):new Cu(t).credential({idToken:i,accessToken:s,rawNonce:d})}return n instanceof yn?r.credentialFromError(n):r.credentialFromResult(n)}function nr(n,e){return e.catch(t=>{throw t instanceof yn&&P3(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:A3(t),additionalUserInfo:yB(t),user:Kg.getOrCreate(i)}})}async function Iw(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>nr(n,t.confirm(r))}}class b3{constructor(e,t){this.resolver=t,this.auth=R3(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return nr(y1(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kg=class Gd{constructor(e){this._delegate=e,this.multiFactor=EB(e)}static getOrCreate(e){return Gd.USER_MAP.has(e)||Gd.USER_MAP.set(e,new Gd(e)),Gd.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return nr(this.auth,Kk(this._delegate,e))}async linkWithPhoneNumber(e,t){return Iw(this.auth,WB(this._delegate,e,t))}async linkWithPopup(e){return nr(this.auth,ZB(this._delegate,e,So))}async linkWithRedirect(e){return await Ew(Dt(this.auth)),l5(this._delegate,e,So)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return nr(this.auth,Gk(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Iw(this.auth,qB(this._delegate,e,t))}reauthenticateWithPopup(e){return nr(this.auth,XB(this._delegate,e,So))}async reauthenticateWithRedirect(e){return await Ew(Dt(this.auth)),o5(this._delegate,e,So)}sendEmailVerification(e){return oB(this._delegate,e)}async unlink(e){return await H4(this._delegate,e),this}updateEmail(e){return cB(this._delegate,e)}updatePassword(e){return dB(this._delegate,e)}updatePhoneNumber(e){return HB(this._delegate,e)}updateProfile(e){return uB(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return aB(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Kg.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=de;let Tw=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Ad(r,"invalid-api-key",{appName:e.name}),Ad(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?So:void 0;this._delegate=t.initialize({options:{persistence:C3(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(V$),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Kg.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){T4(this._delegate,e,t)}applyActionCode(e){return J4(this._delegate,e)}checkActionCode(e){return Qk(this._delegate,e)}confirmPasswordReset(e,t){return Y4(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return nr(this._delegate,Z4(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return sB(this._delegate,e)}isSignInWithEmailLink(e){return nB(this._delegate,e)}async getRedirectResult(){Ad(Ov(),this._delegate,"operation-not-supported-in-this-environment");const e=await c5(this._delegate,So);return e?nr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){d3(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:s,complete:l}=rA(e,t,r);return this._delegate.onAuthStateChanged(i,s,l)}onIdTokenChanged(e,t,r){const{next:i,error:s,complete:l}=rA(e,t,r);return this._delegate.onIdTokenChanged(i,s,l)}sendSignInLinkToEmail(e,t){return tB(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Q4(this._delegate,e,t||void 0)}async setPersistence(e){I3(this._delegate,e);let t;switch(e){case vr.SESSION:t=Ga;break;case vr.LOCAL:t=await Er(Sh)._isAvailable()?Sh:JE;break;case vr.NONE:t=Mu;break;default:return Pn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return nr(this._delegate,q4(this._delegate))}signInWithCredential(e){return nr(this._delegate,Bg(this._delegate,e))}signInWithCustomToken(e){return nr(this._delegate,G4(this._delegate,e))}signInWithEmailAndPassword(e,t){return nr(this._delegate,eB(this._delegate,e,t))}signInWithEmailLink(e,t){return nr(this._delegate,rB(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Iw(this._delegate,jB(this._delegate,e,t))}async signInWithPopup(e){return Ad(Ov(),this._delegate,"operation-not-supported-in-this-environment"),nr(this._delegate,JB(this._delegate,e,So))}async signInWithRedirect(e){return Ad(Ov(),this._delegate,"operation-not-supported-in-this-environment"),await Ew(this._delegate),i5(this._delegate,e,So)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return X4(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};Tw.Persistence=vr;function rA(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:l=>i(l&&Kg.getOrCreate(l)),error:e,complete:t}}function C3(n,e){const t=T3(n,e);if(typeof self<"u"&&!t.includes(Sh)&&t.push(Sh),typeof window<"u")for(const r of[JE,Ga])t.includes(r)||t.push(r);return t.includes(Mu)||t.push(Mu),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{static credential(e,t){return Qa.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Qa(y1(cc.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}s0.PHONE_SIGN_IN_METHOD=Qa.PHONE_SIGN_IN_METHOD;s0.PROVIDER_ID=Qa.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=de;class x3{constructor(e,t,r=cc.app()){var i;k3((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new BB(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="auth-compat";function N3(n){n.INTERNAL.registerComponent(new Wr(O3,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Tw(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ru.EMAIL_SIGNIN,PASSWORD_RESET:ru.PASSWORD_RESET,RECOVER_EMAIL:ru.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ru.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ru.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ru.VERIFY_EMAIL}},EmailAuthProvider:Yo,FacebookAuthProvider:Li,GithubAuthProvider:Mi,GoogleAuthProvider:Vi,OAuthProvider:Cu,SAMLAuthProvider:Ym,PhoneAuthProvider:s0,PhoneMultiFactorGenerator:d1,RecaptchaVerifier:x3,TwitterAuthProvider:Fi,Auth:Tw,AuthCredential:fc,Error:yn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(h3,f3)}N3(cc);var iA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Co,v1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function C(){}C.prototype=A.prototype,D.D=A.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(E,x,k){for(var O=Array(arguments.length-2),X=2;X<arguments.length;X++)O[X-2]=arguments[X];return A.prototype[x].apply(E,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,A,C){C||(C=0);var E=Array(16);if(typeof A=="string")for(var x=0;16>x;++x)E[x]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(x=0;16>x;++x)E[x]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=D.g[0],C=D.g[1],x=D.g[2];var k=D.g[3],O=A+(k^C&(x^k))+E[0]+3614090360&4294967295;A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+E[1]+3905402710&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+E[2]+606105819&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+E[3]+3250441966&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(k^C&(x^k))+E[4]+4118548399&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+E[5]+1200080426&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+E[6]+2821735955&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+E[7]+4249261313&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(k^C&(x^k))+E[8]+1770035416&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+E[9]+2336552879&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+E[10]+4294925233&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+E[11]+2304563134&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(k^C&(x^k))+E[12]+1804603682&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+E[13]+4254626195&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+E[14]+2792965006&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+E[15]+1236535329&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(x^k&(C^x))+E[1]+4129170786&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+E[6]+3225465664&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+E[11]+643717713&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+E[0]+3921069994&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^k&(C^x))+E[5]+3593408605&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+E[10]+38016083&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+E[15]+3634488961&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+E[4]+3889429448&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^k&(C^x))+E[9]+568446438&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+E[14]+3275163606&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+E[3]+4107603335&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+E[8]+1163531501&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^k&(C^x))+E[13]+2850285829&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+E[2]+4243563512&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+E[7]+1735328473&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+E[12]+2368359562&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(C^x^k)+E[5]+4294588738&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+E[8]+2272392833&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+E[11]+1839030562&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+E[14]+4259657740&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^k)+E[1]+2763975236&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+E[4]+1272893353&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+E[7]+4139469664&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+E[10]+3200236656&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^k)+E[13]+681279174&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+E[0]+3936430074&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+E[3]+3572445317&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+E[6]+76029189&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^k)+E[9]+3654602809&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+E[12]+3873151461&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+E[15]+530742520&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+E[2]+3299628645&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(x^(C|~k))+E[0]+4096336452&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+E[7]+1126891415&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+E[14]+2878612391&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+E[5]+4237533241&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~k))+E[12]+1700485571&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+E[3]+2399980690&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+E[10]+4293915773&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+E[1]+2240044497&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~k))+E[8]+1873313359&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+E[15]+4264355552&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+E[6]+2734768916&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+E[13]+1309151649&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~k))+E[4]+4149444226&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+E[11]+3174756917&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+E[2]+718787259&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(x+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var C=A-this.blockSize,E=this.B,x=this.h,k=0;k<A;){if(x==0)for(;k<=C;)i(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<A;)if(E[x++]=D.charCodeAt(k++),x==this.blockSize){i(this,E),x=0;break}}else for(;k<A;)if(E[x++]=D[k++],x==this.blockSize){i(this,E),x=0;break}}this.h=x,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var C=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=C&255,C/=256;for(this.u(D),D=Array(16),A=C=0;4>A;++A)for(var E=0;32>E;E+=8)D[C++]=this.g[A]>>>E&255;return D};function s(D,A){var C=u;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=A(D)}function l(D,A){this.h=A;for(var C=[],E=!0,x=D.length-1;0<=x;x--){var k=D[x]|0;E&&k==A||(C[x]=k,E=!1)}this.g=C}var u={};function d(D){return-128<=D&&128>D?s(D,function(A){return new l([A|0],0>A?-1:0)}):new l([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return P(h(-D));for(var A=[],C=1,E=0;D>=C;E++)A[E]=D/C|0,C*=4294967296;return new l(A,0)}function m(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return P(m(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(A,8)),E=g,x=0;x<D.length;x+=8){var k=Math.min(8,D.length-x),O=parseInt(D.substring(x,x+k),A);8>k?(k=h(Math.pow(A,k)),E=E.j(k).add(h(O))):(E=E.j(C),E=E.add(h(O)))}return E}var g=d(0),_=d(1),T=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-P(this).m();for(var D=0,A=1,C=0;C<this.g.length;C++){var E=this.i(C);D+=(0<=E?E:4294967296+E)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(R(this))return"-"+P(this).toString(D);for(var A=h(Math.pow(D,6)),C=this,E="";;){var x=B(C,A).g;C=V(C,x.j(A));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=x,I(C))return k+E;for(;6>k.length;)k="0"+k;E=k+E}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function R(D){return D.h==-1}n.l=function(D){return D=V(this,D),R(D)?-1:I(D)?0:1};function P(D){for(var A=D.g.length,C=[],E=0;E<A;E++)C[E]=~D.g[E];return new l(C,~D.h).add(_)}n.abs=function(){return R(this)?P(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],E=0,x=0;x<=A;x++){var k=E+(this.i(x)&65535)+(D.i(x)&65535),O=(k>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);E=O>>>16,k&=65535,O&=65535,C[x]=O<<16|k}return new l(C,C[C.length-1]&-2147483648?-1:0)};function V(D,A){return D.add(P(A))}n.j=function(D){if(I(this)||I(D))return g;if(R(this))return R(D)?P(this).j(P(D)):P(P(this).j(D));if(R(D))return P(this.j(P(D)));if(0>this.l(T)&&0>D.l(T))return h(this.m()*D.m());for(var A=this.g.length+D.g.length,C=[],E=0;E<2*A;E++)C[E]=0;for(E=0;E<this.g.length;E++)for(var x=0;x<D.g.length;x++){var k=this.i(E)>>>16,O=this.i(E)&65535,X=D.i(x)>>>16,F=D.i(x)&65535;C[2*E+2*x]+=O*F,L(C,2*E+2*x),C[2*E+2*x+1]+=k*F,L(C,2*E+2*x+1),C[2*E+2*x+1]+=O*X,L(C,2*E+2*x+1),C[2*E+2*x+2]+=k*X,L(C,2*E+2*x+2)}for(E=0;E<A;E++)C[E]=C[2*E+1]<<16|C[2*E];for(E=A;E<2*A;E++)C[E]=0;return new l(C,0)};function L(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function M(D,A){this.g=D,this.h=A}function B(D,A){if(I(A))throw Error("division by zero");if(I(D))return new M(g,g);if(R(D))return A=B(P(D),A),new M(P(A.g),P(A.h));if(R(A))return A=B(D,P(A)),new M(P(A.g),A.h);if(30<D.g.length){if(R(D)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var C=_,E=A;0>=E.l(D);)C=$(C),E=$(E);var x=j(C,1),k=j(E,1);for(E=j(E,2),C=j(C,2);!I(E);){var O=k.add(E);0>=O.l(D)&&(x=x.add(C),k=O),E=j(E,1),C=j(C,1)}return A=V(D,x.j(A)),new M(x,A)}for(x=g;0<=D.l(A);){for(C=Math.max(1,Math.floor(D.m()/A.m())),E=Math.ceil(Math.log(C)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),k=h(C),O=k.j(A);R(O)||0<O.l(D);)C-=E,k=h(C),O=k.j(A);I(k)&&(k=_),x=x.add(k),D=V(D,O)}return new M(x,D)}n.A=function(D){return B(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)&D.i(E);return new l(C,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)|D.i(E);return new l(C,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)^D.i(E);return new l(C,this.h^D.h)};function $(D){for(var A=D.g.length+1,C=[],E=0;E<A;E++)C[E]=D.i(E)<<1|D.i(E-1)>>>31;return new l(C,D.h)}function j(D,A){var C=A>>5;A%=32;for(var E=D.g.length-C,x=[],k=0;k<E;k++)x[k]=0<A?D.i(k+C)>>>A|D.i(k+C+1)<<32-A:D.i(k+C);return new l(x,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,v1=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,Co=l}).apply(typeof iA<"u"?iA:typeof self<"u"?self:typeof window<"u"?window:{});var Hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w1,Qd,E1,_m,Sw,I1,T1,S1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,S){return f==Array.prototype||f==Object.prototype||(f[v]=S.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hp=="object"&&Hp];for(var v=0;v<f.length;++v){var S=f[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(f,v){if(v)e:{var S=r;f=f.split(".");for(var N=0;N<f.length-1;N++){var Q=f[N];if(!(Q in S))break e;S=S[Q]}f=f[f.length-1],N=S[f],v=v(N),v!=N&&v!=null&&e(S,f,{configurable:!0,writable:!0,value:v})}}function s(f,v){f instanceof String&&(f+="");var S=0,N=!1,Q={next:function(){if(!N&&S<f.length){var ne=S++;return{value:v(ne,f[ne]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(f){return f||function(){return s(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function h(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,S){return f.call.apply(f.bind,arguments)}function g(f,v,S){if(!f)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,N),f.apply(v,Q)}}return function(){return f.apply(v,arguments)}}function _(f,v,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,_.apply(null,arguments)}function T(f,v){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function I(f,v){function S(){}S.prototype=v.prototype,f.aa=v.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(N,Q,ne){for(var ye=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)ye[ot-2]=arguments[ot];return v.prototype[Q].apply(N,ye)}}function R(f){const v=f.length;if(0<v){const S=Array(v);for(let N=0;N<v;N++)S[N]=f[N];return S}return[]}function P(f,v){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(d(N)){const Q=f.length||0,ne=N.length||0;f.length=Q+ne;for(let ye=0;ye<ne;ye++)f[Q+ye]=N[ye]}else f.push(N)}}class V{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(f){return/^[\s\xa0]*$/.test(f)}function M(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function B(f){return B[" "](f),f}B[" "]=function(){};var $=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function j(f,v,S){for(const N in f)v.call(S,f[N],N,f)}function D(f,v){for(const S in f)v.call(void 0,f[S],S,f)}function A(f){const v={};for(const S in f)v[S]=f[S];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(f,v){let S,N;for(let Q=1;Q<arguments.length;Q++){N=arguments[Q];for(S in N)f[S]=N[S];for(let ne=0;ne<C.length;ne++)S=C[ne],Object.prototype.hasOwnProperty.call(N,S)&&(f[S]=N[S])}}function x(f){var v=1;f=f.split(":");const S=[];for(;0<v&&f.length;)S.push(f.shift()),v--;return f.length&&S.push(f.join(":")),S}function k(f){u.setTimeout(()=>{throw f},0)}function O(){var f=pe;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class X{constructor(){this.h=this.g=null}add(v,S){const N=F.get();N.set(v,S),this.h?this.h.next=N:this.g=N,this.h=N}}var F=new V(()=>new me,f=>f.reset());class me{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Z=!1,pe=new X,he=()=>{const f=u.Promise.resolve(void 0);oe=()=>{f.then(W)}};var W=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(S){k(S)}var v=F;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}Z=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};u.addEventListener("test",S,v),u.removeEventListener("test",S,v)}catch{}return f}();function Me(f,v){if(Te.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if($){e:{try{B(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else S=="mouseover"?v=f.fromElement:S=="mouseout"&&(v=f.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Be[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Me.aa.h.call(this)}}I(Me,Te);var Be={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),He=0;function it(f,v,S,N,Q){this.listener=f,this.proxy=null,this.src=v,this.type=S,this.capture=!!N,this.ha=Q,this.key=++He,this.da=this.fa=!1}function wt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function cn(f){this.src=f,this.g={},this.h=0}cn.prototype.add=function(f,v,S,N,Q){var ne=f.toString();f=this.g[ne],f||(f=this.g[ne]=[],this.h++);var ye=gt(f,v,N,Q);return-1<ye?(v=f[ye],S||(v.fa=!1)):(v=new it(v,this.src,ne,!!N,Q),v.fa=S,f.push(v)),v};function st(f,v){var S=v.type;if(S in f.g){var N=f.g[S],Q=Array.prototype.indexOf.call(N,v,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(N,Q,1),ne&&(wt(v),f.g[S].length==0&&(delete f.g[S],f.h--))}}function gt(f,v,S,N){for(var Q=0;Q<f.length;++Q){var ne=f[Q];if(!ne.da&&ne.listener==v&&ne.capture==!!S&&ne.ha==N)return Q}return-1}var tn="closure_lm_"+(1e6*Math.random()|0),Kr={};function br(f,v,S,N,Q){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)br(f,v[ne],S,N,Q);return null}return S=Cc(S),f&&f[Ye]?f.K(v,S,h(N)?!!N.capture:!1,Q):Cr(f,v,S,!1,N,Q)}function Cr(f,v,S,N,Q,ne){if(!v)throw Error("Invalid event type");var ye=h(Q)?!!Q.capture:!!Q,ot=pl(f);if(ot||(f[tn]=ot=new cn(f)),S=ot.add(v,S,N,ye,ne),S.proxy)return S;if(N=Hn(),S.proxy=N,N.src=f,N.listener=S,f.addEventListener)xe||(Q=ye),Q===void 0&&(Q=!1),f.addEventListener(v.toString(),N,Q);else if(f.attachEvent)f.attachEvent(rs(v.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Hn(){function f(S){return v.call(f.src,f.listener,S)}const v=bc;return f}function Kn(f,v,S,N,Q){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Kn(f,v[ne],S,N,Q);else N=h(N)?!!N.capture:!!N,S=Cc(S),f&&f[Ye]?(f=f.i,v=String(v).toString(),v in f.g&&(ne=f.g[v],S=gt(ne,S,N,Q),-1<S&&(wt(ne[S]),Array.prototype.splice.call(ne,S,1),ne.length==0&&(delete f.g[v],f.h--)))):f&&(f=pl(f))&&(v=f.g[v.toString()],f=-1,v&&(f=gt(v,S,N,Q)),(S=-1<f?v[f]:null)&&lr(S))}function lr(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Ye])st(v.i,f);else{var S=f.type,N=f.proxy;v.removeEventListener?v.removeEventListener(S,N,f.capture):v.detachEvent?v.detachEvent(rs(S),N):v.addListener&&v.removeListener&&v.removeListener(N),(S=pl(v))?(st(S,f),S.h==0&&(S.src=null,v[tn]=null)):wt(f)}}}function rs(f){return f in Kr?Kr[f]:Kr[f]="on"+f}function bc(f,v){if(f.da)f=!0;else{v=new Me(v,this);var S=f.listener,N=f.ha||f.src;f.fa&&lr(f),f=S.call(N,v)}return f}function pl(f){return f=f[tn],f instanceof cn?f:null}var ml="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cc(f){return typeof f=="function"?f:(f[ml]||(f[ml]=function(v){return f.handleEvent(v)}),f[ml])}function nn(){ie.call(this),this.i=new cn(this),this.M=this,this.F=null}I(nn,ie),nn.prototype[Ye]=!0,nn.prototype.removeEventListener=function(f,v,S,N){Kn(this,f,v,S,N)};function rn(f,v){var S,N=f.F;if(N)for(S=[];N;N=N.F)S.push(N);if(f=f.M,N=v.type||v,typeof v=="string")v=new Te(v,f);else if(v instanceof Te)v.target=v.target||f;else{var Q=v;v=new Te(N,f),E(v,Q)}if(Q=!0,S)for(var ne=S.length-1;0<=ne;ne--){var ye=v.g=S[ne];Q=is(ye,N,!0,v)&&Q}if(ye=v.g=f,Q=is(ye,N,!0,v)&&Q,Q=is(ye,N,!1,v)&&Q,S)for(ne=0;ne<S.length;ne++)ye=v.g=S[ne],Q=is(ye,N,!1,v)&&Q}nn.prototype.N=function(){if(nn.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var S=f.g[v],N=0;N<S.length;N++)wt(S[N]);delete f.g[v],f.h--}}this.F=null},nn.prototype.K=function(f,v,S,N){return this.i.add(String(f),v,!1,S,N)},nn.prototype.L=function(f,v,S,N){return this.i.add(String(f),v,!0,S,N)};function is(f,v,S,N){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,ne=0;ne<v.length;++ne){var ye=v[ne];if(ye&&!ye.da&&ye.capture==S){var ot=ye.listener,sn=ye.ha||ye.src;ye.fa&&st(f.i,ye),Q=ot.call(sn,N)!==!1&&Q}}return Q&&!N.defaultPrevented}function kc(f,v,S){if(typeof f=="function")S&&(f=_(f,S));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(f,v||0)}function qs(f){f.g=kc(()=>{f.g=null,f.i&&(f.i=!1,qs(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class na extends ie{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:qs(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(f){ie.call(this),this.h=f,this.g={}}I(ra,ie);var xc=[];function Oc(f){j(f.g,function(v,S){this.g.hasOwnProperty(S)&&lr(v)},f),f.g={}}ra.prototype.N=function(){ra.aa.N.call(this),Oc(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nc=u.JSON.stringify,Dc=u.JSON.parse,Lc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function ia(){}ia.prototype.h=null;function gl(f){return f.h||(f.h=f.i())}function yl(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){Te.call(this,"d")}I(_i,Te);function _l(){Te.call(this,"c")}I(_l,Te);var vi={},Vc=null;function sa(){return Vc=Vc||new nn}vi.La="serverreachability";function Mc(f){Te.call(this,vi.La,f)}I(Mc,Te);function ss(f){const v=sa();rn(v,new Mc(v))}vi.STAT_EVENT="statevent";function Fc(f,v){Te.call(this,vi.STAT_EVENT,f),this.stat=v}I(Fc,Te);function Bt(f){const v=sa();rn(v,new Fc(v,f))}vi.Ma="timingevent";function vl(f,v){Te.call(this,vi.Ma,f),this.size=v}I(vl,Te);function Gr(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},v)}function oa(){this.g=!0}oa.prototype.xa=function(){this.g=!1};function aa(f,v,S,N,Q,ne){f.info(function(){if(f.g)if(ne)for(var ye="",ot=ne.split("&"),sn=0;sn<ot.length;sn++){var Je=ot[sn].split("=");if(1<Je.length){var dn=Je[0];Je=Je[1];var Kt=dn.split("_");ye=2<=Kt.length&&Kt[1]=="type"?ye+(dn+"="+Je+"&"):ye+(dn+"=redacted&")}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+N+") [attempt "+Q+"]: "+v+`
`+S+`
`+ye})}function wl(f,v,S,N,Q,ne,ye){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Q+"]: "+v+`
`+S+`
`+ne+" "+ye})}function Qr(f,v,S,N){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+$y(f,S)+(N?" "+N:"")})}function Uc(f,v){f.info(function(){return"TIMEOUT: "+v})}oa.prototype.info=function(){};function $y(f,v){if(!f.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var N=S[f];if(!(2>N.length)){var Q=N[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ye=1;ye<Q.length;ye++)Q[ye]=""}}}}return Nc(S)}catch{return v}}var El={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yr;function la(){}I(la,ia),la.prototype.g=function(){return new XMLHttpRequest},la.prototype.i=function(){return{}},Yr=new la;function Jr(f,v,S,N){this.j=f,this.i=v,this.l=S,this.R=N||1,this.U=new ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cf}function Cf(){this.i=null,this.g="",this.h=!1}var $c={},Il={};function Tl(f,v,S){f.L=1,f.v=Ys(cr(v)),f.m=S,f.P=!0,Bc(f,null)}function Bc(f,v){f.F=Date.now(),ft(f),f.A=cr(f.v);var S=f.A,N=f.R;Array.isArray(N)||(N=[String(N)]),Xs(S.i,"t",N),f.C=0,S=f.j.J,f.h=new Cf,f.g=Kf(f.j,S?v:null,!f.m),0<f.O&&(f.M=new na(_(f.Y,f,f.g),f.O)),v=f.U,S=f.g,N=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(xc[0]=Q.toString()),Q=xc);for(var ne=0;ne<Q.length;ne++){var ye=br(S,Q[ne],N||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),ss(),aa(f.i,f.u,f.A,f.l,f.R,f.m)}Jr.prototype.ca=function(f){f=f.target;const v=this.M;v&&Qn(f)==3?v.j():this.Y(f)},Jr.prototype.Y=function(f){try{if(f==this.g)e:{const Kt=Qn(this.g);var v=this.g.Ba();const Nr=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Kc(this.g)))){this.J||Kt!=4||v==7||(v==8||0>=Nr?ss(3):ss(2)),ua(this);var S=this.g.Z();this.X=S;t:if(kf(this)){var N=Kc(this.g);f="";var Q=N.length,ne=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xr(this),Hs(this);var ye="";break t}this.h.i=new u.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,f+=this.h.i.decode(N[v],{stream:!(ne&&v==Q-1)});N.length=0,this.h.g+=f,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=S==200,wl(this.i,this.u,this.A,this.l,this.R,Kt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,sn=this.g;if((ot=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(ot)){var Je=ot;break t}}Je=null}if(S=Je)Qr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zc(this,S);else{this.o=!1,this.s=3,Bt(12),xr(this),Hs(this);break e}}if(this.P){S=!0;let hr;for(;!this.J&&this.C<ye.length;)if(hr=By(this,ye),hr==Il){Kt==4&&(this.s=4,Bt(14),S=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(hr==$c){this.s=4,Bt(15),Qr(this.i,this.l,ye,"[Invalid Chunk]"),S=!1;break}else Qr(this.i,this.l,hr,null),zc(this,hr);if(kf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||ye.length!=0||this.h.h||(this.s=1,Bt(16),S=!1),this.o=this.o&&S,!S)Qr(this.i,this.l,ye,"[Invalid Chunked Response]"),xr(this),Hs(this);else if(0<ye.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Qc(dn),dn.M=!0,Bt(11))}}else Qr(this.i,this.l,ye,null),zc(this,ye);Kt==4&&xr(this),this.o&&!this.J&&(Kt==4?Dl(this.j,this):(this.o=!1,ft(this)))}else Cl(this.g),S==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),xr(this),Hs(this)}}}catch{}finally{}};function kf(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function By(f,v){var S=f.C,N=v.indexOf(`
`,S);return N==-1?Il:(S=Number(v.substring(S,N)),isNaN(S)?$c:(N+=1,N+S>v.length?Il:(v=v.slice(N,N+S),f.C=N+S,v)))}Jr.prototype.cancel=function(){this.J=!0,xr(this)};function ft(f){f.S=Date.now()+f.I,xf(f,f.I)}function xf(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Gr(_(f.ba,f),v)}function ua(f){f.B&&(u.clearTimeout(f.B),f.B=null)}Jr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Uc(this.i,this.A),this.L!=2&&(ss(),Bt(17)),xr(this),this.s=2,Hs(this)):xf(this,this.S-f)};function Hs(f){f.j.G==0||f.J||Dl(f.j,f)}function xr(f){ua(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Oc(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function zc(f,v){try{var S=f.j;if(S.G!=0&&(S.g==f||Fn(S.h,f))){if(!f.K&&Fn(S.h,f)&&S.G==3){try{var N=S.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Q=N;if(Q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)Nl(S),ni(S);else break e;Ol(S),Bt(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=Gr(_(S.Za,S),6e3));if(1>=Nf(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else cs(S,11)}else if((f.K||S.g==f)&&Nl(S),!L(v))for(Q=S.Da.g.parse(v),v=0;v<Q.length;v++){let Je=Q[v];if(S.T=Je[0],Je=Je[1],S.G==2)if(Je[0]=="c"){S.K=Je[1],S.ia=Je[2];const dn=Je[3];dn!=null&&(S.la=dn,S.j.info("VER="+S.la));const Kt=Je[4];Kt!=null&&(S.Aa=Kt,S.j.info("SVER="+S.Aa));const Nr=Je[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(N=1.5*Nr,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const hr=f.g;if(hr){const ga=hr.g?hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var ne=N.h;ne.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(jc(ne,ne.h),ne.h=null))}if(N.D){const Vl=hr.g?hr.g.getResponseHeader("X-HTTP-Session-Id"):null;Vl&&(N.ya=Vl,ct(N.I,N.D,Vl))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var ye=f;if(N.qa=Hf(N,N.J?N.ia:null,N.W),ye.K){Df(N.h,ye);var ot=ye,sn=N.L;sn&&(ot.I=sn),ot.B&&(ua(ot),ft(ot)),N.g=ye}else ma(N);0<S.i.length&&Ti(S)}else Je[0]!="stop"&&Je[0]!="close"||cs(S,7);else S.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?cs(S,7):wn(S):Je[0]!="noop"&&S.l&&S.l.ta(Je),S.v=0)}}ss(4)}catch{}}var Of=class{constructor(f,v){this.g=f,this.map=v}};function ca(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ur(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Nf(f){return f.h?1:f.g?f.g.size:0}function Fn(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function jc(f,v){f.g?f.g.add(v):f.h=v}function Df(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}ca.prototype.cancel=function(){if(this.i=Lf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Lf(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const S of f.g.values())v=v.concat(S.D);return v}return R(f.i)}function Sl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],S=f.length,N=0;N<S;N++)v.push(f[N]);return v}v=[],S=0;for(N in f)v[S++]=f[N];return v}function Rl(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var S=0;S<f;S++)v.push(S);return v}v=[],S=0;for(const N in f)v[S++]=N;return v}}}function Ks(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var S=Rl(f),N=Sl(f),Q=N.length,ne=0;ne<Q;ne++)v.call(void 0,N[ne],S&&S[ne],f)}var da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zy(f,v){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var N=f[S].indexOf("="),Q=null;if(0<=N){var ne=f[S].substring(0,N);Q=f[S].substring(N+1)}else ne=f[S];v(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function os(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof os){this.h=f.h,ha(this,f.j),this.o=f.o,this.g=f.g,Gs(this,f.s),this.l=f.l;var v=f.i,S=new wi;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),Qs(this,S),this.m=f.m}else f&&(v=String(f).match(da))?(this.h=!1,ha(this,v[1]||"",!0),this.o=Ke(v[2]||""),this.g=Ke(v[3]||"",!0),Gs(this,v[4]),this.l=Ke(v[5]||"",!0),Qs(this,v[6]||"",!0),this.m=Ke(v[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}os.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Js(v,Al,!0),":");var S=this.g;return(S||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Js(v,Al,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Js(S,S.charAt(0)=="/"?Ff:Mf,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Js(S,Wc)),f.join("")};function cr(f){return new os(f)}function ha(f,v,S){f.j=S?Ke(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Gs(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function Qs(f,v,S){v instanceof wi?(f.i=v,Ei(f.i,f.h)):(S||(v=Js(v,Uf)),f.i=new wi(v,f.h))}function ct(f,v,S){f.i.set(v,S)}function Ys(f){return ct(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ke(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Js(f,v,S){return typeof f=="string"?(f=encodeURI(f).replace(v,Vf),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Vf(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Al=/[#\/\?@]/g,Mf=/[#\?:]/g,Ff=/[#\?]/g,Uf=/[#\?@]/g,Wc=/#/g;function wi(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function vn(f){f.g||(f.g=new Map,f.h=0,f.i&&zy(f.i,function(v,S){f.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}n=wi.prototype,n.add=function(f,v){vn(this),this.i=null,f=Or(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(v),this.h+=1,this};function Xr(f,v){vn(f),v=Or(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Zr(f,v){return vn(f),v=Or(f,v),f.g.has(v)}n.forEach=function(f,v){vn(this),this.g.forEach(function(S,N){S.forEach(function(Q){f.call(v,Q,N,this)},this)},this)},n.na=function(){vn(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let N=0;N<v.length;N++){const Q=f[N];for(let ne=0;ne<Q.length;ne++)S.push(v[N])}return S},n.V=function(f){vn(this);let v=[];if(typeof f=="string")Zr(this,f)&&(v=v.concat(this.g.get(Or(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)v=v.concat(f[S])}return v},n.set=function(f,v){return vn(this),this.i=null,f=Or(this,f),Zr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Xs(f,v,S){Xr(f,v),0<S.length&&(f.i=null,f.g.set(Or(f,v),R(S)),f.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var N=v[S];const ne=encodeURIComponent(String(N)),ye=this.V(N);for(N=0;N<ye.length;N++){var Q=ne;ye[N]!==""&&(Q+="="+encodeURIComponent(String(ye[N]))),f.push(Q)}}return this.i=f.join("&")};function Or(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Ei(f,v){v&&!f.j&&(vn(f),f.i=null,f.g.forEach(function(S,N){var Q=N.toLowerCase();N!=Q&&(Xr(this,N),Xs(this,Q,S))},f)),f.j=v}function jy(f,v){const S=new oa;if(u.Image){const N=new Image;N.onload=T(Gn,S,"TestLoadImage: loaded",!0,v,N),N.onerror=T(Gn,S,"TestLoadImage: error",!1,v,N),N.onabort=T(Gn,S,"TestLoadImage: abort",!1,v,N),N.ontimeout=T(Gn,S,"TestLoadImage: timeout",!1,v,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else v(!1)}function $f(f,v){const S=new oa,N=new AbortController,Q=setTimeout(()=>{N.abort(),Gn(S,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:N.signal}).then(ne=>{clearTimeout(Q),ne.ok?Gn(S,"TestPingServer: ok",!0,v):Gn(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Gn(S,"TestPingServer: error",!1,v)})}function Gn(f,v,S,N,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),N(S)}catch{}}function Wy(){this.g=new Lc}function Bf(f,v,S){const N=S||"";try{Ks(f,function(Q,ne){let ye=Q;h(Q)&&(ye=Nc(Q)),v.push(N+ne+"="+encodeURIComponent(ye))})}catch(Q){throw v.push(N+"type="+encodeURIComponent("_badmap")),Q}}function as(f){this.l=f.Ub||null,this.j=f.eb||!1}I(as,ia),as.prototype.g=function(){return new fa(this.l,this.j)},as.prototype.i=function(f){return function(){return f}}({});function fa(f,v){nn.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(fa,nn),n=fa.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,ti(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zf(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function zf(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?ei(this):ti(this),this.readyState==3&&zf(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,ei(this))},n.Qa=function(f){this.g&&(this.response=f,ei(this))},n.ga=function(){this.g&&ei(this)};function ei(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ti(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=v.next();return f.join(`\r
`)};function ti(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ls(f){let v="";return j(f,function(S,N){v+=N,v+=":",v+=S,v+=`\r
`}),v}function Zs(f,v,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=ls(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):ct(f,v,S))}function Et(f){nn.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Et,nn);var qy=/^https?$/i,qc=["POST","PUT"];n=Et.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yr.g(),this.v=this.o?gl(this.o):gl(Yr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(ne){pa(this,ne);return}if(f=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Q in N)S.set(Q,N[Q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())S.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(qc,v,void 0))||N||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of S)this.g.setRequestHeader(ne,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bl(this),this.u=!0,this.g.send(f),this.u=!1}catch(ne){pa(this,ne)}};function pa(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Pl(f),dr(f)}function Pl(f){f.A||(f.A=!0,rn(f,"complete"),rn(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,rn(this,"complete"),rn(this,"abort"),dr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),Et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Hc(this):this.bb())},n.bb=function(){Hc(this)};function Hc(f){if(f.h&&typeof l<"u"&&(!f.v[1]||Qn(f)!=4||f.Z()!=2)){if(f.u&&Qn(f)==4)kc(f.Ea,0,f);else if(rn(f,"readystatechange"),Qn(f)==4){f.h=!1;try{const ye=f.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var N;if(N=ye===0){var Q=String(f.D).match(da)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),N=!qy.test(Q?Q.toLowerCase():"")}S=N}if(S)rn(f,"complete"),rn(f,"success");else{f.m=6;try{var ne=2<Qn(f)?f.g.statusText:""}catch{ne=""}f.l=ne+" ["+f.Z()+"]",Pl(f)}}finally{dr(f)}}}}function dr(f,v){if(f.g){bl(f);const S=f.g,N=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||rn(f,"ready");try{S.onreadystatechange=N}catch{}}}function bl(f){f.I&&(u.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Qn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Dc(v)}};function Kc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Cl(f){const v={};f=(f.g&&2<=Qn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(L(f[N]))continue;var S=x(f[N]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=v[Q]||[];v[Q]=ne,ne.push(S)}D(v,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(f,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||v}function Gc(f){this.Aa=0,this.i=[],this.j=new oa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ii("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ii("baseRetryDelayMs",5e3,f),this.cb=Ii("retryDelaySeedMs",1e4,f),this.Wa=Ii("forwardChannelMaxRetries",2,f),this.wa=Ii("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ca(f&&f.concurrentRequestLimit),this.Da=new Wy,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Gc.prototype,n.la=8,n.G=1,n.connect=function(f,v,S,N){Bt(0),this.W=f,this.H=v||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=Hf(this,null,this.W),Ti(this)};function wn(f){if(kl(f),f.G==3){var v=f.U++,S=cr(f.I);if(ct(S,"SID",f.K),ct(S,"RID",v),ct(S,"TYPE","terminate"),us(f,S),v=new Jr(f,f.j,v),v.L=2,v.v=Ys(cr(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=v.v,S=!0),S||(v.g=Kf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ft(v)}qf(f)}function ni(f){f.g&&(Qc(f),f.g.cancel(),f.g=null)}function kl(f){ni(f),f.u&&(u.clearTimeout(f.u),f.u=null),Nl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function Ti(f){if(!ur(f.h)&&!f.s){f.s=!0;var v=f.Ga;oe||he(),Z||(oe(),Z=!0),pe.add(v,f),f.B=0}}function Hy(f,v){return Nf(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Gr(_(f.Ga,f,v),Wf(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new Jr(this,this.j,f);let ne=this.o;if(this.S&&(ne?(ne=A(ne),E(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=eo(this,Q,v),S=cr(this.I),ct(S,"RID",f),ct(S,"CVER",22),this.D&&ct(S,"X-HTTP-Session-Id",this.D),us(this,S),ne&&(this.O?v="headers="+encodeURIComponent(String(ls(ne)))+"&"+v:this.m&&Zs(S,this.m,ne)),jc(this.h,Q),this.Ua&&ct(S,"TYPE","init"),this.P?(ct(S,"$req",v),ct(S,"SID","null"),Q.T=!0,Tl(Q,S,null)):Tl(Q,S,v),this.G=2}}else this.G==3&&(f?xl(this,f):this.i.length==0||ur(this.h)||xl(this))};function xl(f,v){var S;v?S=v.l:S=f.U++;const N=cr(f.I);ct(N,"SID",f.K),ct(N,"RID",S),ct(N,"AID",f.T),us(f,N),f.m&&f.o&&Zs(N,f.m,f.o),S=new Jr(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),v&&(f.i=v.D.concat(f.i)),v=eo(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),jc(f.h,S),Tl(S,N,v)}function us(f,v){f.H&&j(f.H,function(S,N){ct(v,N,S)}),f.l&&Ks({},function(S,N){ct(v,N,S)})}function eo(f,v,S){S=Math.min(f.i.length,S);var N=f.l?_(f.l.Na,f.l,f):null;e:{var Q=f.i;let ne=-1;for(;;){const ye=["count="+S];ne==-1?0<S?(ne=Q[0].g,ye.push("ofs="+ne)):ne=0:ye.push("ofs="+ne);let ot=!0;for(let sn=0;sn<S;sn++){let Je=Q[sn].g;const dn=Q[sn].map;if(Je-=ne,0>Je)ne=Math.max(0,Q[sn].g-100),ot=!1;else try{Bf(dn,ye,"req"+Je+"_")}catch{N&&N(dn)}}if(ot){N=ye.join("&");break e}}}return f=f.i.splice(0,S),v.D=f,N}function ma(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;oe||he(),Z||(oe(),Z=!0),pe.add(v,f),f.v=0}}function Ol(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Gr(_(f.Fa,f),Wf(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,jf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Gr(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),ni(this),jf(this))};function Qc(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function jf(f){f.g=new Jr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=cr(f.qa);ct(v,"RID","rpc"),ct(v,"SID",f.K),ct(v,"AID",f.T),ct(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&ct(v,"TO",f.ja),ct(v,"TYPE","xmlhttp"),us(f,v),f.m&&f.o&&Zs(v,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=Ys(cr(v)),S.m=null,S.P=!0,Bc(S,f)}n.Za=function(){this.C!=null&&(this.C=null,ni(this),Ol(this),Bt(19))};function Nl(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Dl(f,v){var S=null;if(f.g==v){Nl(f),Qc(f),f.g=null;var N=2}else if(Fn(f.h,v))S=v.D,Df(f.h,v),N=1;else return;if(f.G!=0){if(v.o)if(N==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var Q=f.B;N=sa(),rn(N,new vl(N,S)),Ti(f)}else ma(f);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(N==1&&Hy(f,v)||N==2&&Ol(f)))switch(S&&0<S.length&&(v=f.h,v.i=v.i.concat(S)),Q){case 1:cs(f,5);break;case 4:cs(f,10);break;case 3:cs(f,6);break;default:cs(f,2)}}}function Wf(f,v){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*v}function cs(f,v){if(f.j.info("Error code "+v),v==2){var S=_(f.fb,f),N=f.Xa;const Q=!N;N=new os(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ha(N,"https"),Ys(N),Q?jy(N.toString(),S):$f(N.toString(),S)}else Bt(2);f.G=0,f.l&&f.l.sa(v),qf(f),kl(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function qf(f){if(f.G=0,f.ka=[],f.l){const v=Lf(f.h);(v.length!=0||f.i.length!=0)&&(P(f.ka,v),P(f.ka,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.ra()}}function Hf(f,v,S){var N=S instanceof os?cr(S):new os(S);if(N.g!="")v&&(N.g=v+"."+N.g),Gs(N,N.s);else{var Q=u.location;N=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new os(null);N&&ha(ne,N),v&&(ne.g=v),Q&&Gs(ne,Q),S&&(ne.l=S),N=ne}return S=f.D,v=f.ya,S&&v&&ct(N,S,v),ct(N,"VER",f.la),us(f,N),N}function Kf(f,v,S){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new Et(new as({eb:S})):new Et(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}n=Yc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ll(){}Ll.prototype.g=function(f,v){return new Un(f,v)};function Un(f,v){nn.call(this),this.g=new Gc(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!L(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!L(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Si(this)}I(Un,nn),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){wn(this.g)},Un.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Nc(f),f=S);v.i.push(new Of(v.Ya++,f)),v.G==3&&Ti(v)},Un.prototype.N=function(){this.g.l=null,delete this.j,wn(this.g),delete this.g,Un.aa.N.call(this)};function Gf(f){_i.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const S in v){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}I(Gf,_i);function Qf(){_l.call(this),this.status=1}I(Qf,_l);function Si(f){this.g=f}I(Si,Yc),Si.prototype.ua=function(){rn(this.g,"a")},Si.prototype.ta=function(f){rn(this.g,new Gf(f))},Si.prototype.sa=function(f){rn(this.g,new Qf)},Si.prototype.ra=function(){rn(this.g,"b")},Ll.prototype.createWebChannel=Ll.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,S1=function(){return new Ll},T1=function(){return sa()},I1=vi,Sw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},El.NO_ERROR=0,El.TIMEOUT=8,El.HTTP_ERROR=6,_m=El,bf.COMPLETE="complete",E1=bf,yl.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",nn.prototype.listen=nn.prototype.K,Qd=yl,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,w1=Et}).apply(typeof Hp<"u"?Hp:typeof self<"u"?self:typeof window<"u"?window:{});const sA="@firebase/firestore",oA="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Qh("@firebase/firestore");function vu(){return Lo.logLevel}function D3(n){Lo.setLogLevel(n)}function ue(n,...e){if(Lo.logLevel<=$e.DEBUG){const t=e.map(o0);Lo.debug(`Firestore (${mc}): ${n}`,...t)}}function jt(n,...e){if(Lo.logLevel<=$e.ERROR){const t=e.map(o0);Lo.error(`Firestore (${mc}): ${n}`,...t)}}function Ji(n,...e){if(Lo.logLevel<=$e.WARN){const t=e.map(o0);Lo.warn(`Firestore (${mc}): ${n}`,...t)}}function o0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n="Unexpected state"){const e=`FIRESTORE (${mc}) INTERNAL ASSERTION FAILED: `+n;throw jt(e),new Error(e)}function Re(n,e){n||Ee()}function L3(n,e){n||Ee()}function ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends yn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gn.UNAUTHENTICATED))}shutdown(){}}class M3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class F3{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Re(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new An;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new An,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=s;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new An)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new R1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new gn(e)}}class U3{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class $3{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new U3(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B3{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Qe(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Re(this.o===void 0);const r=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new aA(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Re(typeof t.token=="string"),this.R=t.token,new aA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=z3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function Uu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function P1(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=-62135596800,uA=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*uA);return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<lA)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uA}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-lA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Pt(0,0))}static max(){return new be(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="__name__";class xi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(),r===void 0?r=e.length-t:r>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=xi.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=xi.isNumericId(e),i=xi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?xi.extractNumericId(e).compare(xi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Co.fromString(e.substring(4,e.length-2))}}class je extends xi{construct(e,t,r){return new je(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new je(t)}static emptyPath(){return new je([])}}const j3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends xi{construct(e,t,r){return new Rt(e,t,r)}static isValidIdentifier(e){return j3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cA}static keyField(){return new Rt([cA])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ae(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ae(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new ae(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(t)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(je.fromString(e))}static fromName(e){return new _e(je.fromString(e).popFirst(5))}static empty(){return new _e(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=-1;class eg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Rw(n){return n.fields.find(e=>e.kind===2)}function Oa(n){return n.fields.filter(e=>e.kind!==2)}eg.UNKNOWN_ID=-1;class vm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Rh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Rh(0,Ar.min())}}function b1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new Ar(i,_e.empty(),e)}function C1(n){return new Ar(n.readTime,n.key,$u)}class Ar{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ar(be.min(),_e.empty(),$u)}static max(){return new Ar(be.max(),_e.empty(),$u)}}function a0(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==k1)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,r)=>{t(e)})}static reject(e){return new G((t,r)=>{r(e)})}static waitFor(e){return new G((t,r)=>{let i=0,s=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++s,l&&s===i&&t()},d=>r(d))}),l=!0,s===i&&t()})}static or(e){let t=G.resolve(!1);for(const r of e)t=t.next(i=>i?G.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new G((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const h=d;t(e[h]).next(m=>{l[h]=m,++u,u===s&&r(l)},m=>i(m))}})}static doWhile(e,t){return new G((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="SimpleDb";class Gg{static open(e,t,r,i){try{return new Gg(t,e.transaction(i,r))}catch(s){throw new ah(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new An,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new ah(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=l0(r.target.error);this.m.reject(new ah(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(ue(_r,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new q3(t)}}class qi{static delete(e){return ue(_r,"Removing database:",e),Da(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!yh())return!1;if(qi.v())return!0;const e=qe(),t=qi.C(e),r=0<t&&t<10,i=O1(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,qi.C(qe())===12.2&&jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(ue(_r,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;t(l)},i.onblocked=()=>{r(new ah(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new ae(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ae(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new ah(e,l))},i.onupgradeneeded=s=>{ue(_r,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.O.B(l,i.transaction,s.oldVersion,this.version).next(()=>{ue(_r,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.N(e);const u=Gg.open(this.db,e,s?"readonly":"readwrite",r),d=i(u).next(h=>(u.S(),h)).catch(h=>(u.abort(h),G.reject(h))).toPromise();return d.catch(()=>{}),await u.p,d}catch(u){const d=u,h=d.name!=="FirebaseError"&&l<3;if(ue(_r,"Transaction failed with error:",d.message,"Retrying:",h),this.close(),!h)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function O1(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class W3{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return Da(this.q.delete())}}class ah extends ae{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Xo(n){return n.name==="IndexedDbTransactionError"}class q3{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ue(_r,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue(_r,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Da(r)}add(e){return ue(_r,"ADD",this.store.name,e,e),Da(this.store.add(e))}get(e){return Da(this.store.get(e)).next(t=>(t===void 0&&(t=null),ue(_r,"GET",this.store.name,e,t),t))}delete(e){return ue(_r,"DELETE",this.store.name,e),Da(this.store.delete(e))}count(){return ue(_r,"COUNT",this.store.name),Da(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new G((l,u)=>{s.onerror=d=>{u(d.target.error)},s.onsuccess=d=>{l(d.target.result)}})}{const s=this.cursor(r),l=[];return this.j(s,(u,d)=>{l.push(d)}).next(()=>l)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new G((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){ue(_r,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(s,l,u)=>u.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new G((r,i)=>{t.onerror=s=>{const l=l0(s.target.error);i(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(u=>{u?l.continue():r()}):r()}})}j(e,t){const r=[];return new G((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const d=new W3(u),h=t(u.primaryKey,u.value,d);if(h instanceof G){const m=h.catch(g=>(d.done(),G.reject(g)));r.push(m)}d.isDone?i():d.U===null?u.continue():u.continue(d.U)}}).next(()=>G.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Da(n){return new G((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=l0(r.target.error);t(i)}})}let dA=!1;function l0(n){const e=qi.C(qe());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dA||(dA=!0,setTimeout(()=>{throw r},0)),r}}return n}const lh="IndexBackfiller";class H3{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){ue(lh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();ue(lh,`Documents written: ${t}`)}catch(t){Xo(t)?ue(lh,"Ignoring IndexedDB error during index backfill: ",t):await Jo(t)}await this.te(6e4)})}}class K3{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,s=!0;return G.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!r.has(l))return ue(lh,`Processing collection: ${l}`),this.ie(e,l,i).next(u=>{i-=u,r.add(l)});s=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.se(i,s)).next(u=>(ue(lh,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u))).next(()=>l.size)}))}se(e,t){let r=e;return t.changes.forEach((i,s)=>{const l=C1(s);a0(l,r)>0&&(r=l)}),new Ar(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}rr.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=-1;function lf(n){return n==null}function Ah(n){return n===0&&1/n==-1/0}function N1(n){return typeof n=="number"&&Number.isInteger(n)&&!Ah(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="";function Vn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hA(e)),e=G3(n.get(t),e);return hA(e)}function G3(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case tg:t+="";break;default:t+=s}}return t}function hA(n){return n+tg+""}function Bi(n){const e=n.length;if(Re(e>=2),e===2)return Re(n.charAt(0)===tg&&n.charAt(1)===""),je.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const l=n.indexOf(tg,s);switch((l<0||l>t)&&Ee(),n.charAt(l+1)){case"":const u=n.substring(s,l);let d;i.length===0?d=u:(i+=u,d=i,i=""),r.push(d);break;case"":i+=n.substring(s,l),i+="\0";break;case"":i+=n.substring(s,l+1);break;default:Ee()}s=l+2}return new je(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="remoteDocuments",uf="owner",iu="owner",Ph="mutationQueues",Q3="userId",ci="mutations",fA="batchId",$a="userMutationsIndex",pA=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(n,e){return[n,Vn(e)]}function D1(n,e,t){return[n,Vn(e),t]}const Y3={},Bu="documentMutations",ng="remoteDocumentsV14",J3=["prefixPath","collectionGroup","readTime","documentId"],Em="documentKeyIndex",X3=["prefixPath","collectionGroup","documentId"],L1="collectionGroupIndex",Z3=["collectionGroup","readTime","prefixPath","documentId"],bh="remoteDocumentGlobal",Aw="remoteDocumentGlobalKey",zu="targets",V1="queryTargetsIndex",ez=["canonicalId","targetId"],ju="targetDocuments",tz=["targetId","path"],u0="documentTargetsIndex",nz=["path","targetId"],rg="targetGlobalKey",Ha="targetGlobal",Ch="collectionParents",rz=["collectionId","parent"],Wu="clientMetadata",iz="clientId",Qg="bundles",sz="bundleId",Yg="namedQueries",oz="name",c0="indexConfiguration",az="indexId",Pw="collectionGroupIndex",lz="collectionGroup",ig="indexState",uz=["indexId","uid"],M1="sequenceNumberIndex",cz=["uid","sequenceNumber"],sg="indexEntries",dz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],F1="documentKeyIndex",hz=["indexId","uid","orderedDocumentKey"],Jg="documentOverlays",fz=["userId","collectionPath","documentId"],bw="collectionPathOverlayIndex",pz=["userId","collectionPath","largestBatchId"],U1="collectionGroupOverlayIndex",mz=["userId","collectionGroup","largestBatchId"],d0="globals",gz="name",$1=[Ph,ci,Bu,Na,zu,uf,Ha,ju,Wu,bh,Ch,Qg,Yg],yz=[...$1,Jg],B1=[Ph,ci,Bu,ng,zu,uf,Ha,ju,Wu,bh,Ch,Qg,Yg,Jg],z1=B1,h0=[...z1,c0,ig,sg],_z=h0,vz=[...h0,d0];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends x1{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function un(n,e){const t=ve(n);return qi.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function j1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||Tn.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kp(this.root,e,this.comparator,!0)}}class Kp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Tn.RED,this.left=i??Tn.EMPTY,this.right=s??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Tn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gA(this.data.getIterator())}getIteratorFrom(e){return new gA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lt(this.comparator);return t.data=e,t}}class gA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function su(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new ir([])}unionWith(e){let t=new lt(Rt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ir(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new W1("Invalid base64 string: "+s):s}}(e);return new Ft(t)}static fromUint8Array(e){const t=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const Ez=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(Re(!!n),typeof n=="string"){let e=0;const t=Ez.exec(n);if(Re(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ls(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="server_timestamp",H1="__type__",K1="__previous_value__",G1="__local_write_time__";function Xg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[H1])===null||t===void 0?void 0:t.stringValue)===q1}function Zg(n){const e=n.mapValue.fields[K1];return Xg(e)?Zg(e):e}function kh(n){const e=Ds(n.mapValue.fields[G1].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,t,r,i,s,l,u,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}const kw="(default)";class Vo{constructor(e,t){this.projectId=e,this.database=t||kw}static empty(){return new Vo("","")}get isDefaultDatabase(){return this.database===kw}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="__type__",Q1="__max__",Ro={mapValue:{fields:{__type__:{stringValue:Q1}}}},p0="__vector__",qu="value",Im={nullValue:"NULL_VALUE"};function Mo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xg(n)?4:Y1(n)?9007199254740991:ey(n)?10:11:Ee()}function Xi(n,e){if(n===e)return!0;const t=Mo(n);if(t!==Mo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return kh(n).isEqual(kh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Ds(i.timestampValue),u=Ds(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Ls(i.bytesValue).isEqual(Ls(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return St(i.geoPointValue.latitude)===St(s.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return St(i.integerValue)===St(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=St(i.doubleValue),u=St(s.doubleValue);return l===u?Ah(l)===Ah(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Uu(n.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(mA(l)!==mA(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Xi(l[d],u[d])))return!1;return!0}(n,e);default:return Ee()}}function xh(n,e){return(n.values||[]).find(t=>Xi(t,e))!==void 0}function Fo(n,e){if(n===e)return 0;const t=Mo(n),r=Mo(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(s,l){const u=St(s.integerValue||s.doubleValue),d=St(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return yA(n.timestampValue,e.timestampValue);case 4:return yA(kh(n),kh(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(s,l){const u=Ls(s),d=Ls(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const u=s.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const m=Ve(u[h],d[h]);if(m!==0)return m}return Ve(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const u=Ve(St(s.latitude),St(l.latitude));return u!==0?u:Ve(St(s.longitude),St(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return _A(n.arrayValue,e.arrayValue);case 10:return function(s,l){var u,d,h,m;const g=s.fields||{},_=l.fields||{},T=(u=g[qu])===null||u===void 0?void 0:u.arrayValue,I=(d=_[qu])===null||d===void 0?void 0:d.arrayValue,R=Ve(((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0,((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0);return R!==0?R:_A(T,I)}(n.mapValue,e.mapValue);case 11:return function(s,l){if(s===Ro.mapValue&&l===Ro.mapValue)return 0;if(s===Ro.mapValue)return 1;if(l===Ro.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const _=Ve(d[g],m[g]);if(_!==0)return _;const T=Fo(u[d[g]],h[m[g]]);if(T!==0)return T}return Ve(d.length,m.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function yA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Ds(n),r=Ds(e),i=Ve(t.seconds,r.seconds);return i!==0?i:Ve(t.nanos,r.nanos)}function _A(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Fo(t[i],r[i]);if(s)return s}return Ve(t.length,r.length)}function Hu(n){return xw(n)}function xw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ds(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ls(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=xw(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${xw(t.fields[l])}`;return i+"}"}(n.mapValue):Ee()}function Tm(n){switch(Mo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zg(n);return e?16+Tm(e):16;case 5:return 2*n.stringValue.length;case 6:return Ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Tm(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Zo(r.fields,(s,l)=>{i+=s.length+Tm(l)}),i}(n.mapValue);default:throw Ee()}}function Ja(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ow(n){return!!n&&"integerValue"in n}function Oh(n){return!!n&&"arrayValue"in n}function vA(n){return!!n&&"nullValue"in n}function wA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sm(n){return!!n&&"mapValue"in n}function ey(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[f0])===null||t===void 0?void 0:t.stringValue)===p0}function uh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Y1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Q1}const J1={mapValue:{fields:{[f0]:{stringValue:p0},[qu]:{arrayValue:{}}}}};function Tz(n){return"nullValue"in n?Im:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ja(Vo.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?ey(n)?J1:{mapValue:{}}:Ee()}function Sz(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ja(Vo.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?J1:"mapValue"in n?ey(n)?{mapValue:{}}:Ro:Ee()}function EA(n,e){const t=Fo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function IA(n,e){const t=Fo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uh(t)}setAll(e){let t=Rt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=uh(l):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Sm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Sm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Zo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Rn(uh(this.value))}}function X1(n){const e=[];return Zo(n.fields,(t,r)=>{const i=new Rt([t]);if(Sm(r)){const s=X1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t,r,i,s,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new vt(e,0,be.min(),be.min(),be.min(),Rn.empty(),0)}static newFoundDocument(e,t,r,i){return new vt(e,1,t,be.min(),r,i,0)}static newNoDocument(e,t){return new vt(e,2,t,be.min(),be.min(),Rn.empty(),0)}static newUnknownDocument(e,t){return new vt(e,3,t,be.min(),be.min(),Rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,t){this.position=e,this.inclusive=t}}function TA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),t.key):r=Fo(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function SA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Rz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{}class We extends Z1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Az(e,t,r):t==="array-contains"?new Cz(e,r):t==="in"?new sx(e,r):t==="not-in"?new kz(e,r):t==="array-contains-any"?new xz(e,r):new We(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Pz(e,r):new bz(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Fo(t,this.value)):t!==null&&Mo(this.value)===Mo(t)&&this.matchesComparison(Fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class at extends Z1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new at(e,t)}matches(e){return Ku(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Ku(n){return n.op==="and"}function Nw(n){return n.op==="or"}function m0(n){return ex(n)&&Ku(n)}function ex(n){for(const e of n.filters)if(e instanceof at)return!1;return!0}function Dw(n){if(n instanceof We)return n.field.canonicalString()+n.op.toString()+Hu(n.value);if(m0(n))return n.filters.map(e=>Dw(e)).join(",");{const e=n.filters.map(t=>Dw(t)).join(",");return`${n.op}(${e})`}}function tx(n,e){return n instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&Xi(r.value,i.value)}(n,e):n instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,u)=>s&&tx(l,i.filters[u]),!0):!1}(n,e):void Ee()}function nx(n,e){const t=n.filters.concat(e);return at.create(t,n.op)}function rx(n){return n instanceof We?function(t){return`${t.field.canonicalString()} ${t.op} ${Hu(t.value)}`}(n):n instanceof at?function(t){return t.op.toString()+" {"+t.getFilters().map(rx).join(" ,")+"}"}(n):"Filter"}class Az extends We{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pz extends We{constructor(e,t){super(e,"in",t),this.keys=ix("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bz extends We{constructor(e,t){super(e,"not-in",t),this.keys=ix("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ix(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class Cz extends We{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Oh(t)&&xh(t.arrayValue,this.value)}}class sx extends We{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xh(this.value.arrayValue,t)}}class kz extends We{constructor(e,t){super(e,"not-in",t)}matches(e){if(xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!xh(this.value.arrayValue,t)}}class xz extends We{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Oh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e,t=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.le=null}}function Lw(n,e=null,t=[],r=[],i=null,s=null,l=null){return new Oz(n,e,t,r,i,s,l)}function Xa(n){const e=ve(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Dw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),lf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Hu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Hu(r)).join(",")),e.le=t}return e.le}function cf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Rz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!SA(n.startAt,e.startAt)&&SA(n.endAt,e.endAt)}function og(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function ag(n,e){return n.filters.filter(t=>t instanceof We&&t.field.isEqual(e))}function RA(n,e,t){let r=Im,i=!0;for(const s of ag(n,e)){let l=Im,u=!0;switch(s.op){case"<":case"<=":l=Tz(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,u=!1;break;case"!=":case"not-in":l=Im}EA({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];EA({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function AA(n,e,t){let r=Ro,i=!0;for(const s of ag(n,e)){let l=Ro,u=!0;switch(s.op){case">=":case">":l=Sz(s.value),u=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,u=!1;break;case"!=":case"not-in":l=Ro}IA({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];IA({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ox(n,e,t,r,i,s,l,u){return new $s(n,e,t,r,i,s,l,u)}function gc(n){return new $s(n)}function PA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function g0(n){return n.collectionGroup!==null}function xu(n){const e=ve(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new lt(Rt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new Nh(s,r))}),t.has(Rt.keyField().canonicalString())||e.he.push(new Nh(Rt.keyField(),r))}return e.he}function Wn(n){const e=ve(n);return e.Pe||(e.Pe=Nz(e,xu(n))),e.Pe}function Nz(n,e){if(n.limitType==="F")return Lw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Nh(i.field,s)});const t=n.endAt?new Uo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Uo(n.startAt.position,n.startAt.inclusive):null;return Lw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Vw(n,e){const t=n.filters.concat([e]);return new $s(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function lg(n,e,t){return new $s(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function df(n,e){return cf(Wn(n),Wn(e))&&n.limitType===e.limitType}function ax(n){return`${Xa(Wn(n))}|lt:${n.limitType}`}function wu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>rx(i)).join(", ")}]`),lf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Hu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Hu(i)).join(",")),`Target(${r})`}(Wn(n))}; limitType=${n.limitType})`}function hf(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of xu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,d){const h=TA(l,u,d);return l.inclusive?h<=0:h<0}(r.startAt,xu(r),i)||r.endAt&&!function(l,u,d){const h=TA(l,u,d);return l.inclusive?h>=0:h>0}(r.endAt,xu(r),i))}(n,e)}function lx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ux(n){return(e,t)=>{let r=!1;for(const i of xu(n)){const s=Dz(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Dz(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(s,l,u){const d=l.data.field(s),h=u.data.field(s);return d!==null&&h!==null?Fo(d,h):Ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return j1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz=new mt(_e.comparator);function sr(){return Lz}const cx=new mt(_e.comparator);function Yd(...n){let e=cx;for(const t of n)e=e.insert(t.key,t);return e}function dx(n){let e=cx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function zi(){return ch()}function hx(){return ch()}function ch(){return new Bs(n=>n.toString(),(n,e)=>n.isEqual(e))}const Vz=new mt(_e.comparator),Mz=new lt(_e.comparator);function Ue(...n){let e=Mz;for(const t of n)e=e.add(t);return e}const Fz=new lt(Ve);function y0(){return Fz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function fx(n){return{integerValue:""+n}}function px(n,e){return N1(e)?fx(e):_0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this._=void 0}}function Uz(n,e,t){return n instanceof Gu?function(i,s){const l={fields:{[H1]:{stringValue:q1},[G1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Xg(s)&&(s=Zg(s)),s&&(l.fields[K1]=s),{mapValue:l}}(t,e):n instanceof Za?gx(n,e):n instanceof el?yx(n,e):function(i,s){const l=mx(i,s),u=bA(l)+bA(i.Ie);return Ow(l)&&Ow(i.Ie)?fx(u):_0(i.serializer,u)}(n,e)}function $z(n,e,t){return n instanceof Za?gx(n,e):n instanceof el?yx(n,e):t}function mx(n,e){return n instanceof Qu?function(r){return Ow(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Gu extends ty{}class Za extends ty{constructor(e){super(),this.elements=e}}function gx(n,e){const t=_x(e);for(const r of n.elements)t.some(i=>Xi(i,r))||t.push(r);return{arrayValue:{values:t}}}class el extends ty{constructor(e){super(),this.elements=e}}function yx(n,e){let t=_x(e);for(const r of n.elements)t=t.filter(i=>!Xi(i,r));return{arrayValue:{values:t}}}class Qu extends ty{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function bA(n){return St(n.integerValue||n.doubleValue)}function _x(n){return Oh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t){this.field=e,this.transform=t}}function Bz(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Za&&i instanceof Za||r instanceof el&&i instanceof el?Uu(r.elements,i.elements,Xi):r instanceof Qu&&i instanceof Qu?Xi(r.Ie,i.Ie):r instanceof Gu&&i instanceof Gu}(n.transform,e.transform)}class zz{constructor(e,t){this.version=e,this.transformResults=t}}class At{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new At}static exists(e){return new At(void 0,e)}static updateTime(e){return new At(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ny{}function vx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new _c(n.key,At.none()):new yc(n.key,n.data,At.none());{const t=n.data,r=Rn.empty();let i=new lt(Rt.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new zs(n.key,r,new ir(i.toArray()),At.none())}}function jz(n,e,t){n instanceof yc?function(i,s,l){const u=i.value.clone(),d=kA(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof zs?function(i,s,l){if(!Rm(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=kA(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(wx(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function dh(n,e,t,r){return n instanceof yc?function(s,l,u,d){if(!Rm(s.precondition,l))return u;const h=s.value.clone(),m=xA(s.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof zs?function(s,l,u,d){if(!Rm(s.precondition,l))return u;const h=xA(s.fieldTransforms,d,l),m=l.data;return m.setAll(wx(s)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(s,l,u){return Rm(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function Wz(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=mx(r.transform,i||null);s!=null&&(t===null&&(t=Rn.empty()),t.set(r.field,s))}return t||null}function CA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Uu(r,i,(s,l)=>Bz(s,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class yc extends ny{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zs extends ny{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function wx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function kA(n,e,t){const r=new Map;Re(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,$z(l,u,t[i]))}return r}function xA(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,Uz(s,l,e))}return r}class _c extends ny{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class v0 extends ny{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&jz(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=dh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=dh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=hx();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(i.key)?null:u;const d=vx(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Uu(this.mutations,e.mutations,(t,r)=>CA(t,r))&&Uu(this.baseMutations,e.baseMutations,(t,r)=>CA(t,r))}}class E0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Re(e.mutations.length===r.length);let i=function(){return Vz}();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new E0(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,Xe;function Ex(n){switch(n){case te.OK:return Ee();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee()}}function Ix(n){if(n===void 0)return jt("GRPC error has no .code"),te.UNKNOWN;switch(n){case Yt.OK:return te.OK;case Yt.CANCELLED:return te.CANCELLED;case Yt.UNKNOWN:return te.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return te.INTERNAL;case Yt.UNAVAILABLE:return te.UNAVAILABLE;case Yt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Yt.NOT_FOUND:return te.NOT_FOUND;case Yt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Yt.ABORTED:return te.ABORTED;case Yt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Yt.DATA_LOSS:return te.DATA_LOSS;default:return Ee()}}(Xe=Yt||(Yt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=new Co([4294967295,4294967295],0);function OA(n){const e=Tx().encode(n),t=new v1;return t.update(e),new Uint8Array(t.digest())}function NA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Co([t,r],0),new Co([i,s],0)]}class T0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Jd(`Invalid padding: ${t}`);if(r<0)throw new Jd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Jd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Co.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Co.fromNumber(r)));return i.compare(Hz)===1&&(i=new Co([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=OA(e),[r,i]=NA(t);for(let s=0;s<this.hashCount;s++){const l=this.Ae(r,i,s);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new T0(s,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=OA(e),[r,i]=NA(t);for(let s=0;s<this.hashCount;s++){const l=this.Ae(r,i,s);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Jd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,mf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new pf(be.min(),i,new mt(Ve),sr(),Ue())}}class mf{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new mf(r,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class Sx{constructor(e,t){this.targetId=e,this.ge=t}}class Rx{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class DA{constructor(){this.pe=0,this.ye=LA(),this.we=Ft.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),r=Ue();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new mf(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=LA()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Re(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Kz{constructor(e){this.ke=e,this.qe=new Map,this.Qe=sr(),this.$e=Gp(),this.Ke=Gp(),this.Ue=new mt(Ve)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const s=i.target;if(og(s))if(r===0){const l=new _e(s.path);this.ze(t,l,vt.newNoDocument(l,be.min()))}else Re(r===1);else{const l=this.et(t);if(l!==r){const u=this.tt(e),d=u?this.nt(u,e,l):1;if(d!==0){this.Ye(t);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let l,u;try{l=Ls(r).toUint8Array()}catch(d){if(d instanceof W1)return Ji("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new T0(l,i,s)}catch(d){return Ji(d instanceof Jd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,s,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((s,l)=>{const u=this.Xe(l);if(u){if(s.current&&og(u.target)){const d=new _e(u.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,vt.newNoDocument(d,e))}s.ve&&(t.set(l,s.Fe()),s.Me())}});let r=Ue();this.Ke.forEach((s,l)=>{let u=!0;l.forEachWhile(d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.Qe.forEach((s,l)=>l.setReadTime(e));const i=new pf(e,t,this.Ue,this.Qe,r);return this.Qe=sr(),this.$e=Gp(),this.Ke=Gp(),this.Ue=new mt(Ve),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new DA,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new lt(Ve),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new lt(Ve),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new DA),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Gp(){return new mt(_e.comparator)}function LA(){return new mt(_e.comparator)}const Gz={asc:"ASCENDING",desc:"DESCENDING"},Qz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yz={and:"AND",or:"OR"};class Jz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mw(n,e){return n.useProto3Json||lf(e)?e:{value:e}}function Yu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ax(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Xz(n,e){return Yu(n,e.toTimestamp())}function Wt(n){return Re(!!n),be.fromTimestamp(function(t){const r=Ds(t);return new Pt(r.seconds,r.nanos)}(n))}function S0(n,e){return Fw(n,e).canonicalString()}function Fw(n,e){const t=function(i){return new je(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Px(n){const e=je.fromString(n);return Re(Mx(e)),e}function Dh(n,e){return S0(n.databaseId,e.path)}function Hi(n,e){const t=Px(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(kx(t))}function bx(n,e){return S0(n.databaseId,e)}function Cx(n){const e=Px(n);return e.length===4?je.emptyPath():kx(e)}function Uw(n){return new je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kx(n){return Re(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function VA(n,e,t){return{name:Dh(n,e),fields:t.value.mapValue.fields}}function xx(n,e,t){const r=Hi(n,e.name),i=Wt(e.updateTime),s=e.createTime?Wt(e.createTime):be.min(),l=new Rn({mapValue:{fields:e.fields}}),u=vt.newFoundDocument(r,i,s,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Zz(n,e){return"found"in e?function(r,i){Re(!!i.found),i.found.name,i.found.updateTime;const s=Hi(r,i.found.name),l=Wt(i.found.updateTime),u=i.found.createTime?Wt(i.found.createTime):be.min(),d=new Rn({mapValue:{fields:i.found.fields}});return vt.newFoundDocument(s,l,u,d)}(n,e):"missing"in e?function(r,i){Re(!!i.missing),Re(!!i.readTime);const s=Hi(r,i.missing),l=Wt(i.readTime);return vt.newNoDocument(s,l)}(n,e):Ee()}function ej(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,m){return h.useProto3Json?(Re(m===void 0||typeof m=="string"),Ft.fromBase64String(m||"")):(Re(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Ft.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const m=h.code===void 0?te.UNKNOWN:Ix(h.code);return new ae(m,h.message||"")}(l);t=new Rx(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hi(n,r.document.name),s=Wt(r.document.updateTime),l=r.document.createTime?Wt(r.document.createTime):be.min(),u=new Rn({mapValue:{fields:r.document.fields}}),d=vt.newFoundDocument(i,s,l,u),h=r.targetIds||[],m=r.removedTargetIds||[];t=new Am(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hi(n,r.document),s=r.readTime?Wt(r.readTime):be.min(),l=vt.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Am([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hi(n,r.document),s=r.removedTargetIds||[];t=new Am([],s,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new qz(i,s),u=r.targetId;t=new Sx(u,l)}}return t}function Lh(n,e){let t;if(e instanceof yc)t={update:VA(n,e.key,e.value)};else if(e instanceof _c)t={delete:Dh(n,e.key)};else if(e instanceof zs)t={update:VA(n,e.key,e.data),updateMask:oj(e.fieldMask)};else{if(!(e instanceof v0))return Ee();t={verify:Dh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const u=l.transform;if(u instanceof Gu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Za)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof el)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Qu)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Ee()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Xz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee()}(n,e.precondition)),t}function $w(n,e){const t=e.currentDocument?function(s){return s.updateTime!==void 0?At.updateTime(Wt(s.updateTime)):s.exists!==void 0?At.exists(s.exists):At.none()}(e.currentDocument):At.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let d=null;if("setToServerValue"in u)Re(u.setToServerValue==="REQUEST_TIME"),d=new Gu;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];d=new Za(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];d=new el(m)}else"increment"in u?d=new Qu(l,u.increment):Ee();const h=Rt.fromServerFormat(u.fieldPath);return new ff(h,d)}(n,i)):[];if(e.update){e.update.name;const i=Hi(n,e.update.name),s=new Rn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(d){const h=d.fieldPaths||[];return new ir(h.map(m=>Rt.fromServerFormat(m)))}(e.updateMask);return new zs(i,s,l,t,r)}return new yc(i,s,t,r)}if(e.delete){const i=Hi(n,e.delete);return new _c(i,t)}if(e.verify){const i=Hi(n,e.verify);return new v0(i,t)}return Ee()}function tj(n,e){return n&&n.length>0?(Re(e!==void 0),n.map(t=>function(i,s){let l=i.updateTime?Wt(i.updateTime):Wt(s);return l.isEqual(be.min())&&(l=Wt(s)),new zz(l,i.transformResults||[])}(t,e))):[]}function Ox(n,e){return{documents:[bx(n,e.path)]}}function Nx(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=bx(n,i);const s=function(h){if(h.length!==0)return Vx(at.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const l=function(h){if(h.length!==0)return h.map(m=>function(_){return{field:Eu(_.field),direction:rj(_.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Mw(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:i}}function Dx(n){let e=Cx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Re(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(g){const _=Lx(g);return _ instanceof at&&m0(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(_=>function(I){return new Nh(Iu(I.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(g){let _;return _=typeof g=="object"?g.value:g,lf(_)?null:_}(t.limit));let d=null;t.startAt&&(d=function(g){const _=!!g.before,T=g.values||[];return new Uo(T,_)}(t.startAt));let h=null;return t.endAt&&(h=function(g){const _=!g.before,T=g.values||[];return new Uo(T,_)}(t.endAt)),ox(e,i,l,s,u,"F",d,h)}function nj(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Lx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Iu(t.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Iu(t.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Iu(t.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Iu(t.unaryFilter.field);return We.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):n.fieldFilter!==void 0?function(t){return We.create(Iu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return at.create(t.compositeFilter.filters.map(r=>Lx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee()}function rj(n){return Gz[n]}function ij(n){return Qz[n]}function sj(n){return Yz[n]}function Eu(n){return{fieldPath:n.canonicalString()}}function Iu(n){return Rt.fromServerFormat(n.fieldPath)}function Vx(n){return n instanceof We?function(t){if(t.op==="=="){if(wA(t.value))return{unaryFilter:{field:Eu(t.field),op:"IS_NAN"}};if(vA(t.value))return{unaryFilter:{field:Eu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wA(t.value))return{unaryFilter:{field:Eu(t.field),op:"IS_NOT_NAN"}};if(vA(t.value))return{unaryFilter:{field:Eu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eu(t.field),op:ij(t.op),value:t.value}}}(n):n instanceof at?function(t){const r=t.getFilters().map(i=>Vx(i));return r.length===1?r[0]:{compositeFilter:{op:sj(t.op),filters:r}}}(n):Ee()}function oj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Mx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,r,i,s=be.min(),l=be.min(),u=Ft.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.Tt=e}}function aj(n,e){let t;if(e.document)t=xx(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=nl(e.noDocument.readTime);t=vt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee();{const r=_e.fromSegments(e.unknownDocument.path),i=nl(e.unknownDocument.version);t=vt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new Pt(i[0],i[1]);return be.fromTimestamp(s)}(e.readTime)),t}function MA(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ug(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,l){return{name:Dh(s,l.key),fields:l.data.value.mapValue.fields,updateTime:Yu(s,l.version.toTimestamp()),createTime:Yu(s,l.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:tl(e.version)};else{if(!e.isUnknownDocument())return Ee();r.unknownDocument={path:t.path.toArray(),version:tl(e.version)}}return r}function ug(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function tl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function nl(n){const e=new Pt(n.seconds,n.nanoseconds);return be.fromTimestamp(e)}function La(n,e){const t=(e.baseMutations||[]).map(s=>$w(n.Tt,s));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const u=e.mutations[s+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>$w(n.Tt,s)),i=Pt.fromMillis(e.localWriteTimeMs);return new w0(e.batchId,i,t,r)}function Xd(n){const e=nl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?nl(n.lastLimboFreeSnapshotVersion):be.min();let r;return r=function(s){return s.documents!==void 0}(n.query)?function(s){return Re(s.documents.length===1),Wn(gc(Cx(s.documents[0])))}(n.query):function(s){return Wn(Dx(s))}(n.query),new Ps(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ft.fromBase64String(n.resumeToken))}function Ux(n,e){const t=tl(e.snapshotVersion),r=tl(e.lastLimboFreeSnapshotVersion);let i;i=og(e.target)?Ox(n.Tt,e.target):Nx(n.Tt,e.target).ht;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Xa(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function R0(n){const e=Dx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?lg(e,e.limit,"L"):e}function Nv(n,e){return new I0(e.largestBatchId,$w(n.Tt,e.overlayMutation))}function FA(n,e){const t=e.path.lastSegment();return[n,Vn(e.path.popLast()),t]}function UA(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:tl(r.readTime),documentKey:Vn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{getBundleMetadata(e,t){return $A(e).get(t).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:nl(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,t){return $A(e).put(function(i){return{bundleId:i.id,createTime:tl(Wt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return BA(e).get(t).next(r=>{if(r)return function(s){return{name:s.name,query:R0(s.bundledQuery),readTime:nl(s.readTime)}}(r)})}saveNamedQuery(e,t){return BA(e).put(function(i){return{name:i.name,readTime:tl(Wt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function $A(n){return un(n,Qg)}function BA(n){return un(n,Yg)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new ry(e,r)}getOverlay(e,t){return Pd(e).get(FA(this.userId,t)).next(r=>r?Nv(this.serializer,r):null)}getOverlays(e,t){const r=zi();return G.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,l)=>{const u=new I0(t,l);i.push(this.Et(e,u))}),G.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Vn(l.getCollectionPath())));const s=[];return i.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(Pd(e).J(bw,u))}),G.waitFor(s)}getOverlaysForCollection(e,t,r){const i=zi(),s=Vn(t),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Pd(e).G(bw,l).next(u=>{for(const d of u){const h=Nv(this.serializer,d);i.set(h.getKey(),h)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=zi();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Pd(e).Z({index:U1,range:u},(d,h,m)=>{const g=Nv(this.serializer,h);s.size()<i||g.largestBatchId===l?(s.set(g.getKey(),g),l=g.largestBatchId):m.done()}).next(()=>s)}Et(e,t){return Pd(e).put(function(i,s,l){const[u,d,h]=FA(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:h,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Lh(i.Tt,l.mutation)}}(this.serializer,this.userId,t))}}function Pd(n){return un(n,Jg)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{dt(e){return un(e,d0)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Ft.fromUint8Array(r):Ft.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(St(e.integerValue));else if("doubleValue"in e){const r=St(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),Ah(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Ds(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Ls(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?Y1(e)?this.ft(t,Number.MAX_SAFE_INTEGER):ey(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):Ee()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const s=e.fields||{};this.ft(t,53);const l=qu,u=((i=(r=s[l].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(St(u)),this.wt(l,t),this.Rt(s[l],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}Va.xt=new Va;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=255;function cj(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function zA(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const l=cj(255&r[s]);if(i+=l,l!==8)break}return i}(n);return Math.ceil(e/8)}class dj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=zA(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=zA(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(ou),this.jt(255)}Ht(){this.Jt(ou),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===ou?(this.jt(ou),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===ou?(this.Jt(ou),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class hj{constructor(e){this.Zt=e}St(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class fj{constructor(e){this.Zt=e}St(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class bd{constructor(){this.Zt=new dj,this.Xt=new hj(this.Zt),this.en=new fj(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ma(this.indexId,this.documentKey,this.arrayValue,r)}}function _o(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=jA(n.arrayValue,e.arrayValue),t!==0?t:(t=jA(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function jA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.rn=new lt((t,r)=>Rt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Re(e.collectionGroup===this.collectionId),this.an)return!1;const t=Rw(e);if(t!==void 0&&!this.cn(t))return!1;const r=Oa(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.cn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.rn.size>0){const u=this.rn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const d=r[s];if(!this.ln(u,d)||!this.hn(this.sn[l++],d))return!1}++s}for(;s<r.length;++s){const u=r[s];if(l>=this.sn.length||!this.hn(this.sn[l++],u))return!1}return!0}Pn(){if(this.an)return null;let e=new lt(Rt.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new vm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new vm(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new vm(r.field,r.dir==="asc"?0:1)));return new eg(eg.UNKNOWN_ID,this.collectionId,t,Rh.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(n){var e,t;if(Re(n instanceof We||n instanceof at),n instanceof We){if(n instanceof sx){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>We.create(n.field,"==",s)))||[];return at.create(i,"or")}return n}const r=n.filters.map(i=>$x(i));return at.create(r,n.op)}function pj(n){if(n.getFilters().length===0)return[];const e=jw($x(n));return Re(Bx(e)),Bw(e)||zw(e)?[e]:e.getFilters()}function Bw(n){return n instanceof We}function zw(n){return n instanceof at&&m0(n)}function Bx(n){return Bw(n)||zw(n)||function(t){if(t instanceof at&&Nw(t)){for(const r of t.getFilters())if(!Bw(r)&&!zw(r))return!1;return!0}return!1}(n)}function jw(n){if(Re(n instanceof We||n instanceof at),n instanceof We)return n;if(n.filters.length===1)return jw(n.filters[0]);const e=n.filters.map(r=>jw(r));let t=at.create(e,n.op);return t=cg(t),Bx(t)?t:(Re(t instanceof at),Re(Ku(t)),Re(t.filters.length>1),t.filters.reduce((r,i)=>A0(r,i)))}function A0(n,e){let t;return Re(n instanceof We||n instanceof at),Re(e instanceof We||e instanceof at),t=n instanceof We?e instanceof We?function(i,s){return at.create([i,s],"and")}(n,e):qA(n,e):e instanceof We?qA(e,n):function(i,s){if(Re(i.filters.length>0&&s.filters.length>0),Ku(i)&&Ku(s))return nx(i,s.getFilters());const l=Nw(i)?i:s,u=Nw(i)?s:i,d=l.filters.map(h=>A0(h,u));return at.create(d,"or")}(n,e),cg(t)}function qA(n,e){if(Ku(e))return nx(e,n.getFilters());{const t=e.filters.map(r=>A0(n,r));return at.create(t,"or")}}function cg(n){if(Re(n instanceof We||n instanceof at),n instanceof We)return n;const e=n.getFilters();if(e.length===1)return cg(e[0]);if(ex(n))return n;const t=e.map(i=>cg(i)),r=[];return t.forEach(i=>{i instanceof We?r.push(i):i instanceof at&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:at.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(){this.Tn=new P0}addToCollectionParentIndex(e,t){return this.Tn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Ar.min())}updateCollectionGroup(e,t,r){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class P0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new lt(je.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="IndexedDbIndexManager",Qp=new Uint8Array(0);class gj{constructor(e,t){this.databaseId=t,this.In=new P0,this.En=new Bs(r=>Xa(r),(r,i)=>cf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const s={collectionId:r,parent:Vn(i)};return KA(e).put(s)}return G.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[P1(t),""],!1,!0);return KA(e).G(i).next(s=>{for(const l of s){if(l.collectionId!==t)break;r.push(Bi(l.parent))}return r})}addFieldIndex(e,t){const r=Cd(e),i=function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const s=r.add(i);if(t.indexState){const l=lu(e);return s.next(u=>{l.put(UA(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=Cd(e),i=lu(e),s=au(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Cd(e),r=au(e),i=lu(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return G.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new WA(r).Pn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=au(e);let i=!0;const s=new Map;return G.forEach(this.dn(t),l=>this.An(e,l).next(u=>{i&&(i=!!u),s.set(l,u)})).next(()=>{if(i){let l=Ue();const u=[];return G.forEach(s,(d,h)=>{ue(HA,`Using index ${function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(B=>`${B.fieldPath}:${B.kind}`).join(",")}`}(d)} to execute ${Xa(t)}`);const m=function(M,B){const $=Rw(B);if($===void 0)return null;for(const j of ag(M,$.fieldPath))switch(j.op){case"array-contains-any":return j.value.arrayValue.values||[];case"array-contains":return[j.value]}return null}(h,d),g=function(M,B){const $=new Map;for(const j of Oa(B))for(const D of ag(M,j.fieldPath))switch(D.op){case"==":case"in":$.set(j.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return $.set(j.fieldPath.canonicalString(),D.value),Array.from($.values())}return null}(h,d),_=function(M,B){const $=[];let j=!0;for(const D of Oa(B)){const A=D.kind===0?RA(M,D.fieldPath,M.startAt):AA(M,D.fieldPath,M.startAt);$.push(A.value),j&&(j=A.inclusive)}return new Uo($,j)}(h,d),T=function(M,B){const $=[];let j=!0;for(const D of Oa(B)){const A=D.kind===0?AA(M,D.fieldPath,M.endAt):RA(M,D.fieldPath,M.endAt);$.push(A.value),j&&(j=A.inclusive)}return new Uo($,j)}(h,d),I=this.Rn(d,h,_),R=this.Rn(d,h,T),P=this.Vn(d,h,g),V=this.mn(d.indexId,m,I,_.inclusive,R,T.inclusive,P);return G.forEach(V,L=>r.H(L,t.limit).next(M=>{M.forEach(B=>{const $=_e.fromSegments(B.documentKey);l.has($)||(l=l.add($),u.push($))})}))}).next(()=>u)}return G.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=pj(at.create(e.filters,"and")).map(r=>Lw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,s,l,u){const d=(t!=null?t.length:1)*Math.max(r.length,s.length),h=d/(t!=null?t.length:1),m=[];for(let g=0;g<d;++g){const _=t?this.fn(t[g/h]):Qp,T=this.gn(e,_,r[g%h],i),I=this.pn(e,_,s[g%h],l),R=u.map(P=>this.gn(e,_,P,!0));m.push(...this.createRange(T,I,R))}return m}gn(e,t,r,i){const s=new Ma(e,_e.empty(),t,r);return i?s:s.nn()}pn(e,t,r,i){const s=new Ma(e,_e.empty(),t,r);return i?s.nn():s}An(e,t){const r=new WA(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let l=null;for(const u of s)r.un(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(e,t){let r=2;const i=this.dn(t);return G.forEach(i,s=>this.An(e,s).next(l=>{l?r!==0&&l.fields.length<function(d){let h=new lt(Rt.comparator),m=!1;for(const g of d.filters)for(const _ of g.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?m=!0:h=h.add(_.field));for(const g of d.orderBy)g.field.isKeyField()||(h=h.add(g.field));return h.size+(m?1:0)}(s)&&(r=1):r=0})).next(()=>function(l){return l.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new bd;for(const i of Oa(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const l=r.tn(i.kind);Va.xt.At(s,l)}return r.Yt()}fn(e){const t=new bd;return Va.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new bd;return Va.xt.At(Ja(this.databaseId,t),r.tn(function(s){const l=Oa(s);return l.length===0?0:l[l.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new bd);let s=0;for(const l of Oa(e)){const u=r[s++];for(const d of i)if(this.bn(t,l.fieldPath)&&Oh(u))i=this.Sn(i,l,u);else{const h=d.tn(l.kind);Va.xt.At(u,h)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}Sn(e,t,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const u of i){const d=new bd;d.seed(u.Yt()),Va.xt.At(l,d.tn(t.kind)),s.push(d)}return s}bn(e,t){return!!e.filters.find(r=>r instanceof We&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Cd(e),i=lu(e);return(t?r.G(Pw,IDBKeyRange.bound(t,t)):r.G()).next(s=>{const l=[];return G.forEach(s,u=>i.get([u.indexId,this.uid]).next(d=>{l.push(function(m,g){const _=g?new Rh(g.sequenceNumber,new Ar(nl(g.readTime),new _e(Bi(g.documentKey)),g.largestBatchId)):Rh.empty(),T=m.fields.map(([I,R])=>new vm(Rt.fromServerFormat(I),R));return new eg(m.indexId,m.collectionGroup,T,_)}(u,d))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ve(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Cd(e),s=lu(e);return this.vn(e).next(l=>i.G(Pw,IDBKeyRange.bound(t,t)).next(u=>G.forEach(u,d=>s.put(UA(d.indexId,this.uid,l,r)))))}updateIndexEntries(e,t){const r=new Map;return G.forEach(t,(i,s)=>{const l=r.get(i.collectionGroup);return(l?G.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),G.forEach(u,d=>this.Cn(e,i,d).next(h=>{const m=this.Fn(s,d);return h.isEqual(m)?G.resolve():this.Mn(e,s,d,h,m)}))))})}xn(e,t,r,i){return au(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return au(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=au(e);let s=new lt(_o);return i.Z({index:F1,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(l,u)=>{s=s.add(new Ma(r.indexId,t,u.arrayValue,u.directionalValue))}).next(()=>s)}Fn(e,t){let r=new lt(_o);const i=this.yn(t,e);if(i==null)return r;const s=Rw(t);if(s!=null){const l=e.data.field(s.fieldPath);if(Oh(l))for(const u of l.arrayValue.values||[])r=r.add(new Ma(t.indexId,e.key,this.fn(u),i))}else r=r.add(new Ma(t.indexId,e.key,Qp,i));return r}Mn(e,t,r,i,s){ue(HA,"Updating index entries for document '%s'",t.key);const l=[];return function(d,h,m,g,_){const T=d.getIterator(),I=h.getIterator();let R=su(T),P=su(I);for(;R||P;){let V=!1,L=!1;if(R&&P){const M=m(R,P);M<0?L=!0:M>0&&(V=!0)}else R!=null?L=!0:V=!0;V?(g(P),P=su(I)):L?(_(R),R=su(T)):(R=su(T),P=su(I))}}(i,s,_o,u=>{l.push(this.xn(e,t,r,u))},u=>{l.push(this.On(e,t,r,u))}),G.waitFor(l)}vn(e){let t=1;return lu(e).Z({index:M1,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,u)=>_o(l,u)).filter((l,u,d)=>!u||_o(l,d[u-1])!==0);const i=[];i.push(e);for(const l of r){const u=_o(l,e),d=_o(l,t);if(u===0)i[0]=e.nn();else if(u>0&&d<0)i.push(l),i.push(l.nn());else if(d>0)break}i.push(t);const s=[];for(let l=0;l<i.length;l+=2){if(this.Nn(i[l],i[l+1]))return[];const u=[i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Qp,[]],d=[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Qp,[]];s.push(IDBKeyRange.bound(u,d))}return s}Nn(e,t){return _o(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(GA)}getMinOffset(e,t){return G.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||Ee())).next(GA)}}function KA(n){return un(n,Ch)}function au(n){return un(n,sg)}function Cd(n){return un(n,c0)}function lu(n){return un(n,ig)}function GA(n){Re(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;a0(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ar(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zx=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(n,e,t){const r=n.store(ci),i=n.store(Bu),s=[],l=IDBKeyRange.only(t.batchId);let u=0;const d=r.Z({range:l},(m,g,_)=>(u++,_.delete()));s.push(d.next(()=>{Re(u===1)}));const h=[];for(const m of t.mutations){const g=D1(e,m.key.path,t.batchId);s.push(i.delete(g)),h.push(m.key)}return G.waitFor(s).next(()=>h)}function dg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ee();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(zx,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class iy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Re(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new iy(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vo(e).Z({index:$a,range:r},(i,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Tu(e),l=vo(e);return l.add({}).next(u=>{Re(typeof u=="number");const d=new w0(u,t,r,i),h=function(T,I,R){const P=R.baseMutations.map(L=>Lh(T.Tt,L)),V=R.mutations.map(L=>Lh(T.Tt,L));return{userId:I,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:P,mutations:V}}(this.serializer,this.userId,d),m=[];let g=new lt((_,T)=>Ve(_.canonicalString(),T.canonicalString()));for(const _ of i){const T=D1(this.userId,_.key.path,u);g=g.add(_.key.path.popLast()),m.push(l.put(h)),m.push(s.put(T,Y3))}return g.forEach(_=>{m.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.Bn[u]=d.keys()}),G.waitFor(m).next(()=>d)})}lookupMutationBatch(e,t){return vo(e).get(t).next(r=>r?(Re(r.userId===this.userId),La(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?G.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return vo(e).Z({index:$a,range:i},(l,u,d)=>{u.userId===this.userId&&(Re(u.batchId>=r),s=La(this.serializer,u)),d.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ko;return vo(e).Z({index:$a,range:t,reverse:!0},(i,s,l)=>{r=s.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,ko],[this.userId,Number.POSITIVE_INFINITY]);return vo(e).G($a,t).next(r=>r.map(i=>La(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=wm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Tu(e).Z({range:i},(l,u,d)=>{const[h,m,g]=l,_=Bi(m);if(h===this.userId&&t.path.isEqual(_))return vo(e).get(g).next(T=>{if(!T)throw Ee();Re(T.userId===this.userId),s.push(La(this.serializer,T))});d.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(Ve);const i=[];return t.forEach(s=>{const l=wm(this.userId,s.path),u=IDBKeyRange.lowerBound(l),d=Tu(e).Z({range:u},(h,m,g)=>{const[_,T,I]=h,R=Bi(T);_===this.userId&&s.path.isEqual(R)?r=r.add(I):g.done()});i.push(d)}),G.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=wm(this.userId,r),l=IDBKeyRange.lowerBound(s);let u=new lt(Ve);return Tu(e).Z({range:l},(d,h,m)=>{const[g,_,T]=d,I=Bi(_);g===this.userId&&r.isPrefixOf(I)?I.length===i&&(u=u.add(T)):m.done()}).next(()=>this.kn(e,u))}kn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(vo(e).get(s).next(l=>{if(l===null)throw Ee();Re(l.userId===this.userId),r.push(La(this.serializer,l))}))}),G.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return jx(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),G.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return G.resolve();const r=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),i=[];return Tu(e).Z({range:r},(s,l,u)=>{if(s[0]===this.userId){const d=Bi(s[1]);i.push(d)}else u.done()}).next(()=>{Re(i.length===0)})})}containsKey(e,t){return Wx(e,this.userId,t)}Qn(e){return qx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:ko,lastStreamToken:""})}}function Wx(n,e,t){const r=wm(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Tu(n).Z({range:s,Y:!0},(u,d,h)=>{const[m,g,_]=u;m===e&&g===i&&(l=!0),h.done()}).next(()=>l)}function vo(n){return un(n,ci)}function Tu(n){return un(n,Bu)}function qx(n){return un(n,Ph)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new rl(0)}static Un(){return new rl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new rl(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>be.fromTimestamp(new Pt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>uu(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Re(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return uu(e).Z((l,u)=>{const d=Xd(u);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))}).next(()=>G.waitFor(s)).next(()=>i)}forEachTarget(e,t){return uu(e).Z((r,i)=>{const s=Xd(i);t(s)})}Wn(e){return YA(e).get(rg).next(t=>(Re(t!==null),t))}Gn(e,t){return YA(e).put(rg,t)}zn(e,t){return uu(e).put(Ux(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Xa(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return uu(e).Z({range:i,index:V1},(l,u,d)=>{const h=Xd(u);cf(t,h.target)&&(s=h,d.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=To(e);return t.forEach(l=>{const u=Vn(l.path);i.push(s.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))}),G.waitFor(i)}removeMatchingKeys(e,t,r){const i=To(e);return G.forEach(t,s=>{const l=Vn(s.path);return G.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=To(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=To(e);let s=Ue();return i.Z({range:r,Y:!0},(l,u,d)=>{const h=Bi(l[1]),m=new _e(h);s=s.add(m)}).next(()=>s)}containsKey(e,t){const r=Vn(t.path),i=IDBKeyRange.bound([r],[P1(r)],!1,!0);let s=0;return To(e).Z({index:u0,Y:!0,range:i},([l,u],d,h)=>{l!==0&&(s++,h.done())}).next(()=>s>0)}lt(e,t){return uu(e).get(t).next(r=>r?Xd(r):null)}}function uu(n){return un(n,zu)}function YA(n){return un(n,Ha)}function To(n){return un(n,ju)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="LruGarbageCollector",_j=1048576;function XA([n,e],[t,r]){const i=Ve(n,t);return i===0?Ve(e,r):i}class vj{constructor(e){this.Hn=e,this.buffer=new lt(XA),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();XA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(JA,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xo(t)?ue(JA,"Ignoring IndexedDB error during garbage collection: ",t):await Jo(t)}await this.er(3e5)})}}class wj{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return G.resolve(rr.ae);const r=new vj(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(QA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QA):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,l,u,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),vu()<=$e.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function Kx(n,e){return new wj(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,t){this.db=e,this.garbageCollector=Kx(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return Yp(e,r)}removeReference(e,t,r){return Yp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Yp(e,t)}ar(e,t){return function(i,s){let l=!1;return qx(i).X(u=>Wx(i,u,s).next(d=>(d&&(l=!0),G.resolve(!d)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this._r(e,(l,u)=>{if(u<=t){const d=this.ar(e,l).next(h=>{if(!h)return s++,r.getEntry(e,l).next(()=>(r.removeEntry(l,be.min()),To(e).delete(function(g){return[0,Vn(g.path)]}(l))))});i.push(d)}}).next(()=>G.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Yp(e,t)}_r(e,t){const r=To(e);let i,s=rr.ae;return r.Z({index:u0},([l,u],{path:d,sequenceNumber:h})=>{l===0?(s!==rr.ae&&t(new _e(Bi(i)),s),s=h,i=d):s=rr.ae}).next(()=>{s!==rr.ae&&t(new _e(Bi(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yp(n,e){return To(n).put(function(r,i){return{targetId:0,path:Vn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.changes=new Bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?G.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ca(e).put(r)}removeEntry(e,t,r){return Ca(e).delete(function(s,l){const u=s.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],ug(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=vt.newInvalidDocument(t);return Ca(e).Z({index:Em,range:IDBKeyRange.only(kd(t))},(i,s)=>{r=this.cr(t,s)}).next(()=>r)}lr(e,t){let r={size:0,document:vt.newInvalidDocument(t)};return Ca(e).Z({index:Em,range:IDBKeyRange.only(kd(t))},(i,s)=>{r={document:this.cr(t,s),size:dg(s)}}).next(()=>r)}getEntries(e,t){let r=sr();return this.hr(e,t,(i,s)=>{const l=this.cr(i,s);r=r.insert(i,l)}).next(()=>r)}Pr(e,t){let r=sr(),i=new mt(_e.comparator);return this.hr(e,t,(s,l)=>{const u=this.cr(s,l);r=r.insert(s,u),i=i.insert(s,dg(l))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return G.resolve();let i=new lt(tP);t.forEach(d=>i=i.add(d));const s=IDBKeyRange.bound(kd(i.first()),kd(i.last())),l=i.getIterator();let u=l.getNext();return Ca(e).Z({index:Em,range:s},(d,h,m)=>{const g=_e.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;u&&tP(u,g)<0;)r(u,null),u=l.getNext();u&&u.isEqual(g)&&(r(u,h),u=l.hasNext()?l.getNext():null),u?m.W(kd(u)):m.done()}).next(()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),ug(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ca(e).G(IDBKeyRange.bound(u,d,!0)).next(h=>{s==null||s.incrementDocumentReadCount(h.length);let m=sr();for(const g of h){const _=this.cr(_e.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);_.isFoundDocument()&&(hf(t,_)||i.has(_.key))&&(m=m.insert(_.key,_))}return m})}getAllFromCollectionGroup(e,t,r,i){let s=sr();const l=eP(t,r),u=eP(t,Ar.max());return Ca(e).Z({index:L1,range:IDBKeyRange.bound(l,u,!0)},(d,h,m)=>{const g=this.cr(_e.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(g.key,g),s.size===i&&m.done()}).next(()=>s)}newChangeBuffer(e){return new Tj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ZA(e).get(Aw).next(t=>(Re(!!t),t))}ur(e,t){return ZA(e).put(Aw,t)}cr(e,t){if(t){const r=aj(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(be.min())))return r}return vt.newInvalidDocument(e)}}function Qx(n){return new Ij(n)}class Tj extends Gx{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new Bs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new lt((s,l)=>Ve(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const u=this.Er.get(s);if(t.push(this.Ir.removeEntry(e,s,u.readTime)),l.isValidDocument()){const d=MA(this.Ir.serializer,l);i=i.add(s.path.popLast());const h=dg(d);r+=h-u.size,t.push(this.Ir.addEntry(e,s,d))}else if(r-=u.size,this.trackRemovals){const d=MA(this.Ir.serializer,l.convertToNoDocument(be.min()));t.push(this.Ir.addEntry(e,s,d))}}),i.forEach(s=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Ir.updateMetadata(e,r)),G.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((s,l)=>{this.Er.set(s,{size:l,readTime:r.get(s).readTime})}),r))}}function ZA(n){return un(n,bh)}function Ca(n){return un(n,ng)}function kd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function eP(n,e){const t=e.documentKey.path.toArray();return[n,ug(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function tP(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Ve(t[s],r[s]),i)return i;return i=Ve(t.length,r.length),i||(i=Ve(t[t.length-2],r[r.length-2]),i||Ve(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&dh(r.mutation,i,ir.empty(),Pt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ue()){const i=zi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let l=Yd();return s.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=zi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ue()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let s=sr();const l=ch(),u=function(){return ch()}();return t.forEach((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof zs)?s=s.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),dh(m.mutation,h,m.mutation.getFieldMask(),Pt.now())):l.set(h.key,ir.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((h,m)=>l.set(h,m)),t.forEach((h,m)=>{var g;return u.set(h,new Sj(m,(g=l.get(h))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const r=ch();let i=new mt((l,u)=>l-u),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const h=t.get(d);if(h===null)return;let m=r.get(d)||ir.empty();m=u.applyToLocalView(h,m),r.set(d,m);const g=(i.get(u.batchId)||Ue()).add(d);i=i.insert(u.batchId,g)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,m=d.value,g=hx();m.forEach(_=>{if(!s.has(_)){const T=vx(t.get(_),r.get(_));T!==null&&g.set(_,T),s=s.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return G.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):g0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):G.resolve(zi());let u=$u,d=s;return l.next(h=>G.forEach(h,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(m)?G.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,d,h,Ue())).next(m=>({batchId:u,changes:dx(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=Yd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let l=Yd();return this.indexManager.getCollectionParents(e,s).next(u=>G.forEach(u,d=>{const h=function(g,_){return new $s(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((g,_)=>{l=l.insert(g,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(l=>{s.forEach((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,vt.newInvalidDocument(m)))});let u=Yd();return l.forEach((d,h)=>{const m=s.get(d);m!==void 0&&dh(m.mutation,h,ir.empty(),Pt.now()),hf(t,h)&&(u=u.insert(d,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return G.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Wt(i.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:R0(i.bundledQuery),readTime:Wt(i.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.overlays=new mt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zi();return G.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Et(e,t,s)}),G.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),G.resolve()}getOverlaysForCollection(e,t,r){const i=zi(),s=t.length+1,l=new _e(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return G.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new mt((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=s.get(h.largestBatchId);m===null&&(m=zi(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=zi(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=i)););return G.resolve(u)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new I0(t,r));let s=this.Rr.get(t);s===void 0&&(s=Ue(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.Vr=new lt(mn.mr),this.gr=new lt(mn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new mn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new mn(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new _e(new je([])),r=new mn(t,e),i=new mn(t,e+1),s=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),s.push(l.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new je([])),r=new mn(t,e),i=new mn(t,e+1);let s=Ue();return this.gr.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new mn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class mn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Ve(e.Cr,t.Cr)}static pr(e,t){return Ve(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new lt(mn.mr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new w0(s,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Mr=this.Mr.add(new mn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return G.resolve(l)}lookupMutationBatch(e,t){return G.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),s=i<0?0:i;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?ko:this.Fr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new mn(t,0),i=new mn(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],l=>{const u=this.Or(l.Cr);s.push(u)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(Ve);return t.forEach(i=>{const s=new mn(i,0),l=new mn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,l],u=>{r=r.add(u.Cr)})}),G.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const l=new mn(new _e(s),0);let u=new lt(Ve);return this.Mr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Cr)),!0)},l),G.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Re(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return G.forEach(t.mutations,i=>{const s=new mn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new mn(t,0),i=this.Mr.firstAfterOrEqual(r);return G.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.kr=e,this.docs=function(){return new mt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return G.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(t))}getEntries(e,t){let r=sr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vt.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=sr();const l=t.path,u=new _e(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||a0(C1(m),r)<=0||(i.has(m.key)||hf(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ee()}qr(e,t){return G.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new kj(this)}getSize(e){return G.resolve(this.size)}}class kj extends Gx{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),G.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.persistence=e,this.Qr=new Bs(t=>Xa(t),cf),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Kr=new b0,this.targetCount=0,this.Ur=rl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),G.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new rl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.zn(t),G.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),G.waitFor(s).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return G.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),G.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return G.resolve(r)}containsKey(e,t){return G.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new rr(0),this.zr=!1,this.zr=!0,this.jr=new Pj,this.referenceDelegate=e(this),this.Hr=new xj(this),this.indexManager=new mj,this.remoteDocumentCache=function(i){return new Cj(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Fx(t),this.Yr=new Rj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Aj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new bj(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const i=new Oj(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,t){return G.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class Oj extends x1{constructor(e){super(),this.currentSequenceNumber=e}}class sy{constructor(e){this.persistence=e,this.ti=new b0,this.ni=null}static ri(e){return new sy(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),G.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),G.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(s=>{s||t.removeEntry(i,be.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return G.or([()=>G.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class hg{constructor(e,t){this.persistence=e,this.oi=new Bs(r=>Vn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Kx(this,t)}static ri(e,t){return new hg(e,t)}Zr(){}Xr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return G.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?G.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(u=>{u||(r++,s.removeEntry(l,be.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Tm(e.data.value)),t}ar(e,t,r){return G.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return G.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.serializer=e}B(e,t,r,i){const s=new Gg("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(uf)}(e),function(d){d.createObjectStore(Ph,{keyPath:Q3}),d.createObjectStore(ci,{keyPath:fA,autoIncrement:!0}).createIndex($a,pA,{unique:!0}),d.createObjectStore(Bu)}(e),nP(e),function(d){d.createObjectStore(Na)}(e));let l=G.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(ju),d.deleteObjectStore(zu),d.deleteObjectStore(Ha)}(e),nP(e)),l=l.next(()=>function(d){const h=d.store(Ha),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:be.min().toTimestamp(),targetCount:0};return h.put(rg,m)}(s))),r<4&&i>=4&&(r!==0&&(l=l.next(()=>function(d,h){return h.store(ci).G().next(g=>{d.deleteObjectStore(ci),d.createObjectStore(ci,{keyPath:fA,autoIncrement:!0}).createIndex($a,pA,{unique:!0});const _=h.store(ci),T=g.map(I=>_.put(I));return G.waitFor(T)})}(e,s))),l=l.next(()=>{(function(d){d.createObjectStore(Wu,{keyPath:iz})})(e)})),r<5&&i>=5&&(l=l.next(()=>this._i(s))),r<6&&i>=6&&(l=l.next(()=>(function(d){d.createObjectStore(bh)}(e),this.ai(s)))),r<7&&i>=7&&(l=l.next(()=>this.ui(s))),r<8&&i>=8&&(l=l.next(()=>this.ci(e,s))),r<9&&i>=9&&(l=l.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(l=l.next(()=>this.li(s))),r<11&&i>=11&&(l=l.next(()=>{(function(d){d.createObjectStore(Qg,{keyPath:sz})})(e),function(d){d.createObjectStore(Yg,{keyPath:oz})}(e)})),r<12&&i>=12&&(l=l.next(()=>{(function(d){const h=d.createObjectStore(Jg,{keyPath:fz});h.createIndex(bw,pz,{unique:!1}),h.createIndex(U1,mz,{unique:!1})})(e)})),r<13&&i>=13&&(l=l.next(()=>function(d){const h=d.createObjectStore(ng,{keyPath:J3});h.createIndex(Em,X3),h.createIndex(L1,Z3)}(e)).next(()=>this.hi(e,s)).next(()=>e.deleteObjectStore(Na))),r<14&&i>=14&&(l=l.next(()=>this.Pi(e,s))),r<15&&i>=15&&(l=l.next(()=>function(d){d.createObjectStore(c0,{keyPath:az,autoIncrement:!0}).createIndex(Pw,lz,{unique:!1}),d.createObjectStore(ig,{keyPath:uz}).createIndex(M1,cz,{unique:!1}),d.createObjectStore(sg,{keyPath:dz}).createIndex(F1,hz,{unique:!1})}(e))),r<16&&i>=16&&(l=l.next(()=>{t.objectStore(ig).clear()}).next(()=>{t.objectStore(sg).clear()})),r<17&&i>=17&&(l=l.next(()=>{(function(d){d.createObjectStore(d0,{keyPath:gz})})(e)})),l}ai(e){let t=0;return e.store(Na).Z((r,i)=>{t+=dg(i)}).next(()=>{const r={byteSize:t};return e.store(bh).put(Aw,r)})}_i(e){const t=e.store(Ph),r=e.store(ci);return t.G().next(i=>G.forEach(i,s=>{const l=IDBKeyRange.bound([s.userId,ko],[s.userId,s.lastAcknowledgedBatchId]);return r.G($a,l).next(u=>G.forEach(u,d=>{Re(d.userId===s.userId);const h=La(this.serializer,d);return jx(e,s.userId,h).next(()=>{})}))}))}ui(e){const t=e.store(ju),r=e.store(Na);return e.store(Ha).get(rg).next(i=>{const s=[];return r.Z((l,u)=>{const d=new je(l),h=function(g){return[0,Vn(g)]}(d);s.push(t.get(h).next(m=>m?G.resolve():(g=>t.put({targetId:0,path:Vn(g),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>G.waitFor(s))})}ci(e,t){e.createObjectStore(Ch,{keyPath:rz});const r=t.store(Ch),i=new P0,s=l=>{if(i.add(l)){const u=l.lastSegment(),d=l.popLast();return r.put({collectionId:u,parent:Vn(d)})}};return t.store(Na).Z({Y:!0},(l,u)=>{const d=new je(l);return s(d.popLast())}).next(()=>t.store(Bu).Z({Y:!0},([l,u,d],h)=>{const m=Bi(u);return s(m.popLast())}))}li(e){const t=e.store(zu);return t.Z((r,i)=>{const s=Xd(i),l=Ux(this.serializer,s);return t.put(l)})}hi(e,t){const r=t.store(Na),i=[];return r.Z((s,l)=>{const u=t.store(ng),d=function(g){return g.document?new _e(je.fromString(g.document.name).popFirst(5)):g.noDocument?_e.fromSegments(g.noDocument.path):g.unknownDocument?_e.fromSegments(g.unknownDocument.path):Ee()}(l).path.toArray(),h={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(h))}).next(()=>G.waitFor(i))}Pi(e,t){const r=t.store(ci),i=Qx(this.serializer),s=new C0(sy.ri,this.serializer.Tt);return r.G().next(l=>{const u=new Map;return l.forEach(d=>{var h;let m=(h=u.get(d.userId))!==null&&h!==void 0?h:Ue();La(this.serializer,d).keys().forEach(g=>m=m.add(g)),u.set(d.userId,m)}),G.forEach(u,(d,h)=>{const m=new gn(h),g=ry.It(this.serializer,m),_=s.getIndexManager(m),T=iy.It(m,this.serializer,_,s.referenceDelegate);return new Yx(i,T,g,_).recalculateAndSaveOverlaysForDocumentKeys(new Cw(t,rr.ae),d).next()})})}}function nP(n){n.createObjectStore(ju,{keyPath:tz}).createIndex(u0,nz,{unique:!0}),n.createObjectStore(zu,{keyPath:"targetId"}).createIndex(V1,ez,{unique:!0}),n.createObjectStore(Ha)}const wo="IndexedDbPersistence",Dv=18e5,Lv=5e3,Vv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Jx="main";class k0{constructor(e,t,r,i,s,l,u,d,h,m,g=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=s,this.window=l,this.document=u,this.Ii=h,this.Ei=m,this.di=g,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=_=>Promise.resolve(),!k0.D())throw new ae(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ej(this,i),this.gi=t+Jx,this.serializer=new Fx(d),this.pi=new qi(this.gi,this.di,new Nj(this.serializer)),this.jr=new uj,this.Hr=new yj(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Qx(this.serializer),this.Yr=new lj,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,m===!1&&jt(wo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,Vv);return this.bi(),this.Si(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new rr(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Jp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(Xo(e))return ue(wo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue(wo,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return xd(e).get(iu).next(t=>G.resolve(this.Ni(t)))}Bi(e){return Jp(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,Dv)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=un(t,Wu);return r.G().next(i=>{const s=this.qi(i,Dv),l=i.filter(u=>s.indexOf(u)===-1);return G.forEach(l,u=>r.delete(u.clientId)).next(()=>l)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?G.resolve(!0):xd(e).get(iu).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,Lv)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,Vv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jp(e).G().next(r=>this.qi(r,Lv).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(s||l&&u)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&ue(wo,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[uf,Wu],e=>{const t=new Cw(e,rr.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>Jp(e).G().next(t=>this.qi(t,Dv).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return iy.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gj(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return ry.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue(wo,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=function(d){return d===17?vz:d===16?_z:d===15?h0:d===14?z1:d===13?B1:d===12?yz:d===11?$1:void Ee()}(this.di);let l;return this.pi.runTransaction(e,i,s,u=>(l=new Cw(u,this.Gr?this.Gr.next():rr.ae),t==="readwrite-primary"?this.Fi(l).next(d=>!!d||this.Mi(l)).next(d=>{if(!d)throw jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new ae(te.FAILED_PRECONDITION,k1);return r(l)}).next(d=>this.Oi(l).next(()=>d)):this.ji(l).next(()=>r(l)))).then(u=>(l.raiseOnCommittedEvent(),u))}ji(e){return xd(e).get(iu).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,Lv)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ae(te.FAILED_PRECONDITION,Vv)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xd(e).put(iu,t)}static D(){return qi.D()}xi(e){const t=xd(e);return t.get(iu).next(r=>this.Ni(r)?(ue(wo,"Releasing primary lease."),t.delete(iu)):G.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(jt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}bi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}Si(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;gC()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return ue(wo,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return jt(wo,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){jt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xd(n){return un(n,uf)}function Jp(n){return un(n,Wu)}function x0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Ue(),i=Ue();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new O0(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return gC()?8:O1(qe())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.rs(e,t).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.ss(e,t,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new Dj;return this._s(e,t,l).next(u=>{if(s.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>s.result)}us(e,t,r,i){return r.documentReadCount<this.es?(vu()<=$e.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",wu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(vu()<=$e.DEBUG&&ue("QueryEngine","Query:",wu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(vu()<=$e.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",wu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(t))):G.resolve())}rs(e,t){if(PA(t))return G.resolve(null);let r=Wn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=lg(t,null,"F"),r=Wn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=Ue(...s);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.cs(t,u);return this.ls(t,h,l,d.readTime)?this.rs(e,lg(t,null,"F")):this.hs(e,h,t,d)}))})))}ss(e,t,r,i){return PA(t)||i.isEqual(be.min())?G.resolve(null):this.ns.getDocuments(e,r).next(s=>{const l=this.cs(t,s);return this.ls(t,l,r,i)?G.resolve(null):(vu()<=$e.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wu(t)),this.hs(e,l,t,b1(i,$u)).next(u=>u))})}cs(e,t){let r=new lt(ux(e));return t.forEach((i,s)=>{hf(e,s)&&(r=r.add(s))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return vu()<=$e.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",wu(t)),this.ns.getDocumentsMatchingQuery(e,t,Ar.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="LocalStore",Lj=3e8;class Vj{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new mt(Ve),this.Is=new Bs(s=>Xa(s),cf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Zx(n,e,t,r){return new Vj(n,e,t,r)}async function eO(n,e){const t=ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],u=[];let d=Ue();for(const h of i){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of s){u.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(h=>({Rs:h,removedBatchIds:l,addedBatchIds:u}))})})}function Mj(n,e){const t=ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,d,h,m){const g=h.batch,_=g.keys();let T=G.resolve();return _.forEach(I=>{T=T.next(()=>m.getEntry(d,I)).next(R=>{const P=h.docVersions.get(I);Re(P!==null),R.version.compareTo(P)<0&&(g.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),m.addEntry(R)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(d,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=Ue();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function tO(n){const e=ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Fj(n,e){const t=ve(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((m,g)=>{const _=i.get(g);if(!_)return;u.push(t.Hr.removeMatchingKeys(s,m.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(s,m.addedDocuments,g)));let T=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(Ft.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(g,T),function(R,P,V){return R.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=Lj?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,T,m)&&u.push(t.Hr.updateTargetData(s,T))});let d=sr(),h=Ue();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(nO(s,l,e.documentUpdates).next(m=>{d=m.Vs,h=m.fs})),!r.isEqual(be.min())){const m=t.Hr.getLastRemoteSnapshotVersion(s).next(g=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(m)}return G.waitFor(u).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,d,h)).next(()=>d)}).then(s=>(t.Ts=i,s))}function nO(n,e,t){let r=Ue(),i=Ue();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let l=sr();return t.forEach((u,d)=>{const h=s.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(be.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):ue(N0,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)}),{Vs:l,fs:i}})}function Uj(n,e){const t=ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ko),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ju(n,e){const t=ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(s=>s?(i=s,G.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new Ps(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Xu(n,e,t){const r=ve(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Xo(l))throw l;ue(N0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function fg(n,e,t){const r=ve(n);let i=be.min(),s=Ue();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,m){const g=ve(d),_=g.Is.get(m);return _!==void 0?G.resolve(g.Ts.get(_)):g.Hr.getTargetData(h,m)}(r,l,Wn(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,u.targetId).next(d=>{s=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:be.min(),t?s:Ue())).next(u=>(sO(r,lx(e),u),{documents:u,gs:s})))}function rO(n,e){const t=ve(n),r=ve(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.lt(s,e).next(l=>l?l.target:null))}function iO(n,e){const t=ve(n),r=t.Es.get(e)||be.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,b1(r,$u),Number.MAX_SAFE_INTEGER)).then(i=>(sO(t,e,i),i))}function sO(n,e,t){let r=n.Es.get(e)||be.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}async function $j(n,e,t,r){const i=ve(n);let s=Ue(),l=sr();for(const h of t){const m=e.ps(h.metadata.name);h.document&&(s=s.add(m));const g=e.ys(h);g.setReadTime(e.ws(h.metadata.readTime)),l=l.insert(m,g)}const u=i.ds.newChangeBuffer({trackRemovals:!0}),d=await Ju(i,function(m){return Wn(gc(je.fromString(`__bundle__/docs/${m}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",h=>nO(h,u,l).next(m=>(u.apply(h),m)).next(m=>i.Hr.removeMatchingKeysForTargetId(h,d.targetId).next(()=>i.Hr.addMatchingKeys(h,s,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,m.Vs,m.fs)).next(()=>m.Vs)))}async function Bj(n,e,t=Ue()){const r=await Ju(n,Wn(R0(e.bundledQuery))),i=ve(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const l=Wt(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Yr.saveNamedQuery(s,e);const u=r.withResumeToken(Ft.EMPTY_BYTE_STRING,l);return i.Ts=i.Ts.insert(u.targetId,u),i.Hr.updateTargetData(s,u).next(()=>i.Hr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Hr.addMatchingKeys(s,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(s,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="firestore_clients";function rP(n,e){return`${oO}_${n}_${e}`}const aO="firestore_mutations";function iP(n,e,t){let r=`${aO}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const lO="firestore_targets";function Mv(n,e){return`${lO}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="SharedClientState";class pg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static bs(e,t,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new ae(i.error.code,i.error.message))),l?new pg(e,t,i.state,s):(jt(Oi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static bs(e,t){const r=JSON.parse(t);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ae(r.error.code,r.error.message))),s?new hh(e,r.state,i):(jt(Oi,`Failed to parse target state for ID '${e}': ${t}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static bs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=y0();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=N1(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new mg(e,s):(jt(Oi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class D0{constructor(e,t){this.clientId=e,this.onlineState=t}static bs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new D0(t.clientId,t.onlineState):(jt(Oi,`Failed to parse online state: ${e}`),null)}}class Ww{constructor(){this.activeTargetIds=y0()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fv{constructor(e,t,r,i,s){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new mt(Ve),this.started=!1,this.Os=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ns=rP(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new Ww),this.Ls=new RegExp(`^${oO}_${l}_([^_]*)$`),this.ks=new RegExp(`^${aO}_${l}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${lO}_${l}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(rP(this.persistenceKey,r));if(i){const s=mg.bs(r,i);s&&(this.xs=this.xs.insert(s.clientId,s))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Mv(this.persistenceKey,e));if(i){const s=hh.bs(e,i);s&&(r=s.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Mv(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue(Oi,"READ",e,t),t}setItem(e,t){ue(Oi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue(Oi,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(ue(Oi,"EVENT",t.key,t.newValue),t.key===this.Ns)return void jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(s){let l=rr.ae;if(s!=null)try{const u=JSON.parse(s);Re(typeof u=="number"),l=u}catch(u){jt(Oi,"Failed to read sequence number from WebStorage",u)}return l}(t.newValue);r!==rr.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.Ss())}zs(e,t,r){const i=new pg(this.currentUser,e,t,r),s=iP(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Ss())}js(e){const t=iP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=Mv(this.persistenceKey,e),s=new hh(e,t,r);this.setItem(i,s.Ss())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return mg.bs(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return pg.bs(new gn(s),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return hh.bs(i,t)}Us(e){return D0.bs(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);ue(Oi,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),s=this.Gs(r),l=[],u=[];return s.forEach(d=>{i.has(d)||l.push(d)}),i.forEach(d=>{s.has(d)||u.push(d)}),this.syncEngine.lo(l,u).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=y0();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class uO{constructor(){this.ho=new Ww,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ww,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="ConnectivityMonitor";class oP{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(sP,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(sP,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xp=null;function qw(){return Xp===null?Xp=function(){return 268435456+Math.round(2147483648*Math.random())}():Xp++,"0x"+Xp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="RestConnection",jj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wj{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===kw?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,s){const l=qw(),u=this.So(e,t.toUriEncodedString());ue(Uv,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,s),this.vo(e,u,d,r).then(h=>(ue(Uv,`Received RPC '${e}' ${l}: `,h),h),h=>{throw Ji(Uv,`RPC '${e}' ${l} failed with error: `,h,"url: ",u,"request:",r),h})}Co(e,t,r,i,s,l){return this.bo(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,t){const r=jj[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class Hj extends Wj{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=qw();return new Promise((l,u)=>{const d=new w1;d.setWithCredentials(!0),d.listenOnce(E1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case _m.NO_ERROR:const m=d.getResponseJson();ue(On,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case _m.TIMEOUT:ue(On,`RPC '${e}' ${s} timed out`),u(new ae(te.DEADLINE_EXCEEDED,"Request time out"));break;case _m.HTTP_ERROR:const g=d.getStatus();if(ue(On,`RPC '${e}' ${s} failed with status:`,g,"response text:",d.getResponseText()),g>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const I=function(P){const V=P.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(V)>=0?V:te.UNKNOWN}(T.status);u(new ae(I,T.message))}else u(new ae(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ae(te.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ue(On,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);ue(On,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",h,r,15)})}Wo(e,t,r){const i=qw(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=S1(),u=T1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=s.join("");ue(On,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=l.createWebChannel(m,d);let _=!1,T=!1;const I=new qj({Fo:P=>{T?ue(On,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(_||(ue(On,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),ue(On,`RPC '${e}' stream ${i} sending:`,P),g.send(P))},Mo:()=>g.close()}),R=(P,V,L)=>{P.listen(V,M=>{try{L(M)}catch(B){setTimeout(()=>{throw B},0)}})};return R(g,Qd.EventType.OPEN,()=>{T||(ue(On,`RPC '${e}' stream ${i} transport opened.`),I.Qo())}),R(g,Qd.EventType.CLOSE,()=>{T||(T=!0,ue(On,`RPC '${e}' stream ${i} transport closed`),I.Ko())}),R(g,Qd.EventType.ERROR,P=>{T||(T=!0,Ji(On,`RPC '${e}' stream ${i} transport errored:`,P),I.Ko(new ae(te.UNAVAILABLE,"The operation could not be completed")))}),R(g,Qd.EventType.MESSAGE,P=>{var V;if(!T){const L=P.data[0];Re(!!L);const M=L,B=(M==null?void 0:M.error)||((V=M[0])===null||V===void 0?void 0:V.error);if(B){ue(On,`RPC '${e}' stream ${i} received error:`,B);const $=B.status;let j=function(C){const E=Yt[C];if(E!==void 0)return Ix(E)}($),D=B.message;j===void 0&&(j=te.INTERNAL,D="Unknown error status: "+$+" with message "+B.message),T=!0,I.Ko(new ae(j,D)),g.close()}else ue(On,`RPC '${e}' stream ${i} received:`,L),I.Uo(L)}}),R(u,I1.STAT_EVENT,P=>{P.stat===Sw.PROXY?ue(On,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Sw.NOPROXY&&ue(On,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(){return typeof window<"u"?window:null}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(n){return new Jz(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="PersistentStream";class dO{constructor(e,t,r,i,s,l,u,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new L0(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(jt(t.toString()),jt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new ae(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(aP,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ue(aP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kj extends dO{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=ej(this.serializer,e),r=function(s){if(!("targetChange"in s))return be.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?be.min():l.readTime?Wt(l.readTime):be.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Uw(this.serializer),t.addTarget=function(s,l){let u;const d=l.target;if(u=og(d)?{documents:Ox(s,d)}:{query:Nx(s,d).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=Ax(s,l.resumeToken);const h=Mw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(be.min())>0){u.readTime=Yu(s,l.snapshotVersion.toTimestamp());const h=Mw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=nj(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Uw(this.serializer),t.removeTarget=e,this.I_(t)}}class Gj extends dO{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=tj(e.writeResults,e.commitTime),r=Wt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Uw(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Lh(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{}class Yj extends Qj{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.bo(e,Fw(t,r),i,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(te.UNKNOWN,s.toString())})}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,Fw(t,r),i,l,u,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ae(te.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Jj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(jt(t),this.N_=!1):ue("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="RemoteStore";class Xj{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(l=>{r.enqueueAndForget(async()=>{ea(this)&&(ue(il,"Restarting streams for network reachability change."),await async function(d){const h=ve(d);h.W_.add(4),await vc(h),h.j_.set("Unknown"),h.W_.delete(4),await yf(h)}(this))})}),this.j_=new Jj(r,i)}}async function yf(n){if(ea(n))for(const e of n.G_)await e(!0)}async function vc(n){for(const e of n.G_)await e(!1)}function oy(n,e){const t=ve(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),F0(t)?M0(t):Ec(t).c_()&&V0(t,e))}function Zu(n,e){const t=ve(n),r=Ec(t);t.U_.delete(e),r.c_()&&hO(t,e),t.U_.size===0&&(r.c_()?r.P_():ea(t)&&t.j_.set("Unknown"))}function V0(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ec(n).y_(e)}function hO(n,e){n.H_.Ne(e),Ec(n).w_(e)}function M0(n){n.H_=new Kz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Ec(n).start(),n.j_.B_()}function F0(n){return ea(n)&&!Ec(n).u_()&&n.U_.size>0}function ea(n){return ve(n).W_.size===0}function fO(n){n.H_=void 0}async function Zj(n){n.j_.set("Online")}async function e6(n){n.U_.forEach((e,t)=>{V0(n,e)})}async function t6(n,e){fO(n),F0(n)?(n.j_.q_(e),M0(n)):n.j_.set("Unknown")}async function n6(n,e,t){if(n.j_.set("Online"),e instanceof Rx&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const u of s.targetIds)i.U_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.U_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(r){ue(il,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gg(n,r)}else if(e instanceof Am?n.H_.We(e):e instanceof Sx?n.H_.Ze(e):n.H_.je(e),!t.isEqual(be.min()))try{const r=await tO(n.localStore);t.compareTo(r)>=0&&await function(s,l){const u=s.H_.ot(l);return u.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.U_.get(h);m&&s.U_.set(h,m.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,h)=>{const m=s.U_.get(d);if(!m)return;s.U_.set(d,m.withResumeToken(Ft.EMPTY_BYTE_STRING,m.snapshotVersion)),hO(s,d);const g=new Ps(m.target,d,h,m.sequenceNumber);V0(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ue(il,"Failed to raise snapshot:",r),await gg(n,r)}}async function gg(n,e,t){if(!Xo(e))throw e;n.W_.add(1),await vc(n),n.j_.set("Offline"),t||(t=()=>tO(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(il,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await yf(n)})}function pO(n,e){return e().catch(t=>gg(n,t,e))}async function wc(n){const e=ve(n),t=$o(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:ko;for(;r6(e);)try{const i=await Uj(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,i6(e,i)}catch(i){await gg(e,i)}mO(e)&&gO(e)}function r6(n){return ea(n)&&n.K_.length<10}function i6(n,e){n.K_.push(e);const t=$o(n);t.c_()&&t.b_&&t.S_(e.mutations)}function mO(n){return ea(n)&&!$o(n).u_()&&n.K_.length>0}function gO(n){$o(n).start()}async function s6(n){$o(n).C_()}async function o6(n){const e=$o(n);for(const t of n.K_)e.S_(t.mutations)}async function a6(n,e,t){const r=n.K_.shift(),i=E0.from(r,e,t);await pO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await wc(n)}async function l6(n,e){e&&$o(n).b_&&await async function(r,i){if(function(l){return Ex(l)&&l!==te.ABORTED}(i.code)){const s=r.K_.shift();$o(r).h_(),await pO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await wc(r)}}(n,e),mO(n)&&gO(n)}async function lP(n,e){const t=ve(n);t.asyncQueue.verifyOperationInProgress(),ue(il,"RemoteStore received new credentials");const r=ea(t);t.W_.add(3),await vc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await yf(t)}async function Hw(n,e){const t=ve(n);e?(t.W_.delete(2),await yf(t)):e||(t.W_.add(2),await vc(t),t.j_.set("Unknown"))}function Ec(n){return n.J_||(n.J_=function(t,r,i){const s=ve(t);return s.M_(),new Kj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:Zj.bind(null,n),No:e6.bind(null,n),Lo:t6.bind(null,n),p_:n6.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),F0(n)?M0(n):n.j_.set("Unknown")):(await n.J_.stop(),fO(n))})),n.J_}function $o(n){return n.Y_||(n.Y_=function(t,r,i){const s=ve(t);return s.M_(),new Gj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:s6.bind(null,n),Lo:l6.bind(null,n),D_:o6.bind(null,n),v_:a6.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await wc(n)):(await n.Y_.stop(),n.K_.length>0&&(ue(il,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new An,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,u=new U0(e,t,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ic(n,e){if(jt("AsyncQueue",`${e}: ${n}`),Xo(n))return new ae(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{static emptySet(e){return new Ou(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Yd(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ou)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ou;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.Z_=new mt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ec{constructor(e,t,r,i,s,l,u,d,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new ec(e,t,Ou.emptySet(t),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class c6{constructor(){this.queries=cP(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=ve(t),s=i.queries;i.queries=cP(),s.forEach((l,u)=>{for(const d of u.ta)d.onError(r)})})(this,new ae(te.ABORTED,"Firestore shutting down"))}}function cP(){return new Bs(n=>ax(n),df)}async function $0(n,e){const t=ve(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new u6,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(i,!0);break;case 1:s.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Ic(l,`Initialization of query '${wu(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&z0(t)}async function B0(n,e){const t=ve(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const l=s.ta.indexOf(e);l>=0&&(s.ta.splice(l,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function d6(n,e){const t=ve(n);let r=!1;for(const i of e){const s=i.query,l=t.queries.get(s);if(l){for(const u of l.ta)u.oa(i)&&(r=!0);l.ea=i}}r&&z0(t)}function h6(n,e,t){const r=ve(n),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(t);r.queries.delete(e)}function z0(n){n.ia.forEach(e=>{e.next()})}var Kw,dP;(dP=Kw||(Kw={}))._a="default",dP.Cache="cache";class j0{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ec(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Kw.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.serializer=e}ps(e){return Hi(this.serializer,e)}ys(e){return e.metadata.exists?xx(this.serializer,e.document,!1):vt.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return Wt(e)}}class p6{constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yO(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=je.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new hP(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.ps(i.metadata.name);for(const l of i.metadata.queries){const u=(t.get(l)||Ue()).add(s);t.set(l,u)}}return t}async complete(){const e=await $j(this.localStore,new hP(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await Bj(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function yO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.key=e}}class vO{constructor(e){this.key=e}}class wO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=ux(e),this.wa=new Ou(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new uP,i=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const _=i.get(m),T=hf(this.query,g)?g:null,I=!!_&&this.mutatedKeys.has(_.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;_&&T?_.data.isEqual(T.data)?I!==R&&(r.track({type:3,doc:T}),P=!0):this.va(_,T)||(r.track({type:2,doc:T}),P=!0,(d&&this.ya(T,d)>0||h&&this.ya(T,h)<0)&&(u=!0)):!_&&T?(r.track({type:0,doc:T}),P=!0):_&&!T&&(r.track({type:1,doc:_}),P=!0,(d||h)&&(u=!0)),P&&(T?(l=l.add(T),s=R?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:u,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,g)=>function(T,I){const R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return R(T)-R(I)}(m.type,g.type)||this.ya(m.doc,g.doc)),this.Ca(r),i=i!=null&&i;const u=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,h=d!==this.ga;return this.ga=d,l.length!==0||h?{snapshot:new ec(this.query,e.wa,s,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new uP,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new vO(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new _O(r))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return ec.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ta="SyncEngine";class m6{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class g6{constructor(e){this.key=e,this.Ba=!1}}class y6{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Bs(u=>ax(u),df),this.qa=new Map,this.Qa=new Set,this.$a=new mt(_e.comparator),this.Ka=new Map,this.Ua=new b0,this.Wa={},this.Ga=new Map,this.za=rl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function _6(n,e,t=!0){const r=ay(n);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await EO(r,e,t,!0),i}async function v6(n,e){const t=ay(n);await EO(t,e,!0,!1)}async function EO(n,e,t,r){const i=await Ju(n.localStore,Wn(e)),s=i.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await W0(n,e,s,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&oy(n.remoteStore,i),u}async function W0(n,e,t,r,i){n.Ha=(g,_,T)=>async function(R,P,V,L){let M=P.view.Sa(V);M.ls&&(M=await fg(R.localStore,P.query,!1).then(({documents:D})=>P.view.Sa(D,M)));const B=L&&L.targetChanges.get(P.targetId),$=L&&L.targetMismatches.get(P.targetId)!=null,j=P.view.applyChanges(M,R.isPrimaryClient,B,$);return Gw(R,P.targetId,j.Ma),j.snapshot}(n,g,_,T);const s=await fg(n.localStore,e,!0),l=new wO(e,s.gs),u=l.Sa(s.documents),d=mf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=l.applyChanges(u,n.isPrimaryClient,d);Gw(n,t,h.Ma);const m=new m6(e,t,l);return n.ka.set(e,m),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),h.snapshot}async function w6(n,e,t){const r=ve(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(l=>!df(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Xu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Zu(r.remoteStore,i.targetId),tc(r,i.targetId)}).catch(Jo)):(tc(r,i.targetId),await Xu(r.localStore,i.targetId,!0))}async function E6(n,e){const t=ve(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Zu(t.remoteStore,r.targetId))}async function I6(n,e,t){const r=G0(n);try{const i=await function(l,u){const d=ve(l),h=Pt.now(),m=u.reduce((T,I)=>T.add(I.key),Ue());let g,_;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let I=sr(),R=Ue();return d.ds.getEntries(T,m).next(P=>{I=P,I.forEach((V,L)=>{L.isValidDocument()||(R=R.add(V))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,I)).next(P=>{g=P;const V=[];for(const L of u){const M=Wz(L,g.get(L.key).overlayedDocument);M!=null&&V.push(new zs(L.key,M,X1(M.value.mapValue),At.exists(!0)))}return d.mutationQueue.addMutationBatch(T,h,V,u)}).next(P=>{_=P;const V=P.applyToLocalDocumentSet(g,R);return d.documentOverlayCache.saveOverlays(T,P.batchId,V)})}).then(()=>({batchId:_.batchId,changes:dx(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let h=l.Wa[l.currentUser.toKey()];h||(h=new mt(Ve)),h=h.insert(u,d),l.Wa[l.currentUser.toKey()]=h}(r,i.batchId,t),await js(r,i.changes),await wc(r.remoteStore)}catch(i){const s=Ic(i,"Failed to persist write");t.reject(s)}}async function IO(n,e){const t=ve(n);try{const r=await Fj(t.localStore,e);e.targetChanges.forEach((i,s)=>{const l=t.Ka.get(s);l&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Re(l.Ba):i.removedDocuments.size>0&&(Re(l.Ba),l.Ba=!1))}),await js(t,r,e)}catch(r){await Jo(r)}}function fP(n,e,t){const r=ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((s,l)=>{const u=l.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=ve(l);d.onlineState=u;let h=!1;d.queries.forEach((m,g)=>{for(const _ of g.ta)_.sa(u)&&(h=!0)}),h&&z0(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function T6(n,e,t){const r=ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),s=i&&i.key;if(s){let l=new mt(_e.comparator);l=l.insert(s,vt.newNoDocument(s,be.min()));const u=Ue().add(s),d=new pf(be.min(),new Map,new mt(Ve),l,u);await IO(r,d),r.$a=r.$a.remove(s),r.Ka.delete(e),K0(r)}else await Xu(r.localStore,e,!1).then(()=>tc(r,e,t)).catch(Jo)}async function S6(n,e){const t=ve(n),r=e.batch.batchId;try{const i=await Mj(t.localStore,e);H0(t,r,null),q0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await js(t,i)}catch(i){await Jo(i)}}async function R6(n,e,t){const r=ve(n);try{const i=await function(l,u){const d=ve(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,u).next(g=>(Re(g!==null),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(r.localStore,e);H0(r,e,t),q0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await js(r,i)}catch(i){await Jo(i)}}async function A6(n,e){const t=ve(n);ea(t.remoteStore)||ue(ta,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(l){const u=ve(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>u.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===ko)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=Ic(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function q0(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function H0(n,e,t){const r=ve(n);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function tc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||TO(n,r)})}function TO(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Zu(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),K0(n))}function Gw(n,e,t){for(const r of t)r instanceof _O?(n.Ua.addReference(r.key,e),P6(n,r)):r instanceof vO?(ue(ta,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||TO(n,r.key)):Ee()}function P6(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ue(ta,"New document in limbo: "+t),n.Qa.add(r),K0(n))}function K0(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(je.fromString(e)),r=n.za.next();n.Ka.set(r,new g6(t)),n.$a=n.$a.insert(t,r),oy(n.remoteStore,new Ps(Wn(gc(t.path)),r,"TargetPurposeLimboResolution",rr.ae))}}async function js(n,e,t){const r=ve(n),i=[],s=[],l=[];r.ka.isEmpty()||(r.ka.forEach((u,d)=>{l.push(r.Ha(d,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const g=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){i.push(h);const g=O0.Yi(d.targetId,h);s.push(g)}}))}),await Promise.all(l),r.La.p_(i),await async function(d,h){const m=ve(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>G.forEach(h,_=>G.forEach(_.Hi,T=>m.persistence.referenceDelegate.addReference(g,_.targetId,T)).next(()=>G.forEach(_.Ji,T=>m.persistence.referenceDelegate.removeReference(g,_.targetId,T)))))}catch(g){if(!Xo(g))throw g;ue(N0,"Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const T=m.Ts.get(_),I=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(I);m.Ts=m.Ts.insert(_,R)}}}(r.localStore,s))}async function b6(n,e){const t=ve(n);if(!t.currentUser.isEqual(e)){ue(ta,"User change. New user:",e.toKey());const r=await eO(t.localStore,e);t.currentUser=e,function(s,l){s.Ga.forEach(u=>{u.forEach(d=>{d.reject(new ae(te.CANCELLED,l))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await js(t,r.Rs)}}function C6(n,e){const t=ve(n),r=t.Ka.get(e);if(r&&r.Ba)return Ue().add(r.key);{let i=Ue();const s=t.qa.get(e);if(!s)return i;for(const l of s){const u=t.ka.get(l);i=i.unionWith(u.view.ba)}return i}}async function k6(n,e){const t=ve(n),r=await fg(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&Gw(t,e.targetId,i.Ma),i}async function x6(n,e){const t=ve(n);return iO(t.localStore,e).then(r=>js(t,r))}async function O6(n,e,t,r){const i=ve(n),s=await function(u,d){const h=ve(u),m=ve(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",g=>m.Ln(g,d).next(_=>_?h.localDocuments.getDocuments(g,_):G.resolve(null)))}(i.localStore,e);s!==null?(t==="pending"?await wc(i.remoteStore):t==="acknowledged"||t==="rejected"?(H0(i,e,r||null),q0(i,e),function(u,d){ve(ve(u).mutationQueue).qn(d)}(i.localStore,e)):Ee(),await js(i,s)):ue(ta,"Cannot apply mutation batch with id: "+e)}async function N6(n,e){const t=ve(n);if(ay(t),G0(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await pP(t,r.toArray());t.ja=!0,await Hw(t.remoteStore,!0);for(const s of i)oy(t.remoteStore,s)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(tc(t,l),Xu(t.localStore,l,!0))),Zu(t.remoteStore,l)}),await i,await pP(t,r),function(l){const u=ve(l);u.Ka.forEach((d,h)=>{Zu(u.remoteStore,h)}),u.Ua.Dr(),u.Ka=new Map,u.$a=new mt(_e.comparator)}(t),t.ja=!1,await Hw(t.remoteStore,!1)}}async function pP(n,e,t){const r=ve(n),i=[],s=[];for(const l of e){let u;const d=r.qa.get(l);if(d&&d.length!==0){u=await Ju(r.localStore,Wn(d[0]));for(const h of d){const m=r.ka.get(h),g=await k6(r,m);g.snapshot&&s.push(g.snapshot)}}else{const h=await rO(r.localStore,l);u=await Ju(r.localStore,h),await W0(r,SO(h),l,!1,u.resumeToken)}i.push(u)}return r.La.p_(s),i}function SO(n){return ox(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function D6(n){return function(t){return ve(ve(t).persistence).zi()}(ve(n).localStore)}async function L6(n,e,t,r){const i=ve(n);if(i.ja)return void ue(ta,"Ignoring unexpected query state notification.");const s=i.qa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=await iO(i.localStore,lx(s[0])),u=pf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Ft.EMPTY_BYTE_STRING);await js(i,l,u);break}case"rejected":await Xu(i.localStore,e,!0),tc(i,e,r);break;default:Ee()}}async function V6(n,e,t){const r=ay(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ue(ta,"Adding an already active target "+i);continue}const s=await rO(r.localStore,i),l=await Ju(r.localStore,s);await W0(r,SO(s),l.targetId,!1,l.resumeToken),oy(r.remoteStore,l)}for(const i of t)r.qa.has(i)&&await Xu(r.localStore,i,!1).then(()=>{Zu(r.remoteStore,i),tc(r,i)}).catch(Jo)}}function ay(n){const e=ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=IO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T6.bind(null,e),e.La.p_=d6.bind(null,e.eventManager),e.La.Ja=h6.bind(null,e.eventManager),e}function G0(n){const e=ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R6.bind(null,e),e}function M6(n,e,t){const r=ve(n);(async function(s,l,u){try{const d=await l.getMetadata();if(await function(T,I){const R=ve(T),P=Wt(I.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",V=>R.Yr.getBundleMetadata(V,I.id)).then(V=>!!V&&V.createTime.compareTo(P)>=0)}(s.localStore,d))return await l.close(),u._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(d)),Promise.resolve(new Set);u._updateProgress(yO(d));const h=new p6(d,s.localStore,l.serializer);let m=await l.Ya();for(;m;){const _=await h.Aa(m);_&&u._updateProgress(_),m=await l.Ya()}const g=await h.complete();return await js(s,g.ma,void 0),await function(T,I){const R=ve(T);return R.persistence.runTransaction("Save bundle","readwrite",P=>R.Yr.saveBundleMetadata(P,I))}(s.localStore,d),u._completeWith(g.progress),Promise.resolve(g.Va)}catch(d){return Ji(ta,`Loading bundle failed with ${d}`),u._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Zx(this.persistence,new Xx,e.initialUser,this.serializer)}Xa(e){return new C0(sy.ri,this.serializer)}Za(e){return new uO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class F6 extends Vh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Re(this.persistence.referenceDelegate instanceof hg);const r=this.persistence.referenceDelegate.garbageCollector;return new Hx(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new C0(r=>hg.ri(r,t),this.serializer)}}class RO extends Vh{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await G0(this.ru.syncEngine),await wc(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return Zx(this.persistence,new Xx,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new Hx(r,e.asyncQueue,t)}nu(e,t){const r=new K3(t,this.persistence);return new H3(e.asyncQueue,r)}Xa(e){const t=x0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new k0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,cO(),Pm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new uO}}class U6 extends RO{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof Fv&&(this.sharedClientState.syncEngine={uo:O6.bind(null,t),co:L6.bind(null,t),lo:V6.bind(null,t),zi:D6.bind(null,t),ao:x6.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await N6(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=cO();if(!Fv.D(t))throw new ae(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=x0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Fv(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Mh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=b6.bind(null,this.syncEngine),await Hw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new c6}()}createDatastore(e){const t=gf(e.databaseInfo.databaseId),r=function(s){return new Hj(s)}(e.databaseInfo);return function(s,l,u,d){return new Yj(s,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,l,u){return new Xj(r,i,s,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>fP(this.syncEngine,t,0),function(){return oP.D()?new oP:new zj}())}createSyncEngine(e,t){return function(i,s,l,u,d,h,m){const g=new y6(i,s,l,u,d,h);return m&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=ve(i);ue(il,"RemoteStore shutting down."),s.W_.add(5),await vc(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Mh.provider={build:()=>new Mh};function mP(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):jt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new An,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new f6(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,s){const l=ve(i),u={documents:s.map(g=>Dh(l.serializer,g))},d=await l.Co("BatchGetDocuments",l.serializer.databaseId,je.emptyPath(),u,s.length),h=new Map;d.forEach(g=>{const _=Zz(l.serializer,g);h.set(_.key.toString(),_)});const m=[];return s.forEach(g=>{const _=h.get(g.toString());Re(!!_),m.push(_)}),m}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new _c(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new v0(i,this.precondition(i)))}),await async function(r,i){const s=ve(r),l={writes:i.map(u=>Lh(s.serializer,u))};await s.bo("Commit",s.serializer.databaseId,je.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ee();t=be.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ae(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(be.min())?At.exists(!1):At.updateTime(t):At.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(be.min()))throw new ae(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return At.updateTime(t)}return At.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Tu=r.maxAttempts,this.a_=new L0(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new B6(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!lf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!Ex(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="FirestoreClient";class j6{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=gn.UNAUTHENTICATED,this.clientId=A1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{ue(Bo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ue(Bo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new An;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ic(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $v(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Bo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await eO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function gP(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Q0(n);ue(Bo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>lP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>lP(e.remoteStore,i)),n._onlineComponents=e}async function Q0(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Bo,"Using user provided OfflineComponentProvider");try{await $v(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ji("Error using user provided cache. Falling back to memory cache: "+t),await $v(n,new Vh)}}else ue(Bo,"Using default OfflineComponentProvider"),await $v(n,new F6(void 0));return n._offlineComponents}async function uy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Bo,"Using user provided OnlineComponentProvider"),await gP(n,n._uninitializedComponentsProvider._online)):(ue(Bo,"Using default OnlineComponentProvider"),await gP(n,new Mh))),n._onlineComponents}function AO(n){return Q0(n).then(e=>e.persistence)}function Y0(n){return Q0(n).then(e=>e.localStore)}function PO(n){return uy(n).then(e=>e.remoteStore)}function J0(n){return uy(n).then(e=>e.syncEngine)}function W6(n){return uy(n).then(e=>e.datastore)}async function nc(n){const e=await uy(n),t=e.eventManager;return t.onListen=_6.bind(null,e.syncEngine),t.onUnlisten=w6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=v6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=E6.bind(null,e.syncEngine),t}function q6(n){return n.asyncQueue.enqueue(async()=>{const e=await AO(n),t=await PO(n);return e.setNetworkEnabled(!0),function(i){const s=ve(i);return s.W_.delete(0),yf(s)}(t)})}function H6(n){return n.asyncQueue.enqueue(async()=>{const e=await AO(n),t=await PO(n);return e.setNetworkEnabled(!1),async function(i){const s=ve(i);s.W_.add(0),await vc(s),s.j_.set("Offline")}(t)})}function K6(n,e){const t=new An;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,l){try{const u=await function(h,m){const g=ve(h);return g.persistence.runTransaction("read document","readonly",_=>g.localDocuments.getDocument(_,m))}(i,s);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new ae(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const d=Ic(u,`Failed to get document '${s} from cache`);l.reject(d)}}(await Y0(n),e,t)),t.promise}function bO(n,e,t={}){const r=new An;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,d,h){const m=new ly({next:_=>{m.su(),l.enqueueAndForget(()=>B0(s,g));const T=_.docs.has(u);!T&&_.fromCache?h.reject(new ae(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&d&&d.source==="server"?h.reject(new ae(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new j0(gc(u.path),m,{includeMetadataChanges:!0,Ta:!0});return $0(s,g)}(await nc(n),n.asyncQueue,e,t,r)),r.promise}function G6(n,e){const t=new An;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,l){try{const u=await fg(i,s,!0),d=new wO(s,u.gs),h=d.Sa(u.documents),m=d.applyChanges(h,!1);l.resolve(m.snapshot)}catch(u){const d=Ic(u,`Failed to execute query '${s} against cache`);l.reject(d)}}(await Y0(n),e,t)),t.promise}function CO(n,e,t={}){const r=new An;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,d,h){const m=new ly({next:_=>{m.su(),l.enqueueAndForget(()=>B0(s,g)),_.fromCache&&d.source==="server"?h.reject(new ae(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new j0(u,m,{includeMetadataChanges:!0,Ta:!0});return $0(s,g)}(await nc(n),n.asyncQueue,e,t,r)),r.promise}function Q6(n,e){const t=new ly(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,s){ve(i).ia.add(s),s.next()}(await nc(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,s){ve(i).ia.delete(s)}(await nc(n),t))}}function Y6(n,e,t,r){const i=function(l,u){let d;return d=typeof l=="string"?Tx().encode(l):l,function(m,g){return new $6(m,g)}(function(m,g){if(m instanceof Uint8Array)return mP(m,g);if(m instanceof ArrayBuffer)return mP(new Uint8Array(m),g);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),u)}(t,gf(e));n.asyncQueue.enqueueAndForget(async()=>{M6(await J0(n),i,r)})}function J6(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const s=ve(r);return s.persistence.runTransaction("Get named query","readonly",l=>s.Yr.getNamedQuery(l,i))}(await Y0(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(n,e,t){if(!t)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xO(n,e,t,r){if(e===!0&&r===!0)throw new ae(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _P(n){if(!_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vP(n){if(_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee()}function tt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cy(n);throw new ae(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function OO(n,e){if(e<=0)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="firestore.googleapis.com",wP=!0;class EP{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NO,this.ssl=wP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:wP;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_j)throw new ae(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new V3;switch(r.type){case"firstParty":return new $3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=yP.get(t);r&&(ue("ComponentProvider","Removing Datastore"),yP.delete(t),r.terminate())}(this),Promise.resolve()}}function X6(n,e,t,r={}){var i;const s=(n=tt(n,_f))._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;s.host!==NO&&s.host!==u&&Ji("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},s),{host:u,ssl:!1,emulatorOptions:r});if(!fi(d,l)&&(n._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=gn.MOCK_USER;else{h=qM(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ae(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new gn(g)}n._authCredentials=new M3(new R1(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qn=class DO{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new DO(this.firestore,e,this._query)}},Nt=class LO{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new LO(this.firestore,e,this._key)}},xo=class VO extends qn{constructor(e,t,r){super(e,t,gc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new _e(e))}withConverter(e){return new VO(this.firestore,e,this._path)}};function MO(n,e,...t){if(n=Ce(n),X0("collection","path",e),n instanceof _f){const r=je.fromString(e,...t);return vP(r),new xo(n,null,r)}{if(!(n instanceof Nt||n instanceof xo))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(je.fromString(e,...t));return vP(r),new xo(n.firestore,null,r)}}function Z6(n,e){if(n=tt(n,_f),X0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qn(n,null,function(r){return new $s(je.emptyPath(),r)}(e))}function yg(n,e,...t){if(n=Ce(n),arguments.length===1&&(e=A1.newId()),X0("doc","path",e),n instanceof _f){const r=je.fromString(e,...t);return _P(r),new Nt(n,null,new _e(r))}{if(!(n instanceof Nt||n instanceof xo))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(je.fromString(e,...t));return _P(r),new Nt(n.firestore,n instanceof xo?n.converter:null,new _e(r))}}function FO(n,e){return n=Ce(n),e=Ce(e),(n instanceof Nt||n instanceof xo)&&(e instanceof Nt||e instanceof xo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function UO(n,e){return n=Ce(n),e=Ce(e),n instanceof qn&&e instanceof qn&&n.firestore===e.firestore&&df(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="AsyncQueue";class TP{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new L0(this,"async_queue_retry"),this.bu=()=>{const r=Pm();r&&ue(IP,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Pm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Pm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new An;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Xo(e))throw e;ue(IP,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw jt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=U0.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Qw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class e9{constructor(){this._progressObserver={},this._taskCompletionResolver=new An,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=-1;let qt=class extends _f{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new TP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TP(e),this._firestoreClient=void 0,await e}}};function Mn(n){if(n._terminated)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$O(n),n._firestoreClient}function $O(n){var e,t,r;const i=n._freezeSettings(),s=function(u,d,h,m){return new Iz(u,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,kO(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new j6(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(n._componentsProvider))}function n9(n,e){Ji("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return BO(n,Mh.provider,{build:r=>new RO(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function r9(n){Ji("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();BO(n,Mh.provider,{build:t=>new U6(t,e.cacheSizeBytes)})}function BO(n,e,t){if((n=tt(n,qt))._firestoreClient||n._terminated)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ae(te.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},$O(n)}function i9(n){if(n._initialized&&!n._terminated)throw new ae(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new An;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!qi.D())return Promise.resolve();const i=r+Jx;await qi.delete(i)}(x0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function s9(n){return function(t){const r=new An;return t.asyncQueue.enqueueAndForget(async()=>A6(await J0(t),r)),r.promise}(Mn(n=tt(n,qt)))}function o9(n){return q6(Mn(n=tt(n,qt)))}function a9(n){return H6(Mn(n=tt(n,qt)))}function l9(n,e){const t=Mn(n=tt(n,qt)),r=new e9;return Y6(t,n._databaseId,e,r),r}function u9(n,e){return J6(Mn(n=tt(n,qt)),e).then(t=>t?new qn(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zi(Ft.fromBase64String(e))}catch(t){throw new ae(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zi(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=/^__.*__$/;class d9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new yc(e,this.data,t,this.fieldTransforms)}}class zO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class hy{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new hy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return _g(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(jO(this.Lu)&&c9.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class h9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||gf(e)}ju(e,t,r,i=!1){return new hy({Lu:e,methodName:t,zu:r,path:Rt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dl(n){const e=n._freezeSettings(),t=gf(n._databaseId);return new h9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fy(n,e,t,r,i,s={}){const l=n.ju(s.merge||s.mergeFields?2:0,e,t,i);oI("Data must be an object, but it was:",l,r);const u=HO(r,l);let d,h;if(s.merge)d=new ir(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const _=Yw(e,g,t);if(!l.contains(_))throw new ae(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);GO(m,_)||m.push(_)}d=new ir(m),h=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,h=l.fieldTransforms;return new d9(new Rn(u),d,h)}class vf extends cl{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vf}}function WO(n,e,t){return new hy({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class eI extends cl{_toFieldTransform(e){return new ff(e.path,new Gu)}isEqual(e){return e instanceof eI}}class tI extends cl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=WO(this,e,!0),r=this.Hu.map(s=>hl(s,t)),i=new Za(r);return new ff(e.path,i)}isEqual(e){return e instanceof tI&&fi(this.Hu,e.Hu)}}class nI extends cl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=WO(this,e,!0),r=this.Hu.map(s=>hl(s,t)),i=new el(r);return new ff(e.path,i)}isEqual(e){return e instanceof nI&&fi(this.Hu,e.Hu)}}class rI extends cl{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Qu(e.serializer,px(e.serializer,this.Ju));return new ff(e.path,t)}isEqual(e){return e instanceof rI&&this.Ju===e.Ju}}function iI(n,e,t,r){const i=n.ju(1,e,t);oI("Data must be an object, but it was:",i,r);const s=[],l=Rn.empty();Zo(r,(d,h)=>{const m=aI(e,d,t);h=Ce(h);const g=i.Ku(m);if(h instanceof vf)s.push(m);else{const _=hl(h,g);_!=null&&(s.push(m),l.set(m,_))}});const u=new ir(s);return new zO(l,u,i.fieldTransforms)}function sI(n,e,t,r,i,s){const l=n.ju(1,e,t),u=[Yw(e,r,t)],d=[i];if(s.length%2!=0)throw new ae(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)u.push(Yw(e,s[_])),d.push(s[_+1]);const h=[],m=Rn.empty();for(let _=u.length-1;_>=0;--_)if(!GO(h,u[_])){const T=u[_];let I=d[_];I=Ce(I);const R=l.Ku(T);if(I instanceof vf)h.push(T);else{const P=hl(I,R);P!=null&&(h.push(T),m.set(T,P))}}const g=new ir(h);return new zO(m,g,l.fieldTransforms)}function qO(n,e,t,r=!1){return hl(t,n.ju(r?4:3,e))}function hl(n,e){if(KO(n=Ce(n)))return oI("Unsupported field value:",e,n),HO(n,e);if(n instanceof cl)return function(r,i){if(!jO(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let l=0;for(const u of r){let d=hl(u,i.Uu(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return px(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pt.fromDate(r);return{timestampValue:Yu(i.serializer,s)}}if(r instanceof Pt){const s=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yu(i.serializer,s)}}if(r instanceof dy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zi)return{bytesValue:Ax(i.serializer,r._byteString)};if(r instanceof Nt){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:S0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Z0)return function(l,u){return{mapValue:{fields:{[f0]:{stringValue:p0},[qu]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return _0(u.serializer,h)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${cy(r)}`)}(n,e)}function HO(n,e){const t={};return j1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(n,(r,i)=>{const s=hl(i,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function KO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof dy||n instanceof Zi||n instanceof Nt||n instanceof cl||n instanceof Z0)}function oI(n,e,t){if(!KO(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=cy(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Yw(n,e,t){if((e=Ce(e))instanceof zo)return e._internalPath;if(typeof e=="string")return aI(n,e);throw _g("Field path arguments must be of type string or ",n,!1,void 0,t)}const f9=new RegExp("[~\\*/\\[\\]]");function aI(n,e,t){if(e.search(f9)>=0)throw _g(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zo(...e.split("."))._internalPath}catch{throw _g(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _g(n,e,t,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ae(te.INVALID_ARGUMENT,u+n+d)}function GO(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new p9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(py("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class p9 extends Fh{data(){return super.data()}}function py(n,e){return typeof e=="string"?aI(n,e):e instanceof zo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lI{}class wf extends lI{}function Eo(n,e,...t){let r=[];e instanceof lI&&r.push(e),r=r.concat(t),function(s){const l=s.filter(d=>d instanceof uI).length,u=s.filter(d=>d instanceof my).length;if(l>1||l>0&&u>0)throw new ae(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class my extends wf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new my(e,t,r)}_apply(e){const t=this._parse(e);return JO(e._query,t),new qn(e.firestore,e.converter,Vw(e._query,t))}_parse(e){const t=dl(e.firestore);return function(s,l,u,d,h,m,g){let _;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ae(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){RP(g,m);const I=[];for(const R of g)I.push(SP(d,s,R));_={arrayValue:{values:I}}}else _=SP(d,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||RP(g,m),_=qO(u,l,g,m==="in"||m==="not-in");return We.create(h,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function m9(n,e,t){const r=e,i=py("where",n);return my._create(i,r,t)}class uI extends lI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new uI(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:at.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)JO(l,d),l=Vw(l,d)}(e._query,t),new qn(e.firestore,e.converter,Vw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cI extends wf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cI(e,t)}_apply(e){const t=function(i,s,l){if(i.startAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nh(s,l)}(e._query,this._field,this._direction);return new qn(e.firestore,e.converter,function(i,s){const l=i.explicitOrderBy.concat([s]);return new $s(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function g9(n,e="asc"){const t=e,r=py("orderBy",n);return cI._create(r,t)}class gy extends wf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new gy(e,t,r)}_apply(e){return new qn(e.firestore,e.converter,lg(e._query,this._limit,this._limitType))}}function y9(n){return OO("limit",n),gy._create("limit",n,"F")}function _9(n){return OO("limitToLast",n),gy._create("limitToLast",n,"L")}class yy extends wf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new yy(e,t,r)}_apply(e){const t=YO(e,this.type,this._docOrFields,this._inclusive);return new qn(e.firestore,e.converter,function(i,s){return new $s(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,t))}}function v9(...n){return yy._create("startAt",n,!0)}function w9(...n){return yy._create("startAfter",n,!1)}class _y extends wf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new _y(e,t,r)}_apply(e){const t=YO(e,this.type,this._docOrFields,this._inclusive);return new qn(e.firestore,e.converter,function(i,s){return new $s(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,t))}}function E9(...n){return _y._create("endBefore",n,!1)}function I9(...n){return _y._create("endAt",n,!0)}function YO(n,e,t,r){if(t[0]=Ce(t[0]),t[0]instanceof Fh)return function(s,l,u,d,h){if(!d)throw new ae(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const g of xu(s))if(g.field.isKeyField())m.push(Ja(l,d.key));else{const _=d.data.field(g.field);if(Xg(_))throw new ae(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const T=g.field.canonicalString();throw new ae(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}m.push(_)}return new Uo(m,h)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=dl(n.firestore);return function(l,u,d,h,m,g){const _=l.explicitOrderBy;if(m.length>_.length)throw new ae(te.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let I=0;I<m.length;I++){const R=m[I];if(_[I].field.isKeyField()){if(typeof R!="string")throw new ae(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof R}`);if(!g0(l)&&R.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${R}' contains a slash.`);const P=l.path.child(je.fromString(R));if(!_e.isDocumentKey(P))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const V=new _e(P);T.push(Ja(u,V))}else{const P=qO(d,h,R);T.push(P)}}return new Uo(T,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function SP(n,e,t){if(typeof(t=Ce(t))=="string"){if(t==="")throw new ae(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g0(e)&&t.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(je.fromString(t));if(!_e.isDocumentKey(r))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ja(n,new _e(r))}if(t instanceof Nt)return Ja(n,t._key);throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cy(t)}.`)}function RP(n,e){if(!Array.isArray(n)||n.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JO(n,e){const t=function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class dI{convertValue(e,t="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Zo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[qu].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>St(l.doubleValue));return new Z0(s)}convertGeoPoint(e){return new dy(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Zg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(kh(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=je.fromString(e);Re(Mx(r));const i=new Vo(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(t)||jt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class T9 extends dI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Vs=class extends Fh{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(py("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},fh=class extends Vs{data(e={}){return super.data(e)}},jo=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ba(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fh(this._firestore,this._userDataWriter,r.key,r,new Ba(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new fh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ba(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const d=new fh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ba(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:S9(u.type),doc:d,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function S9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}function XO(n,e){return n instanceof Vs&&e instanceof Vs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof jo&&e instanceof jo&&n._firestore===e._firestore&&UO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(n){n=tt(n,Nt);const e=tt(n.firestore,qt);return bO(Mn(e),n._key).then(t=>hI(e,n,t))}class fl extends dI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}function A9(n){n=tt(n,Nt);const e=tt(n.firestore,qt),t=Mn(e),r=new fl(e);return K6(t,n._key).then(i=>new Vs(e,r,n._key,i,new Ba(i!==null&&i.hasLocalMutations,!0),n.converter))}function P9(n){n=tt(n,Nt);const e=tt(n.firestore,qt);return bO(Mn(e),n._key,{source:"server"}).then(t=>hI(e,n,t))}function b9(n){n=tt(n,qn);const e=tt(n.firestore,qt),t=Mn(e),r=new fl(e);return QO(n._query),CO(t,n._query).then(i=>new jo(e,r,n,i))}function C9(n){n=tt(n,qn);const e=tt(n.firestore,qt),t=Mn(e),r=new fl(e);return G6(t,n._query).then(i=>new jo(e,r,n,i))}function k9(n){n=tt(n,qn);const e=tt(n.firestore,qt),t=Mn(e),r=new fl(e);return CO(t,n._query,{source:"server"}).then(i=>new jo(e,r,n,i))}function AP(n,e,t){n=tt(n,Nt);const r=tt(n.firestore,qt),i=vy(n.converter,e,t);return Ef(r,[fy(dl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,At.none())])}function PP(n,e,t,...r){n=tt(n,Nt);const i=tt(n.firestore,qt),s=dl(i);let l;return l=typeof(e=Ce(e))=="string"||e instanceof zo?sI(s,"updateDoc",n._key,e,t,r):iI(s,"updateDoc",n._key,e),Ef(i,[l.toMutation(n._key,At.exists(!0))])}function x9(n){return Ef(tt(n.firestore,qt),[new _c(n._key,At.none())])}function O9(n,e){const t=tt(n.firestore,qt),r=yg(n),i=vy(n.converter,e);return Ef(t,[fy(dl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,At.exists(!1))]).then(()=>r)}function ZO(n,...e){var t,r,i;n=Ce(n);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||Qw(e[l])||(s=e[l],l++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Qw(e[l])){const g=e[l];e[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let d,h,m;if(n instanceof Nt)h=tt(n.firestore,qt),m=gc(n._key.path),d={next:g=>{e[l]&&e[l](hI(h,n,g))},error:e[l+1],complete:e[l+2]};else{const g=tt(n,qn);h=tt(g.firestore,qt),m=g._query;const _=new fl(h);d={next:T=>{e[l]&&e[l](new jo(h,_,g,T))},error:e[l+1],complete:e[l+2]},QO(n._query)}return function(_,T,I,R){const P=new ly(R),V=new j0(T,P,I);return _.asyncQueue.enqueueAndForget(async()=>$0(await nc(_),V)),()=>{P.su(),_.asyncQueue.enqueueAndForget(async()=>B0(await nc(_),V))}}(Mn(h),m,u,d)}function N9(n,e){return Q6(Mn(n=tt(n,qt)),Qw(e)?e:{next:e})}function Ef(n,e){return function(r,i){const s=new An;return r.asyncQueue.enqueueAndForget(async()=>I6(await J0(r),i,s)),s.promise}(Mn(n),e)}function hI(n,e,t){const r=t.docs.get(e._key),i=new fl(n);return new Vs(n,i,e._key,r,new Ba(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L9=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=dl(e)}set(e,t,r){this._verifyNotCommitted();const i=Ao(e,this._firestore),s=vy(i.converter,t,r),l=fy(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,At.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Ao(e,this._firestore);let l;return l=typeof(t=Ce(t))=="string"||t instanceof zo?sI(this._dataReader,"WriteBatch.update",s._key,t,r,i):iI(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,At.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ao(e,this._firestore);return this._mutations=this._mutations.concat(new _c(t._key,At.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ao(n,e){if((n=Ce(n)).firestore!==e)throw new ae(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=dl(e)}get(e){const t=Ao(e,this._firestore),r=new T9(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return Ee();const s=i[0];if(s.isFoundDocument())return new Fh(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Fh(this._firestore,r,t._key,null,t.converter);throw Ee()})}set(e,t,r){const i=Ao(e,this._firestore),s=vy(i.converter,t,r),l=fy(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const s=Ao(e,this._firestore);let l;return l=typeof(t=Ce(t))=="string"||t instanceof zo?sI(this._dataReader,"Transaction.update",s._key,t,r,i):iI(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=Ao(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M9=class extends V9{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ao(e,this._firestore),r=new fl(this._firestore);return super.get(e).then(i=>new Vs(this._firestore,r,t._key,i._document,new Ba(!1,!1),t.converter))}};function F9(n,e,t){n=tt(n,qt);const r=Object.assign(Object.assign({},D9),t);return function(s){if(s.maxAttempts<1)throw new ae(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,l,u){const d=new An;return s.asyncQueue.enqueueAndForget(async()=>{const h=await W6(s);new z6(s.asyncQueue,h,u,l,d).Iu()}),d.promise}(Mn(n),i=>e(new M9(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(){return new vf("deleteField")}function $9(){return new eI("serverTimestamp")}function B9(...n){return new tI("arrayUnion",n)}function z9(...n){return new nI("arrayRemove",n)}function j9(n){return new rI("increment",n)}(function(e,t=!0){(function(i){mc=i})(Pr),Qi(new Wr("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new qt(new F3(r.getProvider("auth-internal")),new B3(l,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ae(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(h.options.projectId,m)}(l,i),l);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Ir(sA,oA,e),Ir(sA,oA,"esm2017")})();const W9="@firebase/firestore-compat",q9="0.3.44";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(){if(typeof Uint8Array>"u")throw new ae("unimplemented","Uint8Arrays are not available in this environment.")}function CP(){if(!wz())throw new ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}let eN=class Jw{constructor(e){this._delegate=e}static fromBase64String(e){return CP(),new Jw(Zi.fromBase64String(e))}static fromUint8Array(e){return bP(),new Jw(Zi.fromUint8Array(e))}toBase64(){return CP(),this._delegate.toBase64()}toUint8Array(){return bP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(n){return H9(n,["next","error","complete"])}function H9(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{enableIndexedDbPersistence(e,t){return n9(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return r9(e._delegate)}clearIndexedDbPersistence(e){return i9(e._delegate)}}class tN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ji("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){X6(this._delegate,e,t,r)}enableNetwork(){return o9(this._delegate)}disableNetwork(){return a9(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,xO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return s9(this._delegate)}onSnapshotsInSync(e){return N9(this._delegate,e)}get app(){if(!this._appCompat)throw new ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new rc(this,MO(this._delegate,e))}catch(t){throw jn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Br(this,yg(this._delegate,e))}catch(t){throw jn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new zn(this,Z6(this._delegate,e))}catch(t){throw jn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return F9(this._delegate,t=>e(new nN(this,t)))}batch(){return Mn(this._delegate),new rN(new L9(this._delegate,e=>Ef(this._delegate,e)))}loadBundle(e){return l9(this._delegate,e)}namedQuery(e){return u9(this._delegate,e).then(t=>t?new zn(this,t):null)}}class wy extends dI{constructor(e){super(),this.firestore=e}convertBytes(e){return new eN(new Zi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Br.forKey(t,this.firestore,null)}}function G9(n){D3(n)}class nN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new wy(e)}get(e){const t=za(e);return this._delegate.get(t).then(r=>new Uh(this._firestore,new Vs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=za(e);return r?(fI("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=za(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=za(e);return this._delegate.delete(t),this}}class rN{constructor(e){this._delegate=e}set(e,t,r){const i=za(e);return r?(fI("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=za(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=za(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class sl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new fh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $h(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=sl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new sl(e,new wy(e),t),i.set(t,s)),s}}sl.INSTANCES=new WeakMap;class Br{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wy(e)}static forPath(e,t,r){if(e.length%2!==0)throw new ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Br(t,new Nt(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new Br(t,new Nt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new rc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new rc(this.firestore,MO(this._delegate,e))}catch(t){throw jn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ce(e),e instanceof Nt?FO(this._delegate,e):!1}set(e,t){t=fI("DocumentReference.set",t);try{return t?AP(this._delegate,e,t):AP(this._delegate,e)}catch(r){throw jn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?PP(this._delegate,e):PP(this._delegate,e,t,...r)}catch(i){throw jn(i,"updateDoc()","DocumentReference.update()")}}delete(){return x9(this._delegate)}onSnapshot(...e){const t=iN(e),r=sN(e,i=>new Uh(this.firestore,new Vs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return ZO(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=A9(this._delegate):(e==null?void 0:e.source)==="server"?t=P9(this._delegate):t=R9(this._delegate),t.then(r=>new Uh(this.firestore,new Vs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Br(this.firestore,e?this._delegate.withConverter(sl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function jn(n,e,t){return n.message=n.message.replace(e,t),n}function iN(n){for(const e of n)if(typeof e=="object"&&!Xw(e))return e;return{}}function sN(n,e){var t,r;let i;return Xw(n[0])?i=n[0]:Xw(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Uh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Br(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return XO(this._delegate,e._delegate)}}class $h extends Uh{data(e){const t=this._delegate.data(e);return this._delegate._converter||L3(t!==void 0),t}}class zn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wy(e)}where(e,t,r){try{return new zn(this.firestore,Eo(this._delegate,m9(e,t,r)))}catch(i){throw jn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new zn(this.firestore,Eo(this._delegate,g9(e,t)))}catch(r){throw jn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new zn(this.firestore,Eo(this._delegate,y9(e)))}catch(t){throw jn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new zn(this.firestore,Eo(this._delegate,_9(e)))}catch(t){throw jn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new zn(this.firestore,Eo(this._delegate,v9(...e)))}catch(t){throw jn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new zn(this.firestore,Eo(this._delegate,w9(...e)))}catch(t){throw jn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new zn(this.firestore,Eo(this._delegate,E9(...e)))}catch(t){throw jn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new zn(this.firestore,Eo(this._delegate,I9(...e)))}catch(t){throw jn(t,"endAt()","Query.endAt()")}}isEqual(e){return UO(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=C9(this._delegate):(e==null?void 0:e.source)==="server"?t=k9(this._delegate):t=b9(this._delegate),t.then(r=>new Zw(this.firestore,new jo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=iN(e),r=sN(e,i=>new Zw(this.firestore,new jo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return ZO(this._delegate,t,r)}withConverter(e){return new zn(this.firestore,e?this._delegate.withConverter(sl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Q9{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new $h(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Zw{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new zn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new $h(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Q9(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new $h(this._firestore,r))})}isEqual(e){return XO(this._delegate,e._delegate)}}class rc extends zn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Br(this.firestore,e):null}doc(e){try{return e===void 0?new Br(this.firestore,yg(this._delegate)):new Br(this.firestore,yg(this._delegate,e))}catch(t){throw jn(t,"doc()","CollectionReference.doc()")}}add(e){return O9(this._delegate,e).then(t=>new Br(this.firestore,t))}isEqual(e){return FO(this._delegate,e._delegate)}withConverter(e){return new rc(this.firestore,e?this._delegate.withConverter(sl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function za(n){return tt(n,Nt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(...e){this._delegate=new zo(...e)}static documentId(){return new pI(Rt.keyField().canonicalString())}isEqual(e){return e=Ce(e),e instanceof zo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{static serverTimestamp(){const e=$9();return e._methodName="FieldValue.serverTimestamp",new Fa(e)}static delete(){const e=U9();return e._methodName="FieldValue.delete",new Fa(e)}static arrayUnion(...e){const t=B9(...e);return t._methodName="FieldValue.arrayUnion",new Fa(t)}static arrayRemove(...e){const t=z9(...e);return t._methodName="FieldValue.arrayRemove",new Fa(t)}static increment(e){const t=j9(e);return t._methodName="FieldValue.increment",new Fa(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9={Firestore:tN,GeoPoint:dy,Timestamp:Pt,Blob:eN,Transaction:nN,WriteBatch:rN,DocumentReference:Br,DocumentSnapshot:Uh,Query:zn,QueryDocumentSnapshot:$h,QuerySnapshot:Zw,CollectionReference:rc,FieldPath:pI,FieldValue:Fa,setLogLevel:G9,CACHE_SIZE_UNLIMITED:t9};function J9(n,e){n.INTERNAL.registerComponent(new Wr("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Y9)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(n){J9(n,(e,t)=>new tN(e,t,new K9)),n.registerVersion(W9,q9)}X9(cc);const Z9={apiKey:"AIzaSyBN0OtqSknu4TFOgNdyDsVq5iOBOcw3vu8",authDomain:"e-clone-2025.firebaseapp.com",projectId:"e-clone-2025",storageBucket:"e-clone-2025.firebasestorage.app",messagingSenderId:"271857506762",appId:"1:271857506762:web:795940942f36f8547f9733"},oN=cc.initializeApp(Z9),vg=N$(oN),aN=oN.firestore(),Ws=H.createContext(),eW=({children:n,reducer:e,initialState:t})=>K(Ws.Provider,{value:H.useReducer(e,t),children:n});function tW(){const[{user:n,basket:e},t]=H.useContext(Ws),r=e==null?void 0:e.reduce((i,s)=>s.amount+i,0);return ke("section",{className:Es.fixed,children:[K("section",{children:ke("div",{className:Es.header_container,children:[ke("div",{className:Es.logo_container,children:[K(di,{to:"/",children:K("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"Amazon logo"})}),ke("div",{className:Es.delivery,children:[K("span",{children:K(JL,{})}),ke("div",{children:[K("p",{children:"Delivered to "}),K("span",{children:"Silver Spring"})]})]})]}),ke("div",{className:Es.search,children:[K("select",{name:"",id:"",children:K("option",{value:"",children:"All"})}),K("input",{type:"text"}),K(YL,{size:25})]}),ke("div",{className:Es.order_container,children:[ke(di,{to:"",className:Es.language,children:[K("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Flag_of_the_United_States.svg/1200px-Flag_of_the_United_States.svg.png?20240524035322",alt:""}),K("select",{name:"",id:"",children:K("option",{value:"",children:"EN"})})]}),K(di,{to:!n&&"/Auth",children:K("div",{children:n?ke(Um,{children:[ke("p",{children:["Hello ",n==null?void 0:n.email.split("@")[0]]}),K("span",{onClick:()=>vg.signOut(),children:"Sign Out"})]}):ke(Um,{children:[K("p",{children:"Hello, Sign In"}),K("span",{children:"Accounts & Lists"})]})})}),ke(di,{to:"/Orders",children:[K("p",{children:"returns"}),K("span",{children:"& Orders"})]}),ke(di,{to:"/Cart",className:Es.cart,children:[K(XL,{size:35}),K("span",{children:r})]})]})]})}),K(dV,{})]})}function Tc({children:n}){return ke("div",{children:[K(tW,{}),n]})}const nW="_category_co1nl_3",rW="_category_container_co1nl_89",lN={category:nW,category_container:rW};function iW({data:n}){return K("div",{className:lN.category,children:ke(di,{to:`/category/${n.name}`,children:[K("span",{children:K("h3",{children:n==null?void 0:n.title})}),K("img",{src:n==null?void 0:n.imgLink,alt:""}),K("p",{children:"shop now"})]})})}const sW=[{title:"Electronics",name:"electronics",imgLink:"https://fakestoreapi.com/img/81Zt42ioCgL._AC_SX679_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/softlines/shopbop/ingress/2023/March/mp_20230219_ff_desktopsinglecategory_desktop_379x304_1._SY304CB612639047_.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/618bcm65ksL._AC_UL480_FMwebp_QL65_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/71r7eWuCsaL._AC_UL480_FMwebp_QL65_.jpg"}];function oW(){return K("section",{className:lN.category_container,children:sW.map((n,e)=>K(iW,{data:n},e))})}function uN(n,e){return function(){return n.apply(e,arguments)}}const{toString:aW}=Object.prototype,{getPrototypeOf:mI}=Object,Ey=(n=>e=>{const t=aW.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),yi=n=>(n=n.toLowerCase(),e=>Ey(e)===n),Iy=n=>e=>typeof e===n,{isArray:Sc}=Array,Bh=Iy("undefined");function lW(n){return n!==null&&!Bh(n)&&n.constructor!==null&&!Bh(n.constructor)&&Tr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const cN=yi("ArrayBuffer");function uW(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&cN(n.buffer),e}const cW=Iy("string"),Tr=Iy("function"),dN=Iy("number"),Ty=n=>n!==null&&typeof n=="object",dW=n=>n===!0||n===!1,bm=n=>{if(Ey(n)!=="object")return!1;const e=mI(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},hW=yi("Date"),fW=yi("File"),pW=yi("Blob"),mW=yi("FileList"),gW=n=>Ty(n)&&Tr(n.pipe),yW=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Tr(n.append)&&((e=Ey(n))==="formdata"||e==="object"&&Tr(n.toString)&&n.toString()==="[object FormData]"))},_W=yi("URLSearchParams"),[vW,wW,EW,IW]=["ReadableStream","Request","Response","Headers"].map(yi),TW=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function If(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Sc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),l=s.length;let u;for(r=0;r<l;r++)u=s[r],e.call(null,n[u],u,n)}}function hN(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const ja=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fN=n=>!Bh(n)&&n!==ja;function eE(){const{caseless:n}=fN(this)&&this||{},e={},t=(r,i)=>{const s=n&&hN(e,i)||i;bm(e[s])&&bm(r)?e[s]=eE(e[s],r):bm(r)?e[s]=eE({},r):Sc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&If(arguments[r],t);return e}const SW=(n,e,t,{allOwnKeys:r}={})=>(If(e,(i,s)=>{t&&Tr(i)?n[s]=uN(i,t):n[s]=i},{allOwnKeys:r}),n),RW=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),AW=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},PW=(n,e,t,r)=>{let i,s,l;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)l=i[s],(!r||r(l,n,e))&&!u[l]&&(e[l]=n[l],u[l]=!0);n=t!==!1&&mI(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},bW=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},CW=n=>{if(!n)return null;if(Sc(n))return n;let e=n.length;if(!dN(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},kW=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&mI(Uint8Array)),xW=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},OW=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},NW=yi("HTMLFormElement"),DW=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),kP=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),LW=yi("RegExp"),pN=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};If(t,(i,s)=>{let l;(l=e(i,s,n))!==!1&&(r[s]=l||i)}),Object.defineProperties(n,r)},VW=n=>{pN(n,(e,t)=>{if(Tr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Tr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},MW=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Sc(n)?r(n):r(String(n).split(e)),t},FW=()=>{},UW=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function $W(n){return!!(n&&Tr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const BW=n=>{const e=new Array(10),t=(r,i)=>{if(Ty(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Sc(r)?[]:{};return If(r,(l,u)=>{const d=t(l,i+1);!Bh(d)&&(s[u]=d)}),e[i]=void 0,s}}return r};return t(n,0)},zW=yi("AsyncFunction"),jW=n=>n&&(Ty(n)||Tr(n))&&Tr(n.then)&&Tr(n.catch),mN=((n,e)=>n?setImmediate:e?((t,r)=>(ja.addEventListener("message",({source:i,data:s})=>{i===ja&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),ja.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Tr(ja.postMessage)),WW=typeof queueMicrotask<"u"?queueMicrotask.bind(ja):typeof process<"u"&&process.nextTick||mN,re={isArray:Sc,isArrayBuffer:cN,isBuffer:lW,isFormData:yW,isArrayBufferView:uW,isString:cW,isNumber:dN,isBoolean:dW,isObject:Ty,isPlainObject:bm,isReadableStream:vW,isRequest:wW,isResponse:EW,isHeaders:IW,isUndefined:Bh,isDate:hW,isFile:fW,isBlob:pW,isRegExp:LW,isFunction:Tr,isStream:gW,isURLSearchParams:_W,isTypedArray:kW,isFileList:mW,forEach:If,merge:eE,extend:SW,trim:TW,stripBOM:RW,inherits:AW,toFlatObject:PW,kindOf:Ey,kindOfTest:yi,endsWith:bW,toArray:CW,forEachEntry:xW,matchAll:OW,isHTMLForm:NW,hasOwnProperty:kP,hasOwnProp:kP,reduceDescriptors:pN,freezeMethods:VW,toObjectSet:MW,toCamelCase:DW,noop:FW,toFiniteNumber:UW,findKey:hN,global:ja,isContextDefined:fN,isSpecCompliantForm:$W,toJSONObject:BW,isAsyncFn:zW,isThenable:jW,setImmediate:mN,asap:WW};function Fe(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}re.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const gN=Fe.prototype,yN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{yN[n]={value:n}});Object.defineProperties(Fe,yN);Object.defineProperty(gN,"isAxiosError",{value:!0});Fe.from=(n,e,t,r,i,s)=>{const l=Object.create(gN);return re.toFlatObject(n,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),Fe.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,s&&Object.assign(l,s),l};const qW=null;function tE(n){return re.isPlainObject(n)||re.isArray(n)}function _N(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function xP(n,e,t){return n?n.concat(e).map(function(i,s){return i=_N(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function HW(n){return re.isArray(n)&&!n.some(tE)}const KW=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function Sy(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,P){return!re.isUndefined(P[R])});const r=t.metaTokens,i=t.visitor||m,s=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function h(I){if(I===null)return"";if(re.isDate(I))return I.toISOString();if(!d&&re.isBlob(I))throw new Fe("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(I)||re.isTypedArray(I)?d&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function m(I,R,P){let V=I;if(I&&!P&&typeof I=="object"){if(re.endsWith(R,"{}"))R=r?R:R.slice(0,-2),I=JSON.stringify(I);else if(re.isArray(I)&&HW(I)||(re.isFileList(I)||re.endsWith(R,"[]"))&&(V=re.toArray(I)))return R=_N(R),V.forEach(function(M,B){!(re.isUndefined(M)||M===null)&&e.append(l===!0?xP([R],B,s):l===null?R:R+"[]",h(M))}),!1}return tE(I)?!0:(e.append(xP(P,R,s),h(I)),!1)}const g=[],_=Object.assign(KW,{defaultVisitor:m,convertValue:h,isVisitable:tE});function T(I,R){if(!re.isUndefined(I)){if(g.indexOf(I)!==-1)throw Error("Circular reference detected in "+R.join("."));g.push(I),re.forEach(I,function(V,L){(!(re.isUndefined(V)||V===null)&&i.call(e,V,re.isString(L)?L.trim():L,R,_))===!0&&T(V,R?R.concat(L):[L])}),g.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return T(n),e}function OP(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function gI(n,e){this._pairs=[],n&&Sy(n,this,e)}const vN=gI.prototype;vN.append=function(e,t){this._pairs.push([e,t])};vN.toString=function(e){const t=e?function(r){return e.call(this,r,OP)}:OP;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function GW(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wN(n,e,t){if(!e)return n;const r=t&&t.encode||GW;re.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=re.isURLSearchParams(e)?e.toString():new gI(e,t).toString(r),s){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class NP{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const EN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QW=typeof URLSearchParams<"u"?URLSearchParams:gI,YW=typeof FormData<"u"?FormData:null,JW=typeof Blob<"u"?Blob:null,XW={isBrowser:!0,classes:{URLSearchParams:QW,FormData:YW,Blob:JW},protocols:["http","https","file","blob","url","data"]},yI=typeof window<"u"&&typeof document<"u",nE=typeof navigator=="object"&&navigator||void 0,ZW=yI&&(!nE||["ReactNative","NativeScript","NS"].indexOf(nE.product)<0),eq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tq=yI&&window.location.href||"http://localhost",nq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yI,hasStandardBrowserEnv:ZW,hasStandardBrowserWebWorkerEnv:eq,navigator:nE,origin:tq},Symbol.toStringTag,{value:"Module"})),Ln={...nq,...XW};function rq(n,e){return Sy(n,new Ln.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return Ln.isNode&&re.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function iq(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sq(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function IN(n){function e(t,r,i,s){let l=t[s++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=s>=t.length;return l=!l&&re.isArray(i)?i.length:l,d?(re.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!re.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],s)&&re.isArray(i[l])&&(i[l]=sq(i[l])),!u)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(r,i)=>{e(iq(r),i,t,0)}),t}return null}function oq(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Tf={transitional:EN,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=re.isObject(e);if(s&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i?JSON.stringify(IN(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return rq(e,this.formSerializer).toString();if((u=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Sy(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),oq(e)):e}],transformResponse:[function(e){const t=this.transitional||Tf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Fe.from(u,Fe.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ln.classes.FormData,Blob:Ln.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{Tf.headers[n]={}});const aq=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lq=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&aq[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},DP=Symbol("internals");function Od(n){return n&&String(n).trim().toLowerCase()}function Cm(n){return n===!1||n==null?n:re.isArray(n)?n.map(Cm):String(n)}function uq(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const cq=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Bv(n,e,t,r,i){if(re.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function dq(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function hq(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,l){return this[r].call(this,e,i,s,l)},configurable:!0})})}let or=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(u,d,h){const m=Od(d);if(!m)throw new Error("header name must be a non-empty string");const g=re.findKey(i,m);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||d]=Cm(u))}const l=(u,d)=>re.forEach(u,(h,m)=>s(h,m,d));if(re.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(re.isString(e)&&(e=e.trim())&&!cq(e))l(lq(e),t);else if(re.isHeaders(e))for(const[u,d]of e.entries())s(d,u,r);else e!=null&&s(t,e,r);return this}get(e,t){if(e=Od(e),e){const r=re.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return uq(i);if(re.isFunction(t))return t.call(this,i,r);if(re.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Od(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Bv(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(l){if(l=Od(l),l){const u=re.findKey(r,l);u&&(!t||Bv(r,r[u],u,t))&&(delete r[u],i=!0)}}return re.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||Bv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return re.forEach(this,(i,s)=>{const l=re.findKey(r,s);if(l){t[l]=Cm(i),delete t[s];return}const u=e?dq(s):String(s).trim();u!==s&&delete t[s],t[u]=Cm(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&re.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[DP]=this[DP]={accessors:{}}).accessors,i=this.prototype;function s(l){const u=Od(l);r[u]||(hq(i,l),r[u]=!0)}return re.isArray(e)?e.forEach(s):s(e),this}};or.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(or.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});re.freezeMethods(or);function zv(n,e){const t=this||Tf,r=e||t,i=or.from(r.headers);let s=r.data;return re.forEach(n,function(u){s=u.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function TN(n){return!!(n&&n.__CANCEL__)}function Rc(n,e,t){Fe.call(this,n??"canceled",Fe.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(Rc,Fe,{__CANCEL__:!0});function SN(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Fe("Request failed with status code "+t.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function fq(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function pq(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[s];l||(l=h),t[i]=d,r[i]=h;let g=s,_=0;for(;g!==i;)_+=t[g++],g=g%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),h-l<e)return;const T=m&&h-m;return T?Math.round(_*1e3/T):void 0}}function mq(n,e){let t=0,r=1e3/e,i,s;const l=(h,m=Date.now())=>{t=m,i=null,s&&(clearTimeout(s),s=null),n.apply(null,h)};return[(...h)=>{const m=Date.now(),g=m-t;g>=r?l(h,m):(i=h,s||(s=setTimeout(()=>{s=null,l(i)},r-g)))},()=>i&&l(i)]}const wg=(n,e,t=3)=>{let r=0;const i=pq(50,250);return mq(s=>{const l=s.loaded,u=s.lengthComputable?s.total:void 0,d=l-r,h=i(d),m=l<=u;r=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&m?(u-l)/h:void 0,event:s,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(g)},t)},LP=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},VP=n=>(...e)=>re.asap(()=>n(...e)),gq=Ln.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Ln.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Ln.origin),Ln.navigator&&/(msie|trident)/i.test(Ln.navigator.userAgent)):()=>!0,yq=Ln.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const l=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),re.isString(r)&&l.push("path="+r),re.isString(i)&&l.push("domain="+i),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _q(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function vq(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function RN(n,e,t){let r=!_q(e);return n&&r||t==!1?vq(n,e):e}const MP=n=>n instanceof or?{...n}:n;function ol(n,e){e=e||{};const t={};function r(h,m,g,_){return re.isPlainObject(h)&&re.isPlainObject(m)?re.merge.call({caseless:_},h,m):re.isPlainObject(m)?re.merge({},m):re.isArray(m)?m.slice():m}function i(h,m,g,_){if(re.isUndefined(m)){if(!re.isUndefined(h))return r(void 0,h,g,_)}else return r(h,m,g,_)}function s(h,m){if(!re.isUndefined(m))return r(void 0,m)}function l(h,m){if(re.isUndefined(m)){if(!re.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function u(h,m,g){if(g in e)return r(h,m);if(g in n)return r(void 0,h)}const d={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,m,g)=>i(MP(h),MP(m),g,!0)};return re.forEach(Object.keys(Object.assign({},n,e)),function(m){const g=d[m]||i,_=g(n[m],e[m],m);re.isUndefined(_)&&g!==u||(t[m]=_)}),t}const AN=n=>{const e=ol({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:u}=e;e.headers=l=or.from(l),e.url=wN(RN(e.baseURL,e.url),n.params,n.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(re.isFormData(t)){if(Ln.hasStandardBrowserEnv||Ln.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...m]=d?d.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...m].join("; "))}}if(Ln.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&gq(e.url))){const h=i&&s&&yq.read(s);h&&l.set(i,h)}return e},wq=typeof XMLHttpRequest<"u",Eq=wq&&function(n){return new Promise(function(t,r){const i=AN(n);let s=i.data;const l=or.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=i,m,g,_,T,I;function R(){T&&T(),I&&I(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let P=new XMLHttpRequest;P.open(i.method.toUpperCase(),i.url,!0),P.timeout=i.timeout;function V(){if(!P)return;const M=or.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),$={data:!u||u==="text"||u==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:M,config:n,request:P};SN(function(D){t(D),R()},function(D){r(D),R()},$),P=null}"onloadend"in P?P.onloadend=V:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(V)},P.onabort=function(){P&&(r(new Fe("Request aborted",Fe.ECONNABORTED,n,P)),P=null)},P.onerror=function(){r(new Fe("Network Error",Fe.ERR_NETWORK,n,P)),P=null},P.ontimeout=function(){let B=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const $=i.transitional||EN;i.timeoutErrorMessage&&(B=i.timeoutErrorMessage),r(new Fe(B,$.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,n,P)),P=null},s===void 0&&l.setContentType(null),"setRequestHeader"in P&&re.forEach(l.toJSON(),function(B,$){P.setRequestHeader($,B)}),re.isUndefined(i.withCredentials)||(P.withCredentials=!!i.withCredentials),u&&u!=="json"&&(P.responseType=i.responseType),h&&([_,I]=wg(h,!0),P.addEventListener("progress",_)),d&&P.upload&&([g,T]=wg(d),P.upload.addEventListener("progress",g),P.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(m=M=>{P&&(r(!M||M.type?new Rc(null,n,P):M),P.abort(),P=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const L=fq(i.url);if(L&&Ln.protocols.indexOf(L)===-1){r(new Fe("Unsupported protocol "+L+":",Fe.ERR_BAD_REQUEST,n));return}P.send(s||null)})},Iq=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(h){if(!i){i=!0,u();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Fe?m:new Rc(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,s(new Fe(`timeout ${e} of ms exceeded`,Fe.ETIMEDOUT))},e);const u=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),n=null)};n.forEach(h=>h.addEventListener("abort",s));const{signal:d}=r;return d.unsubscribe=()=>re.asap(u),d}},Tq=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},Sq=async function*(n,e){for await(const t of Rq(n))yield*Tq(t,e)},Rq=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},FP=(n,e,t,r)=>{const i=Sq(n,e);let s=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await i.next();if(h){u(),d.close();return}let g=m.byteLength;if(t){let _=s+=g;t(_)}d.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},Ry=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",PN=Ry&&typeof ReadableStream=="function",Aq=Ry&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),bN=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Pq=PN&&bN(()=>{let n=!1;const e=new Request(Ln.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),UP=64*1024,rE=PN&&bN(()=>re.isReadableStream(new Response("").body)),Eg={stream:rE&&(n=>n.body)};Ry&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Eg[e]&&(Eg[e]=re.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Fe(`Response type '${e}' is not supported`,Fe.ERR_NOT_SUPPORT,r)})})})(new Response);const bq=async n=>{if(n==null)return 0;if(re.isBlob(n))return n.size;if(re.isSpecCompliantForm(n))return(await new Request(Ln.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(re.isArrayBufferView(n)||re.isArrayBuffer(n))return n.byteLength;if(re.isURLSearchParams(n)&&(n=n+""),re.isString(n))return(await Aq(n)).byteLength},Cq=async(n,e)=>{const t=re.toFiniteNumber(n.getContentLength());return t??bq(e)},kq=Ry&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:h,headers:m,withCredentials:g="same-origin",fetchOptions:_}=AN(n);h=h?(h+"").toLowerCase():"text";let T=Iq([i,s&&s.toAbortSignal()],l),I;const R=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let P;try{if(d&&Pq&&t!=="get"&&t!=="head"&&(P=await Cq(m,r))!==0){let $=new Request(e,{method:"POST",body:r,duplex:"half"}),j;if(re.isFormData(r)&&(j=$.headers.get("content-type"))&&m.setContentType(j),$.body){const[D,A]=LP(P,wg(VP(d)));r=FP($.body,UP,D,A)}}re.isString(g)||(g=g?"include":"omit");const V="credentials"in Request.prototype;I=new Request(e,{..._,signal:T,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:V?g:void 0});let L=await fetch(I);const M=rE&&(h==="stream"||h==="response");if(rE&&(u||M&&R)){const $={};["status","statusText","headers"].forEach(C=>{$[C]=L[C]});const j=re.toFiniteNumber(L.headers.get("content-length")),[D,A]=u&&LP(j,wg(VP(u),!0))||[];L=new Response(FP(L.body,UP,D,()=>{A&&A(),R&&R()}),$)}h=h||"text";let B=await Eg[re.findKey(Eg,h)||"text"](L,n);return!M&&R&&R(),await new Promise(($,j)=>{SN($,j,{data:B,headers:or.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:I})})}catch(V){throw R&&R(),V&&V.name==="TypeError"&&/fetch/i.test(V.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,n,I),{cause:V.cause||V}):Fe.from(V,V&&V.code,n,I)}}),iE={http:qW,xhr:Eq,fetch:kq};re.forEach(iE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const $P=n=>`- ${n}`,xq=n=>re.isFunction(n)||n===null||n===!1,CN={getAdapter:n=>{n=re.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let l;if(r=t,!xq(t)&&(r=iE[(l=String(t)).toLowerCase()],r===void 0))throw new Fe(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+s]=r}if(!r){const s=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?s.length>1?`since :
`+s.map($P).join(`
`):" "+$P(s[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:iE};function jv(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Rc(null,n)}function BP(n){return jv(n),n.headers=or.from(n.headers),n.data=zv.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),CN.getAdapter(n.adapter||Tf.adapter)(n).then(function(r){return jv(n),r.data=zv.call(n,n.transformResponse,r),r.headers=or.from(r.headers),r},function(r){return TN(r)||(jv(n),r&&r.response&&(r.response.data=zv.call(n,n.transformResponse,r.response),r.response.headers=or.from(r.response.headers))),Promise.reject(r)})}const kN="1.8.2",Ay={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Ay[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const zP={};Ay.transitional=function(e,t,r){function i(s,l){return"[Axios v"+kN+"] Transitional option '"+s+"'"+l+(r?". "+r:"")}return(s,l,u)=>{if(e===!1)throw new Fe(i(l," has been removed"+(t?" in "+t:"")),Fe.ERR_DEPRECATED);return t&&!zP[l]&&(zP[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,l,u):!0}};Ay.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Oq(n,e,t){if(typeof n!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],l=e[s];if(l){const u=n[s],d=u===void 0||l(u,s,n);if(d!==!0)throw new Fe("option "+s+" must be "+d,Fe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Fe("Unknown option "+s,Fe.ERR_BAD_OPTION)}}const km={assertOptions:Oq,validators:Ay},Ci=km.validators;let Ka=class{constructor(e){this.defaults=e,this.interceptors={request:new NP,response:new NP}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ol(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&km.assertOptions(r,{silentJSONParsing:Ci.transitional(Ci.boolean),forcedJSONParsing:Ci.transitional(Ci.boolean),clarifyTimeoutError:Ci.transitional(Ci.boolean)},!1),i!=null&&(re.isFunction(i)?t.paramsSerializer={serialize:i}:km.assertOptions(i,{encode:Ci.function,serialize:Ci.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),km.assertOptions(t,{baseUrl:Ci.spelling("baseURL"),withXsrfToken:Ci.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=s&&re.merge(s.common,s[t.method]);s&&re.forEach(["delete","get","head","post","put","patch","common"],I=>{delete s[I]}),t.headers=or.concat(l,s);const u=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(d=d&&R.synchronous,u.unshift(R.fulfilled,R.rejected))});const h=[];this.interceptors.response.forEach(function(R){h.push(R.fulfilled,R.rejected)});let m,g=0,_;if(!d){const I=[BP.bind(this),void 0];for(I.unshift.apply(I,u),I.push.apply(I,h),_=I.length,m=Promise.resolve(t);g<_;)m=m.then(I[g++],I[g++]);return m}_=u.length;let T=t;for(g=0;g<_;){const I=u[g++],R=u[g++];try{T=I(T)}catch(P){R.call(this,P);break}}try{m=BP.call(this,T)}catch(I){return Promise.reject(I)}for(g=0,_=h.length;g<_;)m=m.then(h[g++],h[g++]);return m}getUri(e){e=ol(this.defaults,e);const t=RN(e.baseURL,e.url,e.allowAbsoluteUrls);return wN(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){Ka.prototype[e]=function(t,r){return this.request(ol(r||{},{method:e,url:t,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(r){return function(s,l,u){return this.request(ol(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Ka.prototype[e]=t(),Ka.prototype[e+"Form"]=t(!0)});let Nq=class xN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(u=>{r.subscribe(u),s=u}).then(i);return l.cancel=function(){r.unsubscribe(s)},l},e(function(s,l,u){r.reason||(r.reason=new Rc(s,l,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new xN(function(i){e=i}),cancel:e}}};function Dq(n){return function(t){return n.apply(null,t)}}function Lq(n){return re.isObject(n)&&n.isAxiosError===!0}const sE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sE).forEach(([n,e])=>{sE[e]=n});function ON(n){const e=new Ka(n),t=uN(Ka.prototype.request,e);return re.extend(t,Ka.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return ON(ol(n,i))},t}const bt=ON(Tf);bt.Axios=Ka;bt.CanceledError=Rc;bt.CancelToken=Nq;bt.isCancel=TN;bt.VERSION=kN;bt.toFormData=Sy;bt.AxiosError=Fe;bt.Cancel=bt.CanceledError;bt.all=function(e){return Promise.all(e)};bt.spread=Dq;bt.isAxiosError=Lq;bt.mergeConfig=ol;bt.AxiosHeaders=or;bt.formToJSON=n=>IN(re.isHTMLForm(n)?new FormData(n):n);bt.getAdapter=CN.getAdapter;bt.HttpStatusCode=sE;bt.default=bt;const{Axios:qQ,AxiosError:HQ,CanceledError:KQ,isCancel:GQ,CancelToken:QQ,VERSION:YQ,all:JQ,Cancel:XQ,isAxiosError:ZQ,spread:eY,toFormData:tY,AxiosHeaders:nY,HttpStatusCode:rY,formToJSON:iY,getAdapter:sY,mergeConfig:oY}=bt;var Wv={exports:{}},qv,jP;function Vq(){if(jP)return qv;jP=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qv=n,qv}var Hv,WP;function Mq(){if(WP)return Hv;WP=1;var n=Vq();function e(){}function t(){}return t.resetWarningCache=e,Hv=function(){function r(l,u,d,h,m,g){if(g!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},Hv}var qP;function NN(){return qP||(qP=1,Wv.exports=Mq()()),Wv.exports}var Fq=NN();const xt=yE(Fq);function DN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=DN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function ph(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=DN(n))&&(r&&(r+=" "),r+=e);return r}function LN(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const Uq={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function VN(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let l="",u=!0;for(let d=0;d<s.length;d+=1){const h=s[d];h&&(l+=(u===!0?"":" ")+e(h),u=!1,t&&t[h]&&(l+=" "+t[h]))}r[i]=l}return r}const $q=H.createContext(),Bq=()=>H.useContext($q)??!1;function HP(n){try{return n.matches(":focus-visible")}catch{}return!1}var Kv={exports:{}},ut={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KP;function zq(){if(KP)return ut;KP=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),T=Symbol.for("react.client.reference");function I(R){if(typeof R=="object"&&R!==null){var P=R.$$typeof;switch(P){case n:switch(R=R.type,R){case t:case i:case r:case d:case h:return R;default:switch(R=R&&R.$$typeof,R){case l:case u:case g:case m:return R;case s:return R;default:return P}}case e:return P}}}return ut.ContextConsumer=s,ut.ContextProvider=l,ut.Element=n,ut.ForwardRef=u,ut.Fragment=t,ut.Lazy=g,ut.Memo=m,ut.Portal=e,ut.Profiler=i,ut.StrictMode=r,ut.Suspense=d,ut.SuspenseList=h,ut.isContextConsumer=function(R){return I(R)===s},ut.isContextProvider=function(R){return I(R)===l},ut.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===n},ut.isForwardRef=function(R){return I(R)===u},ut.isFragment=function(R){return I(R)===t},ut.isLazy=function(R){return I(R)===g},ut.isMemo=function(R){return I(R)===m},ut.isPortal=function(R){return I(R)===e},ut.isProfiler=function(R){return I(R)===i},ut.isStrictMode=function(R){return I(R)===r},ut.isSuspense=function(R){return I(R)===d},ut.isSuspenseList=function(R){return I(R)===h},ut.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===i||R===r||R===d||R===h||R===_||typeof R=="object"&&R!==null&&(R.$$typeof===g||R.$$typeof===m||R.$$typeof===l||R.$$typeof===s||R.$$typeof===u||R.$$typeof===T||R.getModuleId!==void 0)},ut.typeOf=I,ut}var GP;function jq(){return GP||(GP=1,Kv.exports=zq()),Kv.exports}var MN=jq();function Is(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function FN(n){if(H.isValidElement(n)||MN.isValidElementType(n)||!Is(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=FN(n[t])}),e}function Sr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Is(n)&&Is(e)&&Object.keys(e).forEach(i=>{H.isValidElement(e[i])||MN.isValidElementType(e[i])?r[i]=e[i]:Is(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Is(n[i])?r[i]=Sr(n[i],e[i],t):t.clone?r[i]=Is(e[i])?FN(e[i]):e[i]:r[i]=e[i]}),r}function al(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function Wo(n){if(typeof n!="string")throw new Error(al(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Wq(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let QP=0;function qq(n){const[e,t]=H.useState(n),r=n||e;return H.useEffect(()=>{e==null&&(QP+=1,t(`mui-${QP}`))},[e]),r}const Hq={...tw},YP=Hq.useId;function UN(n){if(YP!==void 0){const e=YP();return n??e}return qq(n)}function Kq({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=H.useRef(n!==void 0),[s,l]=H.useState(e),u=i?n:s,d=H.useCallback(h=>{i||l(h)},[]);return[u,d]}function Gq(...n){return H.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{Wq(t,e)})},n)}function oE(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const s=n[i],l=e[i];if(!l)t[i]=s||{};else if(!s)t[i]=l;else{t[i]={...l};for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const d=u;t[i][d]=oE(s[d],l[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const JP=n=>n,Qq=()=>{let n=JP;return{configure(e){n=e},generate(e){return n(e)},reset(){n=JP}}},Yq=Qq(),Jq={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function _I(n,e,t="Mui"){const r=Jq[e];return r?`${t}-${r}`:`${Yq.generate(n)}-${e}`}function $N(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=_I(n,i,t)}),r}function mh(n,e){return e?Sr(n,e,{clone:!1}):n}function Xq(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,u;const s=/min-width:\s*([0-9.]+)/;return+(((l=r.match(s))==null?void 0:l[1])||0)-+(((u=i.match(s))==null?void 0:u[1])||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function Zq(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function eH(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function tH(n){const e=(s,l)=>s.replace("@media",l?`@container ${l}`:"@container");function t(s,l){s.up=(...u)=>e(n.breakpoints.up(...u),l),s.down=(...u)=>e(n.breakpoints.down(...u),l),s.between=(...u)=>e(n.breakpoints.between(...u),l),s.only=(...u)=>e(n.breakpoints.only(...u),l),s.not=(...u)=>{const d=e(n.breakpoints.not(...u),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const Py={xs:0,sm:600,md:900,lg:1200,xl:1536},XP={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Py[n]}px)`},nH={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Py[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Ms(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||XP;return e.reduce((l,u,d)=>(l[s.up(s.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const s=r.breakpoints||XP;return Object.keys(e).reduce((l,u)=>{if(Zq(s.keys,u)){const d=eH(r.containerQueries?r:nH,u);d&&(l[d]=t(e[u],u))}else if(Object.keys(s.values||Py).includes(u)){const d=s.up(u);l[d]=t(e[u],u)}else{const d=u;l[d]=e[d]}return l},{})}return t(e)}function rH(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function iH(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function by(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Ig(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=by(n,t)||r,e&&(i=e(i,r,n)),i}function Ht(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=l=>{if(l[e]==null)return null;const u=l[e],d=l.theme,h=by(d,r)||{};return Ms(l,u,g=>{let _=Ig(h,i,g);return g===_&&typeof g=="string"&&(_=Ig(h,i,`${e}${g==="default"?"":Wo(g)}`,g)),t===!1?_:{[t]:_}})};return s.propTypes={},s.filterProps=[e],s}function sH(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const oH={m:"margin",p:"padding"},aH={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ZP={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},lH=sH(n=>{if(n.length>2)if(ZP[n])n=ZP[n];else return[n];const[e,t]=n.split(""),r=oH[e],i=aH[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),vI=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],wI=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...vI,...wI];function Sf(n,e,t,r){const i=by(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const l=Math.abs(s),u=i[l];return s>=0?u:typeof u=="number"?-u:`-${u}`}:typeof i=="function"?i:()=>{}}function EI(n){return Sf(n,"spacing",8)}function Rf(n,e){return typeof e=="string"||e==null?e:n(e)}function uH(n,e){return t=>n.reduce((r,i)=>(r[i]=Rf(e,t),r),{})}function cH(n,e,t,r){if(!e.includes(t))return null;const i=lH(t),s=uH(i,r),l=n[t];return Ms(n,l,s)}function BN(n,e){const t=EI(n.theme);return Object.keys(n).map(r=>cH(n,e,r,t)).reduce(mh,{})}function Vt(n){return BN(n,vI)}Vt.propTypes={};Vt.filterProps=vI;function Mt(n){return BN(n,wI)}Mt.propTypes={};Mt.filterProps=wI;function Cy(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?mh(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function $r(n){return typeof n!="number"?n:`${n}px solid`}function Hr(n,e){return Ht({prop:n,themeKey:"borders",transform:e})}const dH=Hr("border",$r),hH=Hr("borderTop",$r),fH=Hr("borderRight",$r),pH=Hr("borderBottom",$r),mH=Hr("borderLeft",$r),gH=Hr("borderColor"),yH=Hr("borderTopColor"),_H=Hr("borderRightColor"),vH=Hr("borderBottomColor"),wH=Hr("borderLeftColor"),EH=Hr("outline",$r),IH=Hr("outlineColor"),ky=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Sf(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Rf(e,r)});return Ms(n,n.borderRadius,t)}return null};ky.propTypes={};ky.filterProps=["borderRadius"];Cy(dH,hH,fH,pH,mH,gH,yH,_H,vH,wH,ky,EH,IH);const xy=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Sf(n.theme,"spacing",8),t=r=>({gap:Rf(e,r)});return Ms(n,n.gap,t)}return null};xy.propTypes={};xy.filterProps=["gap"];const Oy=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Sf(n.theme,"spacing",8),t=r=>({columnGap:Rf(e,r)});return Ms(n,n.columnGap,t)}return null};Oy.propTypes={};Oy.filterProps=["columnGap"];const Ny=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Sf(n.theme,"spacing",8),t=r=>({rowGap:Rf(e,r)});return Ms(n,n.rowGap,t)}return null};Ny.propTypes={};Ny.filterProps=["rowGap"];const TH=Ht({prop:"gridColumn"}),SH=Ht({prop:"gridRow"}),RH=Ht({prop:"gridAutoFlow"}),AH=Ht({prop:"gridAutoColumns"}),PH=Ht({prop:"gridAutoRows"}),bH=Ht({prop:"gridTemplateColumns"}),CH=Ht({prop:"gridTemplateRows"}),kH=Ht({prop:"gridTemplateAreas"}),xH=Ht({prop:"gridArea"});Cy(xy,Oy,Ny,TH,SH,RH,AH,PH,bH,CH,kH,xH);function Nu(n,e){return e==="grey"?e:n}const OH=Ht({prop:"color",themeKey:"palette",transform:Nu}),NH=Ht({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Nu}),DH=Ht({prop:"backgroundColor",themeKey:"palette",transform:Nu});Cy(OH,NH,DH);function wr(n){return n<=1&&n!==0?`${n*100}%`:n}const LH=Ht({prop:"width",transform:wr}),II=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,s,l,u,d;const r=((l=(s=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:l[t])||Py[t];return r?((d=(u=n.theme)==null?void 0:u.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:wr(t)}};return Ms(n,n.maxWidth,e)}return null};II.filterProps=["maxWidth"];const VH=Ht({prop:"minWidth",transform:wr}),MH=Ht({prop:"height",transform:wr}),FH=Ht({prop:"maxHeight",transform:wr}),UH=Ht({prop:"minHeight",transform:wr});Ht({prop:"size",cssProperty:"width",transform:wr});Ht({prop:"size",cssProperty:"height",transform:wr});const $H=Ht({prop:"boxSizing"});Cy(LH,II,VH,MH,FH,UH,$H);const Dy={border:{themeKey:"borders",transform:$r},borderTop:{themeKey:"borders",transform:$r},borderRight:{themeKey:"borders",transform:$r},borderBottom:{themeKey:"borders",transform:$r},borderLeft:{themeKey:"borders",transform:$r},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:$r},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ky},color:{themeKey:"palette",transform:Nu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Nu},backgroundColor:{themeKey:"palette",transform:Nu},p:{style:Mt},pt:{style:Mt},pr:{style:Mt},pb:{style:Mt},pl:{style:Mt},px:{style:Mt},py:{style:Mt},padding:{style:Mt},paddingTop:{style:Mt},paddingRight:{style:Mt},paddingBottom:{style:Mt},paddingLeft:{style:Mt},paddingX:{style:Mt},paddingY:{style:Mt},paddingInline:{style:Mt},paddingInlineStart:{style:Mt},paddingInlineEnd:{style:Mt},paddingBlock:{style:Mt},paddingBlockStart:{style:Mt},paddingBlockEnd:{style:Mt},m:{style:Vt},mt:{style:Vt},mr:{style:Vt},mb:{style:Vt},ml:{style:Vt},mx:{style:Vt},my:{style:Vt},margin:{style:Vt},marginTop:{style:Vt},marginRight:{style:Vt},marginBottom:{style:Vt},marginLeft:{style:Vt},marginX:{style:Vt},marginY:{style:Vt},marginInline:{style:Vt},marginInlineStart:{style:Vt},marginInlineEnd:{style:Vt},marginBlock:{style:Vt},marginBlockStart:{style:Vt},marginBlockEnd:{style:Vt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:xy},rowGap:{style:Ny},columnGap:{style:Oy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:wr},maxWidth:{style:II},minWidth:{transform:wr},height:{transform:wr},maxHeight:{transform:wr},minHeight:{transform:wr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function BH(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function zH(n,e){return typeof n=="function"?n(e):n}function jH(){function n(t,r,i,s){const l={[t]:r,theme:i},u=s[t];if(!u)return{[t]:r};const{cssProperty:d=t,themeKey:h,transform:m,style:g}=u;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[t]:r};const _=by(i,h)||{};return g?g(l):Ms(l,r,I=>{let R=Ig(_,m,I);return I===R&&typeof I=="string"&&(R=Ig(_,m,`${t}${I==="default"?"":Wo(I)}`,I)),d===!1?R:{[d]:R}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const s=i.unstable_sxConfig??Dy;function l(u){let d=u;if(typeof u=="function")d=u(i);else if(typeof u!="object")return u;if(!d)return null;const h=rH(i.breakpoints),m=Object.keys(h);let g=h;return Object.keys(d).forEach(_=>{const T=zH(d[_],i);if(T!=null)if(typeof T=="object")if(s[_])g=mh(g,n(_,T,i,s));else{const I=Ms({theme:i},T,R=>({[_]:R}));BH(I,T)?g[_]=e({sx:T,theme:i}):g=mh(g,I)}else g=mh(g,n(_,T,i,s))}),Xq(i,iH(m,g))}return Array.isArray(r)?r.map(l):l(r)}return e}const ic=jH();ic.filterProps=["sx"];function aE(){return aE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},aE.apply(null,arguments)}function WH(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function qH(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var HH=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(qH(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=WH(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Nn="-ms-",Tg="-moz-",nt="-webkit-",zN="comm",TI="rule",SI="decl",KH="@import",jN="@keyframes",GH="@layer",QH=Math.abs,Ly=String.fromCharCode,YH=Object.assign;function JH(n,e){return Sn(n,0)^45?(((e<<2^Sn(n,0))<<2^Sn(n,1))<<2^Sn(n,2))<<2^Sn(n,3):0}function WN(n){return n.trim()}function XH(n,e){return(n=e.exec(n))?n[0]:n}function rt(n,e,t){return n.replace(e,t)}function lE(n,e){return n.indexOf(e)}function Sn(n,e){return n.charCodeAt(e)|0}function zh(n,e,t){return n.slice(e,t)}function Ni(n){return n.length}function RI(n){return n.length}function Zp(n,e){return e.push(n),n}function ZH(n,e){return n.map(e).join("")}var Vy=1,sc=1,qN=0,ar=0,Xt=0,Ac="";function My(n,e,t,r,i,s,l){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Vy,column:sc,length:l,return:""}}function Nd(n,e){return YH(My("",null,null,"",null,null,0),n,{length:-n.length},e)}function e8(){return Xt}function t8(){return Xt=ar>0?Sn(Ac,--ar):0,sc--,Xt===10&&(sc=1,Vy--),Xt}function Rr(){return Xt=ar<qN?Sn(Ac,ar++):0,sc++,Xt===10&&(sc=1,Vy++),Xt}function Ki(){return Sn(Ac,ar)}function xm(){return ar}function Af(n,e){return zh(Ac,n,e)}function jh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function HN(n){return Vy=sc=1,qN=Ni(Ac=n),ar=0,[]}function KN(n){return Ac="",n}function Om(n){return WN(Af(ar-1,uE(n===91?n+2:n===40?n+1:n)))}function n8(n){for(;(Xt=Ki())&&Xt<33;)Rr();return jh(n)>2||jh(Xt)>3?"":" "}function r8(n,e){for(;--e&&Rr()&&!(Xt<48||Xt>102||Xt>57&&Xt<65||Xt>70&&Xt<97););return Af(n,xm()+(e<6&&Ki()==32&&Rr()==32))}function uE(n){for(;Rr();)switch(Xt){case n:return ar;case 34:case 39:n!==34&&n!==39&&uE(Xt);break;case 40:n===41&&uE(n);break;case 92:Rr();break}return ar}function i8(n,e){for(;Rr()&&n+Xt!==57;)if(n+Xt===84&&Ki()===47)break;return"/*"+Af(e,ar-1)+"*"+Ly(n===47?n:Rr())}function s8(n){for(;!jh(Ki());)Rr();return Af(n,ar)}function o8(n){return KN(Nm("",null,null,null,[""],n=HN(n),0,[0],n))}function Nm(n,e,t,r,i,s,l,u,d){for(var h=0,m=0,g=l,_=0,T=0,I=0,R=1,P=1,V=1,L=0,M="",B=i,$=s,j=r,D=M;P;)switch(I=L,L=Rr()){case 40:if(I!=108&&Sn(D,g-1)==58){lE(D+=rt(Om(L),"&","&\f"),"&\f")!=-1&&(V=-1);break}case 34:case 39:case 91:D+=Om(L);break;case 9:case 10:case 13:case 32:D+=n8(I);break;case 92:D+=r8(xm()-1,7);continue;case 47:switch(Ki()){case 42:case 47:Zp(a8(i8(Rr(),xm()),e,t),d);break;default:D+="/"}break;case 123*R:u[h++]=Ni(D)*V;case 125*R:case 59:case 0:switch(L){case 0:case 125:P=0;case 59+m:V==-1&&(D=rt(D,/\f/g,"")),T>0&&Ni(D)-g&&Zp(T>32?tb(D+";",r,t,g-1):tb(rt(D," ","")+";",r,t,g-2),d);break;case 59:D+=";";default:if(Zp(j=eb(D,e,t,h,m,i,u,M,B=[],$=[],g),s),L===123)if(m===0)Nm(D,e,j,j,B,s,g,u,$);else switch(_===99&&Sn(D,3)===110?100:_){case 100:case 108:case 109:case 115:Nm(n,j,j,r&&Zp(eb(n,j,j,0,0,i,u,M,i,B=[],g),$),i,$,g,u,r?B:$);break;default:Nm(D,j,j,j,[""],$,0,u,$)}}h=m=T=0,R=V=1,M=D="",g=l;break;case 58:g=1+Ni(D),T=I;default:if(R<1){if(L==123)--R;else if(L==125&&R++==0&&t8()==125)continue}switch(D+=Ly(L),L*R){case 38:V=m>0?1:(D+="\f",-1);break;case 44:u[h++]=(Ni(D)-1)*V,V=1;break;case 64:Ki()===45&&(D+=Om(Rr())),_=Ki(),m=g=Ni(M=D+=s8(xm())),L++;break;case 45:I===45&&Ni(D)==2&&(R=0)}}return s}function eb(n,e,t,r,i,s,l,u,d,h,m){for(var g=i-1,_=i===0?s:[""],T=RI(_),I=0,R=0,P=0;I<r;++I)for(var V=0,L=zh(n,g+1,g=QH(R=l[I])),M=n;V<T;++V)(M=WN(R>0?_[V]+" "+L:rt(L,/&\f/g,_[V])))&&(d[P++]=M);return My(n,e,t,i===0?TI:u,d,h,m)}function a8(n,e,t){return My(n,e,t,zN,Ly(e8()),zh(n,2,-2),0)}function tb(n,e,t,r){return My(n,e,t,SI,zh(n,0,r),zh(n,r+1,-1),r)}function Du(n,e){for(var t="",r=RI(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function l8(n,e,t,r){switch(n.type){case GH:if(n.children.length)break;case KH:case SI:return n.return=n.return||n.value;case zN:return"";case jN:return n.return=n.value+"{"+Du(n.children,r)+"}";case TI:n.value=n.props.join(",")}return Ni(t=Du(n.children,r))?n.return=n.value+"{"+t+"}":""}function u8(n){var e=RI(n);return function(t,r,i,s){for(var l="",u=0;u<e;u++)l+=n[u](t,r,i,s)||"";return l}}function c8(n){return function(e){e.root||(e=e.return)&&n(e)}}function GN(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var d8=function(e,t,r){for(var i=0,s=0;i=s,s=Ki(),i===38&&s===12&&(t[r]=1),!jh(s);)Rr();return Af(e,ar)},h8=function(e,t){var r=-1,i=44;do switch(jh(i)){case 0:i===38&&Ki()===12&&(t[r]=1),e[r]+=d8(ar-1,t,r);break;case 2:e[r]+=Om(i);break;case 4:if(i===44){e[++r]=Ki()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Ly(i)}while(i=Rr());return e},f8=function(e,t){return KN(h8(HN(e),t))},nb=new WeakMap,p8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!nb.get(r))&&!i){nb.set(e,!0);for(var s=[],l=f8(t,s),u=r.props,d=0,h=0;d<l.length;d++)for(var m=0;m<u.length;m++,h++)e.props[h]=s[d]?l[d].replace(/&\f/g,u[m]):u[m]+" "+l[d]}}},m8=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function QN(n,e){switch(JH(n,e)){case 5103:return nt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return nt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return nt+n+Tg+n+Nn+n+n;case 6828:case 4268:return nt+n+Nn+n+n;case 6165:return nt+n+Nn+"flex-"+n+n;case 5187:return nt+n+rt(n,/(\w+).+(:[^]+)/,nt+"box-$1$2"+Nn+"flex-$1$2")+n;case 5443:return nt+n+Nn+"flex-item-"+rt(n,/flex-|-self/,"")+n;case 4675:return nt+n+Nn+"flex-line-pack"+rt(n,/align-content|flex-|-self/,"")+n;case 5548:return nt+n+Nn+rt(n,"shrink","negative")+n;case 5292:return nt+n+Nn+rt(n,"basis","preferred-size")+n;case 6060:return nt+"box-"+rt(n,"-grow","")+nt+n+Nn+rt(n,"grow","positive")+n;case 4554:return nt+rt(n,/([^-])(transform)/g,"$1"+nt+"$2")+n;case 6187:return rt(rt(rt(n,/(zoom-|grab)/,nt+"$1"),/(image-set)/,nt+"$1"),n,"")+n;case 5495:case 3959:return rt(n,/(image-set\([^]*)/,nt+"$1$`$1");case 4968:return rt(rt(n,/(.+:)(flex-)?(.*)/,nt+"box-pack:$3"+Nn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+nt+n+n;case 4095:case 3583:case 4068:case 2532:return rt(n,/(.+)-inline(.+)/,nt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ni(n)-1-e>6)switch(Sn(n,e+1)){case 109:if(Sn(n,e+4)!==45)break;case 102:return rt(n,/(.+:)(.+)-([^]+)/,"$1"+nt+"$2-$3$1"+Tg+(Sn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~lE(n,"stretch")?QN(rt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Sn(n,e+1)!==115)break;case 6444:switch(Sn(n,Ni(n)-3-(~lE(n,"!important")&&10))){case 107:return rt(n,":",":"+nt)+n;case 101:return rt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+nt+(Sn(n,14)===45?"inline-":"")+"box$3$1"+nt+"$2$3$1"+Nn+"$2box$3")+n}break;case 5936:switch(Sn(n,e+11)){case 114:return nt+n+Nn+rt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return nt+n+Nn+rt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return nt+n+Nn+rt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return nt+n+Nn+n+n}return n}var g8=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case SI:e.return=QN(e.value,e.length);break;case jN:return Du([Nd(e,{value:rt(e.value,"@","@"+nt)})],i);case TI:if(e.length)return ZH(e.props,function(s){switch(XH(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Du([Nd(e,{props:[rt(s,/:(read-\w+)/,":"+Tg+"$1")]})],i);case"::placeholder":return Du([Nd(e,{props:[rt(s,/:(plac\w+)/,":"+nt+"input-$1")]}),Nd(e,{props:[rt(s,/:(plac\w+)/,":"+Tg+"$1")]}),Nd(e,{props:[rt(s,/:(plac\w+)/,Nn+"input-$1")]})],i)}return""})}},y8=[g8],_8=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var P=R.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||y8,s={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(R){for(var P=R.getAttribute("data-emotion").split(" "),V=1;V<P.length;V++)s[P[V]]=!0;u.push(R)});var d,h=[p8,m8];{var m,g=[l8,c8(function(R){m.insert(R)})],_=u8(h.concat(i,g)),T=function(P){return Du(o8(P),_)};d=function(P,V,L,M){m=L,T(P?P+"{"+V.styles+"}":V.styles),M&&(I.inserted[V.name]=!0)}}var I={key:t,sheet:new HH({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:d};return I.sheet.hydrate(u),I},v8=!0;function w8(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var YN=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||v8===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},E8=function(e,t,r){YN(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function I8(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var T8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},S8=/[A-Z]|^ms/g,R8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,JN=function(e){return e.charCodeAt(1)===45},rb=function(e){return e!=null&&typeof e!="boolean"},Gv=GN(function(n){return JN(n)?n:n.replace(S8,"-$&").toLowerCase()}),ib=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(R8,function(r,i,s){return Di={name:i,styles:s,next:Di},i})}return T8[e]!==1&&!JN(e)&&typeof t=="number"&&t!==0?t+"px":t};function Wh(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Di={name:i.name,styles:i.styles,next:Di},i.name;var s=t;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)Di={name:l.name,styles:l.styles,next:Di},l=l.next;var u=s.styles+";";return u}return A8(n,e,t)}case"function":{if(n!==void 0){var d=Di,h=t(n);return Di=d,Wh(n,e,h)}break}}var m=t;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function A8(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Wh(n,e,t[i])+";";else for(var s in t){var l=t[s];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?r+=s+"{"+e[u]+"}":rb(u)&&(r+=Gv(s)+":"+ib(s,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)rb(l[d])&&(r+=Gv(s)+":"+ib(s,l[d])+";");else{var h=Wh(n,e,l);switch(s){case"animation":case"animationName":{r+=Gv(s)+":"+h+";";break}default:r+=s+"{"+h+"}"}}}return r}var sb=/label:\s*([^\s;{]+)\s*(;|$)/g,Di;function XN(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Di=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=Wh(t,e,s);else{var l=s;i+=l[0]}for(var u=1;u<n.length;u++)if(i+=Wh(t,e,n[u]),r){var d=s;i+=d[u]}sb.lastIndex=0;for(var h="",m;(m=sb.exec(i))!==null;)h+="-"+m[1];var g=I8(i)+h;return{name:g,styles:i,next:Di}}var P8=function(e){return e()},b8=tw.useInsertionEffect?tw.useInsertionEffect:!1,C8=b8||P8,ZN=H.createContext(typeof HTMLElement<"u"?_8({key:"css"}):null);ZN.Provider;var k8=function(e){return H.forwardRef(function(t,r){var i=H.useContext(ZN);return e(t,i,r)})},x8=H.createContext({}),O8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,N8=GN(function(n){return O8.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),D8=N8,L8=function(e){return e!=="theme"},ob=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?D8:L8},ab=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(l){return e.__emotion_forwardProp(l)&&s(l)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},V8=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return YN(t,r,i),C8(function(){return E8(t,r,i)}),null},M8=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,l;t!==void 0&&(s=t.label,l=t.target);var u=ab(e,t,r),d=u||ob(i),h=!d("as");return function(){var m=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var _=m[0];g.push(_[0]);for(var T=m.length,I=1;I<T;I++)g.push(m[I],_[I])}var R=k8(function(P,V,L){var M=h&&P.as||i,B="",$=[],j=P;if(P.theme==null){j={};for(var D in P)j[D]=P[D];j.theme=H.useContext(x8)}typeof P.className=="string"?B=w8(V.registered,$,P.className):P.className!=null&&(B=P.className+" ");var A=XN(g.concat($),V.registered,j);B+=V.key+"-"+A.name,l!==void 0&&(B+=" "+l);var C=h&&u===void 0?ob(M):d,E={};for(var x in P)h&&x==="as"||C(x)&&(E[x]=P[x]);return E.className=B,L&&(E.ref=L),H.createElement(H.Fragment,null,H.createElement(V8,{cache:V,serialized:A,isStringTag:typeof M=="string"}),H.createElement(M,E))});return R.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",R.defaultProps=e.defaultProps,R.__emotion_real=R,R.__emotion_base=i,R.__emotion_styles=g,R.__emotion_forwardProp=u,Object.defineProperty(R,"toString",{value:function(){return"."+l}}),R.withComponent=function(P,V){var L=n(P,aE({},t,V,{shouldForwardProp:ab(R,V,!0)}));return L.apply(void 0,g)},R}},F8=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],cE=M8.bind(null);F8.forEach(function(n){cE[n]=cE(n)});/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function U8(n,e){return cE(n,e)}function $8(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const lb=[];function ub(n){return lb[0]=n,XN(lb)}const B8=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function z8(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=B8(e),l=Object.keys(s);function u(_){return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t})`}function d(_){return`@media (max-width:${(typeof e[_]=="number"?e[_]:_)-r/100}${t})`}function h(_,T){const I=l.indexOf(T);return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t}) and (max-width:${(I!==-1&&typeof e[l[I]]=="number"?e[l[I]]:T)-r/100}${t})`}function m(_){return l.indexOf(_)+1<l.length?h(_,l[l.indexOf(_)+1]):u(_)}function g(_){const T=l.indexOf(_);return T===0?u(l[1]):T===l.length-1?d(l[T]):h(_,l[l.indexOf(_)+1]).replace("@media","@media not all and")}return{keys:l,values:s,up:u,down:d,between:h,only:m,not:g,unit:t,...i}}const j8={borderRadius:4};function eD(n=8,e=EI({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const l=e(s);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function W8(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function tD(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...l}=n,u=z8(t),d=eD(i);let h=Sr({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...j8,...s}},l);return h=tH(h),h.applyStyles=W8,h=e.reduce((m,g)=>Sr(m,g),h),h.unstable_sxConfig={...Dy,...l==null?void 0:l.unstable_sxConfig},h.unstable_sx=function(g){return ic({sx:g,theme:this})},h}function nD(n){const{variants:e,...t}=n,r={variants:e,style:ub(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=ub(i.style))}),r}const q8=tD();function Qv(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function H8(n){return n?(e,t)=>t[n]:null}function K8(n,e,t){n.theme=Y8(n.theme)?t:n.theme[e]||n.theme}function Dm(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Dm(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...s}=t;r=s}return rD(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function rD(n,e,t=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const l=e[s];if(typeof l.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(r))continue}else for(const u in l.props)if(n[u]!==l.props[u]&&((i=n.ownerState)==null?void 0:i[u])!==l.props[u])continue e;typeof l.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(r))):t.push(l.style)}return t}function G8(n={}){const{themeId:e,defaultTheme:t=q8,rootShouldForwardProp:r=Qv,slotShouldForwardProp:i=Qv}=n;function s(u){K8(u,e,t)}return(u,d={})=>{$8(u,$=>$.filter(j=>j!==ic));const{name:h,slot:m,skipVariantsResolver:g,skipSx:_,overridesResolver:T=H8(X8(m)),...I}=d,R=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,P=_||!1;let V=Qv;m==="Root"||m==="root"?V=r:m?V=i:J8(u)&&(V=void 0);const L=U8(u,{shouldForwardProp:V,label:Q8(),...I}),M=$=>{if(typeof $=="function"&&$.__emotion_real!==$)return function(D){return Dm(D,$)};if(Is($)){const j=nD($);return j.variants?function(A){return Dm(A,j)}:j.style}return $},B=(...$)=>{const j=[],D=$.map(M),A=[];if(j.push(s),h&&T&&A.push(function(k){var me,oe;const X=(oe=(me=k.theme.components)==null?void 0:me[h])==null?void 0:oe.styleOverrides;if(!X)return null;const F={};for(const Z in X)F[Z]=Dm(k,X[Z]);return T(k,F)}),h&&!R&&A.push(function(k){var F,me;const O=k.theme,X=(me=(F=O==null?void 0:O.components)==null?void 0:F[h])==null?void 0:me.variants;return X?rD(k,X):null}),P||A.push(ic),Array.isArray(D[0])){const x=D.shift(),k=new Array(j.length).fill(""),O=new Array(A.length).fill("");let X;X=[...k,...x,...O],X.raw=[...k,...x.raw,...O],j.unshift(X)}const C=[...j,...D,...A],E=L(...C);return u.muiName&&(E.muiName=u.muiName),E};return L.withConfig&&(B.withConfig=L.withConfig),B}}function Q8(n,e){return void 0}function Y8(n){for(const e in n)return!1;return!0}function J8(n){return typeof n=="string"&&n.charCodeAt(0)>96}function X8(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function AI(n,e=0,t=1){return LN(n,e,t)}function Z8(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function qo(n){if(n.type)return n;if(n.charAt(0)==="#")return qo(Z8(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(al(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(al(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const eK=n=>{const e=qo(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Zd=(n,e)=>{try{return eK(n)}catch{return n}};function Fy(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function iD(n){n=qo(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),l=(h,m=(h+t/30)%12)=>i-s*Math.max(Math.min(m-3,9-m,1),-1);let u="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(u+="a",d.push(e[3])),Fy({type:u,values:d})}function dE(n){n=qo(n);let e=n.type==="hsl"||n.type==="hsla"?qo(iD(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function tK(n,e){const t=dE(n),r=dE(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function nK(n,e){return n=qo(n),e=AI(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Fy(n)}function em(n,e,t){try{return nK(n,e)}catch{return n}}function PI(n,e){if(n=qo(n),e=AI(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Fy(n)}function dt(n,e,t){try{return PI(n,e)}catch{return n}}function bI(n,e){if(n=qo(n),e=AI(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Fy(n)}function ht(n,e,t){try{return bI(n,e)}catch{return n}}function rK(n,e=.15){return dE(n)>.5?PI(n,e):bI(n,e)}function tm(n,e,t){try{return rK(n,e)}catch{return n}}const iK=H.createContext(void 0);function sK(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?oE(i.defaultProps,r):!i.styleOverrides&&!i.variants?oE(i,r):r}function oK({props:n,name:e}){const t=H.useContext(iK);return sK({props:n,name:e,theme:{components:t}})}const cb={theme:void 0};function aK(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(cb.theme=i.theme,s=nD(n(cb)),e=s,t=i.theme),s}}function lK(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const db=(n,e,t,r=[])=>{let i=n;e.forEach((s,l)=>{l===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},uK=(n,e,t)=>{function r(i,s=[],l=[]){Object.entries(i).forEach(([u,d])=>{(!t||t&&!t([...s,u]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...s,u],Array.isArray(d)?[...l,u]:l):e([...s,u],d,l))})}r(n)},cK=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Yv(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},l={};return uK(n,(u,d,h)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(u,d))){const m=`--${t?`${t}-`:""}${u.join("-")}`,g=cK(u,d);Object.assign(i,{[m]:g}),db(s,u,`var(${m})`,h),db(l,u,`var(${m}, ${g})`,h)}},u=>u[0]==="vars"),{css:i,vars:s,varsWithDefaults:l}}function dK(n,e={}){const{getSelector:t=P,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:l,defaultColorScheme:u="light",...d}=n,{vars:h,css:m,varsWithDefaults:g}=Yv(d,e);let _=g;const T={},{[u]:I,...R}=s;if(Object.entries(R||{}).forEach(([M,B])=>{const{vars:$,css:j,varsWithDefaults:D}=Yv(B,e);_=Sr(_,D),T[M]={css:j,vars:$}}),I){const{css:M,vars:B,varsWithDefaults:$}=Yv(I,e);_=Sr(_,$),T[u]={css:M,vars:B}}function P(M,B){var j,D;let $=i;if(i==="class"&&($=".%s"),i==="data"&&($="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&($=`[${i}="%s"]`),M){if($==="media")return n.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${((D=(j=s[M])==null?void 0:j.palette)==null?void 0:D.mode)||M})`]:{":root":B}};if($)return n.defaultColorScheme===M?`:root, ${$.replace("%s",String(M))}`:$.replace("%s",String(M))}return":root"}return{vars:_,generateThemeVars:()=>{let M={...h};return Object.entries(T).forEach(([,{vars:B}])=>{M=Sr(M,B)}),M},generateStyleSheets:()=>{var A,C;const M=[],B=n.defaultColorScheme||"light";function $(E,x){Object.keys(x).length&&M.push(typeof E=="string"?{[E]:{...x}}:E)}$(t(void 0,{...m}),m);const{[B]:j,...D}=T;if(j){const{css:E}=j,x=(C=(A=s[B])==null?void 0:A.palette)==null?void 0:C.mode,k=!r&&x?{colorScheme:x,...E}:{...E};$(t(B,{...k}),k)}return Object.entries(D).forEach(([E,{css:x}])=>{var X,F;const k=(F=(X=s[E])==null?void 0:X.palette)==null?void 0:F.mode,O=!r&&k?{colorScheme:k,...x}:{...x};$(t(E,{...O}),O)}),M}}}function hK(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const qh={black:"#000",white:"#fff"},fK={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},cu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},du={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Dd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},hu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},fu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},pu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function sD(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:qh.white,default:qh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const pK=sD();function oD(){return{text:{primary:qh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:qh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const hb=oD();function fb(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=bI(n.main,i):e==="dark"&&(n.dark=PI(n.main,s)))}function mK(n="light"){return n==="dark"?{main:hu[200],light:hu[50],dark:hu[400]}:{main:hu[700],light:hu[400],dark:hu[800]}}function gK(n="light"){return n==="dark"?{main:cu[200],light:cu[50],dark:cu[400]}:{main:cu[500],light:cu[300],dark:cu[700]}}function yK(n="light"){return n==="dark"?{main:du[500],light:du[300],dark:du[700]}:{main:du[700],light:du[400],dark:du[800]}}function _K(n="light"){return n==="dark"?{main:fu[400],light:fu[300],dark:fu[700]}:{main:fu[700],light:fu[500],dark:fu[900]}}function vK(n="light"){return n==="dark"?{main:pu[400],light:pu[300],dark:pu[700]}:{main:pu[800],light:pu[500],dark:pu[900]}}function wK(n="light"){return n==="dark"?{main:Dd[400],light:Dd[300],dark:Dd[700]}:{main:"#ed6c02",light:Dd[500],dark:Dd[900]}}function CI(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,s=n.primary||mK(e),l=n.secondary||gK(e),u=n.error||yK(e),d=n.info||_K(e),h=n.success||vK(e),m=n.warning||wK(e);function g(R){return tK(R,hb.text.primary)>=t?hb.text.primary:pK.text.primary}const _=({color:R,name:P,mainShade:V=500,lightShade:L=300,darkShade:M=700})=>{if(R={...R},!R.main&&R[V]&&(R.main=R[V]),!R.hasOwnProperty("main"))throw new Error(al(11,P?` (${P})`:"",V));if(typeof R.main!="string")throw new Error(al(12,P?` (${P})`:"",JSON.stringify(R.main)));return fb(R,"light",L,r),fb(R,"dark",M,r),R.contrastText||(R.contrastText=g(R.main)),R};let T;return e==="light"?T=sD():e==="dark"&&(T=oD()),Sr({common:{...qh},mode:e,primary:_({color:s,name:"primary"}),secondary:_({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:_({color:u,name:"error"}),warning:_({color:m,name:"warning"}),info:_({color:d,name:"info"}),success:_({color:h,name:"success"}),grey:fK,contrastThreshold:t,getContrastText:g,augmentColor:_,tonalOffset:r,...T},i)}function EK(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function IK(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function TK(n){return Math.round(n*1e5)/1e5}const pb={textTransform:"uppercase"},mb='"Roboto", "Helvetica", "Arial", sans-serif';function SK(n,e){const{fontFamily:t=mb,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:h,pxToRem:m,...g}=typeof e=="function"?e(n):e,_=r/14,T=m||(P=>`${P/d*_}rem`),I=(P,V,L,M,B)=>({fontFamily:t,fontWeight:P,fontSize:T(V),lineHeight:L,...t===mb?{letterSpacing:`${TK(M/V)}em`}:{},...B,...h}),R={h1:I(i,96,1.167,-1.5),h2:I(i,60,1.2,-.5),h3:I(s,48,1.167,0),h4:I(s,34,1.235,.25),h5:I(s,24,1.334,0),h6:I(l,20,1.6,.15),subtitle1:I(s,16,1.75,.15),subtitle2:I(l,14,1.57,.1),body1:I(s,16,1.5,.15),body2:I(s,14,1.43,.15),button:I(l,14,1.75,.4,pb),caption:I(s,12,1.66,.4),overline:I(s,12,2.66,1,pb),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Sr({htmlFontSize:d,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u,...R},g,{clone:!1})}const RK=.2,AK=.14,PK=.12;function Tt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${RK})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${AK})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${PK})`].join(",")}const bK=["none",Tt(0,2,1,-1,0,1,1,0,0,1,3,0),Tt(0,3,1,-2,0,2,2,0,0,1,5,0),Tt(0,3,3,-2,0,3,4,0,0,1,8,0),Tt(0,2,4,-1,0,4,5,0,0,1,10,0),Tt(0,3,5,-1,0,5,8,0,0,1,14,0),Tt(0,3,5,-1,0,6,10,0,0,1,18,0),Tt(0,4,5,-2,0,7,10,1,0,2,16,1),Tt(0,5,5,-3,0,8,10,1,0,3,14,2),Tt(0,5,6,-3,0,9,12,1,0,3,16,2),Tt(0,6,6,-3,0,10,14,1,0,4,18,3),Tt(0,6,7,-4,0,11,15,1,0,4,20,3),Tt(0,7,8,-4,0,12,17,2,0,5,22,4),Tt(0,7,8,-4,0,13,19,2,0,5,24,4),Tt(0,7,9,-4,0,14,21,2,0,5,26,4),Tt(0,8,9,-5,0,15,22,2,0,6,28,5),Tt(0,8,10,-5,0,16,24,2,0,6,30,5),Tt(0,8,11,-5,0,17,26,2,0,6,32,5),Tt(0,9,11,-5,0,18,28,2,0,7,34,6),Tt(0,9,12,-6,0,19,29,2,0,7,36,6),Tt(0,10,13,-6,0,20,31,3,0,8,38,7),Tt(0,10,13,-6,0,21,33,3,0,8,40,7),Tt(0,10,14,-6,0,22,35,3,0,8,42,7),Tt(0,11,14,-7,0,23,36,3,0,9,44,8),Tt(0,11,15,-7,0,24,38,3,0,9,46,8)],CK={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kK={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function gb(n){return`${Math.round(n)}ms`}function xK(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function OK(n){const e={...CK,...n.easing},t={...kK,...n.duration};return{getAutoHeightDuration:xK,create:(i=["all"],s={})=>{const{duration:l=t.standard,easing:u=e.easeInOut,delay:d=0,...h}=s;return(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof l=="string"?l:gb(l)} ${u} ${typeof d=="string"?d:gb(d)}`).join(",")},...n,easing:e,duration:t}}const NK={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function DK(n){return Is(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function aD(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[l,u]=i[s];!DK(u)||l.startsWith("unstable_")?delete r[l]:Is(u)&&(r[l]={...u},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function hE(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:l={},typography:u={},shape:d,...h}=n;if(n.vars)throw new Error(al(20));const m=CI(s),g=tD(n);let _=Sr(g,{mixins:IK(g.breakpoints,r),palette:m,shadows:bK.slice(),typography:SK(m,u),transitions:OK(l),zIndex:{...NK}});return _=Sr(_,h),_=e.reduce((T,I)=>Sr(T,I),_),_.unstable_sxConfig={...Dy,...h==null?void 0:h.unstable_sxConfig},_.unstable_sx=function(I){return ic({sx:I,theme:this})},_.toRuntimeSource=aD,_}function LK(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const VK=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=LK(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function lD(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function uD(n){return n==="dark"?VK:[]}function MK(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,s=CI(e);return{palette:s,opacity:{...lD(s.mode),...t},overlays:r||uD(s.mode),...i}}function FK(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const UK=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],$K=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return UK(n.cssVarPrefix).forEach(u=>{l[u]=t[u],delete t[u]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:s?{[s.replace("%s",e)]:l,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function BK(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function se(n,e,t){!n[e]&&t&&(n[e]=t)}function eh(n){return typeof n!="string"||!n.startsWith("hsl")?n:iD(n)}function vs(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Zd(eh(n[e])))}function zK(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const ki=n=>{try{return n()}catch{}},jK=(n="mui")=>lK(n);function Jv(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=MK({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...l}=hE({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:s,opacity:{...lD(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||uD(i)},l}function WK(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:l=FK,colorSchemeSelector:u=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...h}=n,m=Object.keys(t)[0],g=r||(t.light&&m!=="light"?"light":m),_=jK(s),{[g]:T,light:I,dark:R,...P}=t,V={...P};let L=T;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(al(21,g));const M=Jv(V,L,h,g);I&&!V.light&&Jv(V,I,void 0,"light"),R&&!V.dark&&Jv(V,R,void 0,"dark");let B={defaultColorScheme:g,...M,cssVarPrefix:s,colorSchemeSelector:u,rootSelector:d,getCssVar:_,colorSchemes:V,font:{...EK(M.typography),...M.font},spacing:zK(h.spacing)};Object.keys(B.colorSchemes).forEach(C=>{const E=B.colorSchemes[C].palette,x=k=>{const O=k.split("-"),X=O[1],F=O[2];return _(k,E[X][F])};if(E.mode==="light"&&(se(E.common,"background","#fff"),se(E.common,"onBackground","#000")),E.mode==="dark"&&(se(E.common,"background","#000"),se(E.common,"onBackground","#fff")),BK(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){se(E.Alert,"errorColor",dt(E.error.light,.6)),se(E.Alert,"infoColor",dt(E.info.light,.6)),se(E.Alert,"successColor",dt(E.success.light,.6)),se(E.Alert,"warningColor",dt(E.warning.light,.6)),se(E.Alert,"errorFilledBg",x("palette-error-main")),se(E.Alert,"infoFilledBg",x("palette-info-main")),se(E.Alert,"successFilledBg",x("palette-success-main")),se(E.Alert,"warningFilledBg",x("palette-warning-main")),se(E.Alert,"errorFilledColor",ki(()=>E.getContrastText(E.error.main))),se(E.Alert,"infoFilledColor",ki(()=>E.getContrastText(E.info.main))),se(E.Alert,"successFilledColor",ki(()=>E.getContrastText(E.success.main))),se(E.Alert,"warningFilledColor",ki(()=>E.getContrastText(E.warning.main))),se(E.Alert,"errorStandardBg",ht(E.error.light,.9)),se(E.Alert,"infoStandardBg",ht(E.info.light,.9)),se(E.Alert,"successStandardBg",ht(E.success.light,.9)),se(E.Alert,"warningStandardBg",ht(E.warning.light,.9)),se(E.Alert,"errorIconColor",x("palette-error-main")),se(E.Alert,"infoIconColor",x("palette-info-main")),se(E.Alert,"successIconColor",x("palette-success-main")),se(E.Alert,"warningIconColor",x("palette-warning-main")),se(E.AppBar,"defaultBg",x("palette-grey-100")),se(E.Avatar,"defaultBg",x("palette-grey-400")),se(E.Button,"inheritContainedBg",x("palette-grey-300")),se(E.Button,"inheritContainedHoverBg",x("palette-grey-A100")),se(E.Chip,"defaultBorder",x("palette-grey-400")),se(E.Chip,"defaultAvatarColor",x("palette-grey-700")),se(E.Chip,"defaultIconColor",x("palette-grey-700")),se(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),se(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),se(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),se(E.LinearProgress,"primaryBg",ht(E.primary.main,.62)),se(E.LinearProgress,"secondaryBg",ht(E.secondary.main,.62)),se(E.LinearProgress,"errorBg",ht(E.error.main,.62)),se(E.LinearProgress,"infoBg",ht(E.info.main,.62)),se(E.LinearProgress,"successBg",ht(E.success.main,.62)),se(E.LinearProgress,"warningBg",ht(E.warning.main,.62)),se(E.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.11)`),se(E.Slider,"primaryTrack",ht(E.primary.main,.62)),se(E.Slider,"secondaryTrack",ht(E.secondary.main,.62)),se(E.Slider,"errorTrack",ht(E.error.main,.62)),se(E.Slider,"infoTrack",ht(E.info.main,.62)),se(E.Slider,"successTrack",ht(E.success.main,.62)),se(E.Slider,"warningTrack",ht(E.warning.main,.62));const k=tm(E.background.default,.8);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",ki(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",tm(E.background.paper,.15)),se(E.StepConnector,"border",x("palette-grey-400")),se(E.StepContent,"border",x("palette-grey-400")),se(E.Switch,"defaultColor",x("palette-common-white")),se(E.Switch,"defaultDisabledColor",x("palette-grey-100")),se(E.Switch,"primaryDisabledColor",ht(E.primary.main,.62)),se(E.Switch,"secondaryDisabledColor",ht(E.secondary.main,.62)),se(E.Switch,"errorDisabledColor",ht(E.error.main,.62)),se(E.Switch,"infoDisabledColor",ht(E.info.main,.62)),se(E.Switch,"successDisabledColor",ht(E.success.main,.62)),se(E.Switch,"warningDisabledColor",ht(E.warning.main,.62)),se(E.TableCell,"border",ht(em(E.divider,1),.88)),se(E.Tooltip,"bg",em(E.grey[700],.92))}if(E.mode==="dark"){se(E.Alert,"errorColor",ht(E.error.light,.6)),se(E.Alert,"infoColor",ht(E.info.light,.6)),se(E.Alert,"successColor",ht(E.success.light,.6)),se(E.Alert,"warningColor",ht(E.warning.light,.6)),se(E.Alert,"errorFilledBg",x("palette-error-dark")),se(E.Alert,"infoFilledBg",x("palette-info-dark")),se(E.Alert,"successFilledBg",x("palette-success-dark")),se(E.Alert,"warningFilledBg",x("palette-warning-dark")),se(E.Alert,"errorFilledColor",ki(()=>E.getContrastText(E.error.dark))),se(E.Alert,"infoFilledColor",ki(()=>E.getContrastText(E.info.dark))),se(E.Alert,"successFilledColor",ki(()=>E.getContrastText(E.success.dark))),se(E.Alert,"warningFilledColor",ki(()=>E.getContrastText(E.warning.dark))),se(E.Alert,"errorStandardBg",dt(E.error.light,.9)),se(E.Alert,"infoStandardBg",dt(E.info.light,.9)),se(E.Alert,"successStandardBg",dt(E.success.light,.9)),se(E.Alert,"warningStandardBg",dt(E.warning.light,.9)),se(E.Alert,"errorIconColor",x("palette-error-main")),se(E.Alert,"infoIconColor",x("palette-info-main")),se(E.Alert,"successIconColor",x("palette-success-main")),se(E.Alert,"warningIconColor",x("palette-warning-main")),se(E.AppBar,"defaultBg",x("palette-grey-900")),se(E.AppBar,"darkBg",x("palette-background-paper")),se(E.AppBar,"darkColor",x("palette-text-primary")),se(E.Avatar,"defaultBg",x("palette-grey-600")),se(E.Button,"inheritContainedBg",x("palette-grey-800")),se(E.Button,"inheritContainedHoverBg",x("palette-grey-700")),se(E.Chip,"defaultBorder",x("palette-grey-700")),se(E.Chip,"defaultAvatarColor",x("palette-grey-300")),se(E.Chip,"defaultIconColor",x("palette-grey-300")),se(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),se(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),se(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),se(E.LinearProgress,"primaryBg",dt(E.primary.main,.5)),se(E.LinearProgress,"secondaryBg",dt(E.secondary.main,.5)),se(E.LinearProgress,"errorBg",dt(E.error.main,.5)),se(E.LinearProgress,"infoBg",dt(E.info.main,.5)),se(E.LinearProgress,"successBg",dt(E.success.main,.5)),se(E.LinearProgress,"warningBg",dt(E.warning.main,.5)),se(E.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.13)`),se(E.Slider,"primaryTrack",dt(E.primary.main,.5)),se(E.Slider,"secondaryTrack",dt(E.secondary.main,.5)),se(E.Slider,"errorTrack",dt(E.error.main,.5)),se(E.Slider,"infoTrack",dt(E.info.main,.5)),se(E.Slider,"successTrack",dt(E.success.main,.5)),se(E.Slider,"warningTrack",dt(E.warning.main,.5));const k=tm(E.background.default,.98);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",ki(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",tm(E.background.paper,.15)),se(E.StepConnector,"border",x("palette-grey-600")),se(E.StepContent,"border",x("palette-grey-600")),se(E.Switch,"defaultColor",x("palette-grey-300")),se(E.Switch,"defaultDisabledColor",x("palette-grey-600")),se(E.Switch,"primaryDisabledColor",dt(E.primary.main,.55)),se(E.Switch,"secondaryDisabledColor",dt(E.secondary.main,.55)),se(E.Switch,"errorDisabledColor",dt(E.error.main,.55)),se(E.Switch,"infoDisabledColor",dt(E.info.main,.55)),se(E.Switch,"successDisabledColor",dt(E.success.main,.55)),se(E.Switch,"warningDisabledColor",dt(E.warning.main,.55)),se(E.TableCell,"border",dt(em(E.divider,1),.68)),se(E.Tooltip,"bg",em(E.grey[700],.92))}vs(E.background,"default"),vs(E.background,"paper"),vs(E.common,"background"),vs(E.common,"onBackground"),vs(E,"divider"),Object.keys(E).forEach(k=>{const O=E[k];k!=="tonalOffset"&&O&&typeof O=="object"&&(O.main&&se(E[k],"mainChannel",Zd(eh(O.main))),O.light&&se(E[k],"lightChannel",Zd(eh(O.light))),O.dark&&se(E[k],"darkChannel",Zd(eh(O.dark))),O.contrastText&&se(E[k],"contrastTextChannel",Zd(eh(O.contrastText))),k==="text"&&(vs(E[k],"primary"),vs(E[k],"secondary")),k==="action"&&(O.active&&vs(E[k],"active"),O.selected&&vs(E[k],"selected")))})}),B=e.reduce((C,E)=>Sr(C,E),B);const $={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:$K(B)},{vars:j,generateThemeVars:D,generateStyleSheets:A}=dK(B,$);return B.vars=j,Object.entries(B.colorSchemes[B.defaultColorScheme]).forEach(([C,E])=>{B[C]=E}),B.generateThemeVars=D,B.generateStyleSheets=A,B.generateSpacing=function(){return eD(h.spacing,EI(this))},B.getColorSchemeSelector=hK(u),B.spacing=B.generateSpacing(),B.shouldSkipGeneratingVar=l,B.unstable_sxConfig={...Dy,...h==null?void 0:h.unstable_sxConfig},B.unstable_sx=function(E){return ic({sx:E,theme:this})},B.toRuntimeSource=aD,B}function yb(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:CI({...t===!0?{}:t.palette,mode:e})})}function qK(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...l}=n,u=s||"light",d=i==null?void 0:i[u],h={...i,...t?{[u]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return hE(n,...e);let m=t;"palette"in n||h[u]&&(h[u]!==!0?m=h[u].palette:u==="dark"&&(m={mode:"dark"}));const g=hE({...n,palette:m},...e);return g.defaultColorScheme=u,g.colorSchemes=h,g.palette.mode==="light"&&(g.colorSchemes.light={...h.light!==!0&&h.light,palette:g.palette},yb(g,"dark",h.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:g.palette},yb(g,"light",h.light)),g}return!t&&!("light"in h)&&u==="light"&&(h.light=!0),WK({...l,colorSchemes:h,defaultColorScheme:u,...typeof r!="boolean"&&r},...e)}const HK=qK(),KK="$$material";function cD(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const GK=n=>cD(n)&&n!=="classes",Pf=G8({themeId:KK,defaultTheme:HK,rootShouldForwardProp:GK}),kI=aK;function dD(n){return oK(n)}function QK(n){return _I("MuiSvgIcon",n)}$N("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const YK=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Wo(e)}`,`fontSize${Wo(t)}`]};return VN(i,QK,r)},JK=Pf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Wo(t.color)}`],e[`fontSize${Wo(t.fontSize)}`]]}})(kI(({theme:n})=>{var e,t,r,i,s,l,u,d,h,m,g,_,T,I;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:R=>!R.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:l.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(u=n.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:m.call(h,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,R])=>R&&R.main).map(([R])=>{var P,V;return{props:{color:R},style:{color:(V=(P=(n.vars??n).palette)==null?void 0:P[R])==null?void 0:V.main}}}),{props:{color:"action"},style:{color:(_=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:_.active}},{props:{color:"disabled"},style:{color:(I=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:I.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),fE=H.forwardRef(function(e,t){const r=dD({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:m=!1,titleAccess:g,viewBox:_="0 0 24 24",...T}=r,I=H.isValidElement(i)&&i.type==="svg",R={...r,color:l,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:_,hasSvgAsChild:I},P={};m||(P.viewBox=_);const V=YK(R);return ke(JK,{as:u,className:ph(V.root,s),focusable:"false",color:h,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...P,...T,...I&&i.props,ownerState:R,children:[I?i.props.children:i,g?K("title",{children:g}):null]})});fE.muiName="SvgIcon";function hD(n,e){function t(r,i){return K(fE,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=fE.muiName,H.memo(H.forwardRef(t))}const XK=hD(K("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),ZK=hD(K("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function eG(n){return _I("MuiRating",n)}const Ld=$N("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function tG(n){const e=n.toString().split(".")[1];return e?e.length:0}function Xv(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(tG(e)))}const nG=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:l}=n,u={root:["root",`size${Wo(t)}`,i&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return VN(u,eG,e)},rG=Pf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Ld.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Wo(t.size)}`],t.readOnly&&e.readOnly]}})(kI(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Ld.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Ld.focusVisible} .${Ld.iconActive}`]:{outline:"1px solid #999"},[`& .${Ld.visuallyHidden}`]:Uq,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),fD=Pf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),iG=Pf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(kI(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),sG=Pf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>cD(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function oG(n){const{value:e,...t}=n;return K("span",{...t})}function _b(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:l,hover:u,icon:d,IconContainerComponent:h,isActive:m,itemValue:g,labelProps:_,name:T,onBlur:I,onChange:R,onClick:P,onFocus:V,readOnly:L,ownerState:M,ratingValue:B,ratingValueRounded:$}=n,j=l?g===B:g<=B,D=g<=u,A=g<=i,C=g===$,E=`${T}-${UN()}`,x=K(iG,{as:h,value:g,className:ph(e.icon,j?e.iconFilled:e.iconEmpty,D&&e.iconHover,A&&e.iconFocus,m&&e.iconActive),ownerState:{...M,iconEmpty:!j,iconFilled:j,iconHover:D,iconFocus:A,iconActive:m},children:r&&!j?r:d});return L?K("span",{..._,children:x}):ke(H.Fragment,{children:[ke(fD,{ownerState:{...M,emptyValueFocused:void 0},htmlFor:E,..._,children:[x,K("span",{className:e.visuallyHidden,children:s(g)})]}),K("input",{className:e.visuallyHidden,onFocus:V,onBlur:I,onChange:R,onClick:P,disabled:t,value:g,id:E,type:"radio",name:T,checked:C})]})}const aG=K(XK,{fontSize:"inherit"}),lG=K(ZK,{fontSize:"inherit"});function uG(n){return`${n||"0"} Star${n!==1?"s":""}`}const cG=H.forwardRef(function(e,t){const r=dD({name:"MuiRating",props:e}),{component:i="span",className:s,defaultValue:l=null,disabled:u=!1,emptyIcon:d=lG,emptyLabelText:h="Empty",getLabelText:m=uG,highlightSelectedOnly:g=!1,icon:_=aG,IconContainerComponent:T=oG,max:I=5,name:R,onChange:P,onChangeActive:V,onMouseLeave:L,onMouseMove:M,precision:B=1,readOnly:$=!1,size:j="medium",value:D,...A}=r,C=UN(R),[E,x]=Kq({controlled:D,default:l,name:"Rating"}),k=Xv(E,B),O=Bq(),[{hover:X,focus:F},me]=H.useState({hover:-1,focus:-1});let oe=k;X!==-1&&(oe=X),F!==-1&&(oe=F);const[Z,pe]=H.useState(!1),he=H.useRef(),W=Gq(he,t),ie=st=>{M&&M(st);const gt=he.current,{right:tn,left:Kr,width:br}=gt.getBoundingClientRect();let Cr;O?Cr=(tn-st.clientX)/br:Cr=(st.clientX-Kr)/br;let Hn=Xv(I*Cr+B/2,B);Hn=LN(Hn,B,I),me(Kn=>Kn.hover===Hn&&Kn.focus===Hn?Kn:{hover:Hn,focus:Hn}),pe(!1),V&&X!==Hn&&V(st,Hn)},Te=st=>{L&&L(st);const gt=-1;me({hover:gt,focus:gt}),V&&X!==gt&&V(st,gt)},xe=st=>{let gt=st.target.value===""?null:parseFloat(st.target.value);X!==-1&&(gt=X),x(gt),P&&P(st,gt)},Me=st=>{st.clientX===0&&st.clientY===0||(me({hover:-1,focus:-1}),x(null),P&&parseFloat(st.target.value)===k&&P(st,null))},Be=st=>{HP(st.target)&&pe(!0);const gt=parseFloat(st.target.value);me(tn=>({hover:tn.hover,focus:gt}))},Ye=st=>{if(X!==-1)return;HP(st.target)||pe(!1);const gt=-1;me(tn=>({hover:tn.hover,focus:gt}))},[He,it]=H.useState(!1),wt={...r,component:i,defaultValue:l,disabled:u,emptyIcon:d,emptyLabelText:h,emptyValueFocused:He,focusVisible:Z,getLabelText:m,icon:_,IconContainerComponent:T,max:I,precision:B,readOnly:$,size:j},cn=nG(wt);return ke(rG,{as:i,ref:W,onMouseMove:ie,onMouseLeave:Te,className:ph(cn.root,s,$&&"MuiRating-readOnly"),ownerState:wt,role:$?"img":null,"aria-label":$?m(oe):null,...A,children:[Array.from(new Array(I)).map((st,gt)=>{const tn=gt+1,Kr={classes:cn,disabled:u,emptyIcon:d,focus:F,getLabelText:m,highlightSelectedOnly:g,hover:X,icon:_,IconContainerComponent:T,name:C,onBlur:Ye,onChange:xe,onClick:Me,onFocus:Be,ratingValue:oe,ratingValueRounded:k,readOnly:$,ownerState:wt},br=tn===Math.ceil(oe)&&(X!==-1||F!==-1);if(B<1){const Cr=Array.from(new Array(1/B));return K(sG,{className:ph(cn.decimal,br&&cn.iconActive),ownerState:wt,iconActive:br,children:Cr.map((Hn,Kn)=>{const lr=Xv(tn-1+(Kn+1)*B,B);return K(_b,{...Kr,isActive:!1,itemValue:lr,labelProps:{style:Cr.length-1===Kn?{}:{width:lr===oe?`${(Kn+1)*B*100}%`:"0%",overflow:"hidden",position:"absolute"}}},lr)})},tn)}return K(_b,{...Kr,isActive:br,itemValue:tn},tn)}),!$&&!u&&ke(fD,{className:ph(cn.label,cn.labelEmptyValue),ownerState:wt,children:[K("input",{className:cn.visuallyHidden,value:"",id:`${C}-empty`,type:"radio",name:C,checked:k==null,onFocus:()=>it(!0),onBlur:()=>it(!1),onChange:xe}),K("span",{className:cn.visuallyHidden,children:h})]})]})});var Lm={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var dG=Lm.exports,vb;function hG(){return vb||(vb=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(dG,function(){var e,t,r="2.0.6",i={},s={},l={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:l.currentLocale,zeroFormat:l.zeroFormat,nullFormat:l.nullFormat,defaultFormat:l.defaultFormat,scalePercentBy100:l.scalePercentBy100};function d(h,m){this._input=h,this._value=m}return e=function(h){var m,g,_,T;if(e.isNumeral(h))m=h.value();else if(h===0||typeof h>"u")m=0;else if(h===null||t.isNaN(h))m=null;else if(typeof h=="string")if(u.zeroFormat&&h===u.zeroFormat)m=0;else if(u.nullFormat&&h===u.nullFormat||!h.replace(/[^0-9]+/g,"").length)m=null;else{for(g in i)if(T=typeof i[g].regexps.unformat=="function"?i[g].regexps.unformat():i[g].regexps.unformat,T&&h.match(T)){_=i[g].unformat;break}_=_||e._.stringToNumber,m=_(h)}else m=Number(h)||null;return new d(h,m)},e.version=r,e.isNumeral=function(h){return h instanceof d},e._=t={numberToFormat:function(h,m,g){var _=s[e.options.currentLocale],T=!1,I=!1,R=0,P="",V=1e12,L=1e9,M=1e6,B=1e3,$="",j=!1,D,A,C,E,x,k,O;if(h=h||0,A=Math.abs(h),e._.includes(m,"(")?(T=!0,m=m.replace(/[\(|\)]/g,"")):(e._.includes(m,"+")||e._.includes(m,"-"))&&(x=e._.includes(m,"+")?m.indexOf("+"):h<0?m.indexOf("-"):-1,m=m.replace(/[\+|\-]/g,"")),e._.includes(m,"a")&&(D=m.match(/a(k|m|b|t)?/),D=D?D[1]:!1,e._.includes(m," a")&&(P=" "),m=m.replace(new RegExp(P+"a[kmbt]?"),""),A>=V&&!D||D==="t"?(P+=_.abbreviations.trillion,h=h/V):A<V&&A>=L&&!D||D==="b"?(P+=_.abbreviations.billion,h=h/L):A<L&&A>=M&&!D||D==="m"?(P+=_.abbreviations.million,h=h/M):(A<M&&A>=B&&!D||D==="k")&&(P+=_.abbreviations.thousand,h=h/B)),e._.includes(m,"[.]")&&(I=!0,m=m.replace("[.]",".")),C=h.toString().split(".")[0],E=m.split(".")[1],k=m.indexOf(","),R=(m.split(".")[0].split(",")[0].match(/0/g)||[]).length,E?(e._.includes(E,"[")?(E=E.replace("]",""),E=E.split("["),$=e._.toFixed(h,E[0].length+E[1].length,g,E[1].length)):$=e._.toFixed(h,E.length,g),C=$.split(".")[0],e._.includes($,".")?$=_.delimiters.decimal+$.split(".")[1]:$="",I&&Number($.slice(1))===0&&($="")):C=e._.toFixed(h,0,g),P&&!D&&Number(C)>=1e3&&P!==_.abbreviations.trillion)switch(C=String(Number(C)/1e3),P){case _.abbreviations.thousand:P=_.abbreviations.million;break;case _.abbreviations.million:P=_.abbreviations.billion;break;case _.abbreviations.billion:P=_.abbreviations.trillion;break}if(e._.includes(C,"-")&&(C=C.slice(1),j=!0),C.length<R)for(var X=R-C.length;X>0;X--)C="0"+C;return k>-1&&(C=C.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+_.delimiters.thousands)),m.indexOf(".")===0&&(C=""),O=C+$+(P||""),T?O=(T&&j?"(":"")+O+(T&&j?")":""):x>=0?O=x===0?(j?"-":"+")+O:O+(j?"-":"+"):j&&(O="-"+O),O},stringToNumber:function(h){var m=s[u.currentLocale],g=h,_={thousand:3,million:6,billion:9,trillion:12},T,I,R;if(u.zeroFormat&&h===u.zeroFormat)I=0;else if(u.nullFormat&&h===u.nullFormat||!h.replace(/[^0-9]+/g,"").length)I=null;else{I=1,m.delimiters.decimal!=="."&&(h=h.replace(/\./g,"").replace(m.delimiters.decimal,"."));for(T in _)if(R=new RegExp("[^a-zA-Z]"+m.abbreviations[T]+"(?:\\)|(\\"+m.currency.symbol+")?(?:\\))?)?$"),g.match(R)){I*=Math.pow(10,_[T]);break}I*=(h.split("-").length+Math.min(h.split("(").length-1,h.split(")").length-1))%2?1:-1,h=h.replace(/[^0-9\.]+/g,""),I*=Number(h)}return I},isNaN:function(h){return typeof h=="number"&&isNaN(h)},includes:function(h,m){return h.indexOf(m)!==-1},insert:function(h,m,g){return h.slice(0,g)+m+h.slice(g)},reduce:function(h,m){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof m!="function")throw new TypeError(m+" is not a function");var g=Object(h),_=g.length>>>0,T=0,I;if(arguments.length===3)I=arguments[2];else{for(;T<_&&!(T in g);)T++;if(T>=_)throw new TypeError("Reduce of empty array with no initial value");I=g[T++]}for(;T<_;T++)T in g&&(I=m(I,g[T],T,g));return I},multiplier:function(h){var m=h.toString().split(".");return m.length<2?1:Math.pow(10,m[1].length)},correctionFactor:function(){var h=Array.prototype.slice.call(arguments);return h.reduce(function(m,g){var _=t.multiplier(g);return m>_?m:_},1)},toFixed:function(h,m,g,_){var T=h.toString().split("."),I=m-(_||0),R,P,V,L;return T.length===2?R=Math.min(Math.max(T[1].length,I),m):R=I,V=Math.pow(10,R),L=(g(h+"e+"+R)/V).toFixed(R),_>m-R&&(P=new RegExp("\\.?0{1,"+(_-(m-R))+"}$"),L=L.replace(P,"")),L}},e.options=u,e.formats=i,e.locales=s,e.locale=function(h){return h&&(u.currentLocale=h.toLowerCase()),u.currentLocale},e.localeData=function(h){if(!h)return s[u.currentLocale];if(h=h.toLowerCase(),!s[h])throw new Error("Unknown locale : "+h);return s[h]},e.reset=function(){for(var h in l)u[h]=l[h]},e.zeroFormat=function(h){u.zeroFormat=typeof h=="string"?h:null},e.nullFormat=function(h){u.nullFormat=typeof h=="string"?h:null},e.defaultFormat=function(h){u.defaultFormat=typeof h=="string"?h:"0.0"},e.register=function(h,m,g){if(m=m.toLowerCase(),this[h+"s"][m])throw new TypeError(m+" "+h+" already registered.");return this[h+"s"][m]=g,g},e.validate=function(h,m){var g,_,T,I,R,P,V,L;if(typeof h!="string"&&(h+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",h)),h=h.trim(),h.match(/^\d+$/))return!0;if(h==="")return!1;try{V=e.localeData(m)}catch{V=e.localeData(e.locale())}return T=V.currency.symbol,R=V.abbreviations,g=V.delimiters.decimal,V.delimiters.thousands==="."?_="\\.":_=V.delimiters.thousands,L=h.match(/^[^\d]+/),L!==null&&(h=h.substr(1),L[0]!==T)||(L=h.match(/[^\d]+$/),L!==null&&(h=h.slice(0,-1),L[0]!==R.thousand&&L[0]!==R.million&&L[0]!==R.billion&&L[0]!==R.trillion))?!1:(P=new RegExp(_+"{2}"),h.match(/[^\d.,]/g)?!1:(I=h.split(g),I.length>2?!1:I.length<2?!!I[0].match(/^\d+.*\d$/)&&!I[0].match(P):I[0].length===1?!!I[0].match(/^\d+$/)&&!I[0].match(P)&&!!I[1].match(/^\d+$/):!!I[0].match(/^\d+.*\d$/)&&!I[0].match(P)&&!!I[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(h,m){var g=this._value,_=h||u.defaultFormat,T,I,R;if(m=m||Math.round,g===0&&u.zeroFormat!==null)I=u.zeroFormat;else if(g===null&&u.nullFormat!==null)I=u.nullFormat;else{for(T in i)if(_.match(i[T].regexps.format)){R=i[T].format;break}R=R||e._.numberToFormat,I=R(g,_,m)}return I},value:function(){return this._value},input:function(){return this._input},set:function(h){return this._value=Number(h),this},add:function(h){var m=t.correctionFactor.call(null,this._value,h);function g(_,T,I,R){return _+Math.round(m*T)}return this._value=t.reduce([this._value,h],g,0)/m,this},subtract:function(h){var m=t.correctionFactor.call(null,this._value,h);function g(_,T,I,R){return _-Math.round(m*T)}return this._value=t.reduce([h],g,Math.round(this._value*m))/m,this},multiply:function(h){function m(g,_,T,I){var R=t.correctionFactor(g,_);return Math.round(g*R)*Math.round(_*R)/Math.round(R*R)}return this._value=t.reduce([this._value,h],m,1),this},divide:function(h){function m(g,_,T,I){var R=t.correctionFactor(g,_);return Math.round(g*R)/Math.round(_*R)}return this._value=t.reduce([this._value,h],m),this},difference:function(h){return Math.abs(e(this._value).subtract(h).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(h){var m=h%10;return~~(h%100/10)===1?"th":m===1?"st":m===2?"nd":m===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(h,m,g){var _=e._.includes(m," BPS")?" ":"",T;return h=h*1e4,m=m.replace(/\s?BPS/,""),T=e._.numberToFormat(h,m,g),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,_+"BPS"),T=T.join("")):T=T+_+"BPS",T},unformat:function(h){return+(e._.stringToNumber(h)*1e-4).toFixed(15)}})}(),function(){var h={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},m={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},g=h.suffixes.concat(m.suffixes.filter(function(T){return h.suffixes.indexOf(T)<0})),_=g.join("|");_="("+_.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(_)},format:function(T,I,R){var P,V=e._.includes(I,"ib")?m:h,L=e._.includes(I," b")||e._.includes(I," ib")?" ":"",M,B,$;for(I=I.replace(/\s?i?b/,""),M=0;M<=V.suffixes.length;M++)if(B=Math.pow(V.base,M),$=Math.pow(V.base,M+1),T===null||T===0||T>=B&&T<$){L+=V.suffixes[M],B>0&&(T=T/B);break}return P=e._.numberToFormat(T,I,R),P+L},unformat:function(T){var I=e._.stringToNumber(T),R,P;if(I){for(R=h.suffixes.length-1;R>=0;R--){if(e._.includes(T,h.suffixes[R])){P=Math.pow(h.base,R);break}if(e._.includes(T,m.suffixes[R])){P=Math.pow(m.base,R);break}}I*=P||1}return I}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(h,m,g){var _=e.locales[e.options.currentLocale],T={before:m.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:m.match(/([\+|\-|\)|\s|\$]*)$/)[0]},I,R,P;for(m=m.replace(/\s?\$\s?/,""),I=e._.numberToFormat(h,m,g),h>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):h<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),P=0;P<T.before.length;P++)switch(R=T.before[P],R){case"$":I=e._.insert(I,_.currency.symbol,P);break;case" ":I=e._.insert(I," ",P+_.currency.symbol.length-1);break}for(P=T.after.length-1;P>=0;P--)switch(R=T.after[P],R){case"$":I=P===T.after.length-1?I+_.currency.symbol:e._.insert(I,_.currency.symbol,-(T.after.length-(1+P)));break;case" ":I=P===T.after.length-1?I+" ":e._.insert(I," ",-(T.after.length-(1+P)+_.currency.symbol.length-1));break}return I}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(h,m,g){var _,T=typeof h=="number"&&!e._.isNaN(h)?h.toExponential():"0e+0",I=T.split("e");return m=m.replace(/e[\+|\-]{1}0/,""),_=e._.numberToFormat(Number(I[0]),m,g),_+"e"+I[1]},unformat:function(h){var m=e._.includes(h,"e+")?h.split("e+"):h.split("e-"),g=Number(m[0]),_=Number(m[1]);_=e._.includes(h,"e-")?_*=-1:_;function T(I,R,P,V){var L=e._.correctionFactor(I,R),M=I*L*(R*L)/(L*L);return M}return e._.reduce([g,Math.pow(10,_)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(h,m,g){var _=e.locales[e.options.currentLocale],T,I=e._.includes(m," o")?" ":"";return m=m.replace(/\s?o/,""),I+=_.ordinal(h),T=e._.numberToFormat(h,m,g),T+I}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(h,m,g){var _=e._.includes(m," %")?" ":"",T;return e.options.scalePercentBy100&&(h=h*100),m=m.replace(/\s?\%/,""),T=e._.numberToFormat(h,m,g),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,_+"%"),T=T.join("")):T=T+_+"%",T},unformat:function(h){var m=e._.stringToNumber(h);return e.options.scalePercentBy100?m*.01:m}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(h,m,g){var _=Math.floor(h/60/60),T=Math.floor((h-_*60*60)/60),I=Math.round(h-_*60*60-T*60);return _+":"+(T<10?"0"+T:T)+":"+(I<10?"0"+I:I)},unformat:function(h){var m=h.split(":"),g=0;return m.length===3?(g=g+Number(m[0])*60*60,g=g+Number(m[1])*60,g=g+Number(m[2])):m.length===2&&(g=g+Number(m[0])*60,g=g+Number(m[1])),Number(g)}})}(),e})}(Lm)),Lm.exports}var fG=hG();const pG=yE(fG),xI=({amount:n})=>{const e=pG(n).format("$0,0.00");return K("div",{children:e})},mG="_card_container_n6d0l_1",gG="_button_n6d0l_17",yG="_rating_n6d0l_73",_G="_product_container_n6d0l_83",vG="_product_flexed_n6d0l_111",Su={card_container:mG,button:gG,rating:yG,product_container:_G,product_flexed:vG},zr={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function Pc({product:n,flex:e,renderDesc:t,renderAdd:r}){const{image:i,title:s,id:l,rating:u,price:d,description:h}=n,[m,g]=H.useContext(Ws),_=()=>{g({type:zr.ADD_TO_BASKET,item:{image:i,title:s,id:l,rating:u,price:d,description:h}})};return ke("div",{className:`${Su.card_container} ${e?Su.product_flexed:""}`,children:[K(di,{to:`/products/${l}`,children:K("img",{src:i,alt:s,className:Su.img_container})}),ke("div",{children:[K("h3",{children:s}),t&&K("div",{style:{maxWidth:"600px"},children:h}),ke("div",{className:Su.rating,children:[K(cG,{value:u==null?void 0:u.rate,precision:.1}),ke("small",{children:[u==null?void 0:u.count," reviews"]})]}),K("div",{children:K(xI,{amount:d})}),r&&K("button",{className:Su.button,onClick:_,children:"Add to Cart"})]})]})}var wG={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function pD(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return wG[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Ru(n){var e=pD(n);return"".concat(e.value).concat(e.unit)}var mD=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,l=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(l,0),r},Sg=function(){return Sg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Sg.apply(this,arguments)},EG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},IG=mD("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function pE(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,h=n.size,m=h===void 0?35:h,g=EG(n,["loading","color","speedMultiplier","cssOverride","size"]),_=Sg({background:"transparent !important",width:Ru(m),height:Ru(m),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(IG," ").concat(.75/l,"s 0s infinite linear"),animationFillMode:"both"},d);return t?H.createElement("span",Sg({style:_},g)):null}var Qt=function(){return Qt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Qt.apply(this,arguments)},TG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},SG=mD("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function RG(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,h=n.height,m=h===void 0?15:h,g=n.width,_=g===void 0?5:g,T=n.radius,I=T===void 0?2:T,R=n.margin,P=R===void 0?2:R,V=TG(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),L=pD(P).value,M=L+18,B=M/2+M/5.5,$=Qt({display:"inherit",position:"relative",fontSize:"0",top:M,left:M,width:"".concat(M*3,"px"),height:"".concat(M*3,"px")},d),j=function(F){return{position:"absolute",width:Ru(_),height:Ru(m),margin:Ru(P),backgroundColor:i,borderRadius:Ru(I),transition:"2s",animationFillMode:"both",animation:"".concat(SG," ").concat(1.2/l,"s ").concat(F*.12,"s infinite ease-in-out")}},D=Qt(Qt({},j(1)),{top:"".concat(M,"px"),left:"0"}),A=Qt(Qt({},j(2)),{top:"".concat(B,"px"),left:"".concat(B,"px"),transform:"rotate(-45deg)"}),C=Qt(Qt({},j(3)),{top:"0",left:"".concat(M,"px"),transform:"rotate(90deg)"}),E=Qt(Qt({},j(4)),{top:"".concat(-1*B,"px"),left:"".concat(B,"px"),transform:"rotate(45deg)"}),x=Qt(Qt({},j(5)),{top:"".concat(-1*M,"px"),left:"0"}),k=Qt(Qt({},j(6)),{top:"".concat(-1*B,"px"),left:"".concat(-1*B,"px"),transform:"rotate(-45deg)"}),O=Qt(Qt({},j(7)),{top:"0",left:"".concat(-1*M,"px"),transform:"rotate(90deg)"}),X=Qt(Qt({},j(8)),{top:"".concat(B,"px"),left:"".concat(-1*B,"px"),transform:"rotate(45deg)"});return t?H.createElement("span",Qt({style:$},V),H.createElement("span",{style:D}),H.createElement("span",{style:A}),H.createElement("span",{style:C}),H.createElement("span",{style:E}),H.createElement("span",{style:x}),H.createElement("span",{style:k}),H.createElement("span",{style:O}),H.createElement("span",{style:X})):null}function OI(){return K("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:K(RG,{color:"#36d7b7"})})}function AG(){const[n,e]=H.useState([]),[t,r]=H.useState(!1);return H.useEffect(()=>{bt.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),K(Um,{children:t?K(OI,{}):K("section",{className:Su.product_container,children:n==null?void 0:n.map(i=>K(Pc,{renderAdd:!0,product:i},i.id))})})}var Zv={},Vd={},nm={},rm={},wb;function PG(){return wb||(wb=1,function(n){(function(e,t){t(n,Ho(),NN())})(rm,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=I;var i=l(t),s=l(r);function l(L){return L&&L.__esModule?L:{default:L}}var u=Object.assign||function(L){for(var M=1;M<arguments.length;M++){var B=arguments[M];for(var $ in B)Object.prototype.hasOwnProperty.call(B,$)&&(L[$]=B[$])}return L};function d(L,M){var B={};for(var $ in L)M.indexOf($)>=0||Object.prototype.hasOwnProperty.call(L,$)&&(B[$]=L[$]);return B}function h(L,M){if(!(L instanceof M))throw new TypeError("Cannot call a class as a function")}var m=function(){function L(M,B){for(var $=0;$<B.length;$++){var j=B[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(M,j.key,j)}}return function(M,B,$){return B&&L(M.prototype,B),$&&L(M,$),M}}();function g(L,M){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:L}function _(L,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);L.prototype=Object.create(M&&M.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(L,M):L.__proto__=M)}var T=!1;function I(L){T=L}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){I(!0)}}))}catch{}function R(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?L:L.capture}function P(L){if("touches"in L){var M=L.touches[0],B=M.pageX,$=M.pageY;return{x:B,y:$}}var j=L.screenX,D=L.screenY;return{x:j,y:D}}var V=function(L){_(M,L);function M(){var B;h(this,M);for(var $=arguments.length,j=Array($),D=0;D<$;D++)j[D]=arguments[D];var A=g(this,(B=M.__proto__||Object.getPrototypeOf(M)).call.apply(B,[this].concat(j)));return A._handleSwipeStart=A._handleSwipeStart.bind(A),A._handleSwipeMove=A._handleSwipeMove.bind(A),A._handleSwipeEnd=A._handleSwipeEnd.bind(A),A._onMouseDown=A._onMouseDown.bind(A),A._onMouseMove=A._onMouseMove.bind(A),A._onMouseUp=A._onMouseUp.bind(A),A._setSwiperRef=A._setSwiperRef.bind(A),A}return m(M,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function($){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart($))}},{key:"_onMouseMove",value:function($){this.mouseDown&&this._handleSwipeMove($)}},{key:"_onMouseUp",value:function($){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd($)}},{key:"_handleSwipeStart",value:function($){var j=P($),D=j.x,A=j.y;this.moveStart={x:D,y:A},this.props.onSwipeStart($)}},{key:"_handleSwipeMove",value:function($){if(this.moveStart){var j=P($),D=j.x,A=j.y,C=D-this.moveStart.x,E=A-this.moveStart.y;this.moving=!0;var x=this.props.onSwipeMove({x:C,y:E},$);x&&$.cancelable&&$.preventDefault(),this.movePosition={deltaX:C,deltaY:E}}}},{key:"_handleSwipeEnd",value:function($){this.props.onSwipeEnd($);var j=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-j?this.props.onSwipeLeft(1,$):this.movePosition.deltaX>j&&this.props.onSwipeRight(1,$),this.movePosition.deltaY<-j?this.props.onSwipeUp(1,$):this.movePosition.deltaY>j&&this.props.onSwipeDown(1,$)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function($){this.swiper=$,this.props.innerRef($)}},{key:"render",value:function(){var $=this.props;$.tagName;var j=$.className,D=$.style,A=$.children;$.allowMouseEvents,$.onSwipeUp,$.onSwipeDown,$.onSwipeLeft,$.onSwipeRight,$.onSwipeStart,$.onSwipeMove,$.onSwipeEnd,$.innerRef,$.tolerance;var C=d($,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,u({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:j,style:D},C),A)}}]),M}(t.Component);V.displayName="ReactSwipe",V.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},V.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=V})}(rm)),rm}var Eb;function gD(){return Eb||(Eb=1,function(n){(function(e,t){t(n,PG())})(nm,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})}(nm)),nm}var Md={},ew={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Ib;function bG(){return Ib||(Ib=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(s=i(s,r(u)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var u in s)e.call(s,u)&&s[u]&&(l=i(l,u));return l}function i(s,l){return l?s?s+" "+l:s+l:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(ew)),ew.exports}var Tb;function yD(){if(Tb)return Md;Tb=1,Object.defineProperty(Md,"__esModule",{value:!0}),Md.default=void 0;var n=e(bG());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,s,l){return s in i?Object.defineProperty(i,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[s]=l,i}var r={ROOT:function(s){return(0,n.default)(t({"carousel-root":!0},s||"",!!s))},CAROUSEL:function(s){return(0,n.default)({carousel:!0,"carousel-slider":s})},WRAPPER:function(s,l){return(0,n.default)({"thumbs-wrapper":!s,"slider-wrapper":s,"axis-horizontal":l==="horizontal","axis-vertical":l!=="horizontal"})},SLIDER:function(s,l){return(0,n.default)({thumbs:!s,slider:s,animated:!l})},ITEM:function(s,l,u){return(0,n.default)({thumb:!s,slide:s,selected:l,previous:u})},ARROW_PREV:function(s){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":s})},ARROW_NEXT:function(s){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":s})},DOT:function(s){return(0,n.default)({dot:!0,selected:s})}};return Md.default=r,Md}var Fd={},Ud={},Sb;function CG(){if(Sb)return Ud;Sb=1,Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return Ud.outerWidth=n,Ud}var $d={},Rb;function NI(){if(Rb)return $d;Rb=1,Object.defineProperty($d,"__esModule",{value:!0}),$d.default=void 0;var n=function(t,r,i){var s=t===0?t:t+r,l=i==="horizontal"?[s,0,0]:[0,s,0],u="translate3d",d="("+l.join(",")+")";return u+d};return $d.default=n,$d}var Bd={},Ab;function _D(){if(Ab)return Bd;Ab=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.default=void 0;var n=function(){return window};return Bd.default=n,Bd}var Pb;function vD(){if(Pb)return Fd;Pb=1,Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.default=void 0;var n=d(Ho()),e=l(yD()),t=CG(),r=l(NI()),i=l(gD()),s=l(_D());function l(A){return A&&A.__esModule?A:{default:A}}function u(){if(typeof WeakMap!="function")return null;var A=new WeakMap;return u=function(){return A},A}function d(A){if(A&&A.__esModule)return A;if(A===null||h(A)!=="object"&&typeof A!="function")return{default:A};var C=u();if(C&&C.has(A))return C.get(A);var E={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in A)if(Object.prototype.hasOwnProperty.call(A,k)){var O=x?Object.getOwnPropertyDescriptor(A,k):null;O&&(O.get||O.set)?Object.defineProperty(E,k,O):E[k]=A[k]}return E.default=A,C&&C.set(A,E),E}function h(A){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(E){return typeof E}:h=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},h(A)}function m(){return m=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var E=arguments[C];for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&(A[x]=E[x])}return A},m.apply(this,arguments)}function g(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function _(A,C){for(var E=0;E<C.length;E++){var x=C[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function T(A,C,E){return C&&_(A.prototype,C),A}function I(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),C&&R(A,C)}function R(A,C){return R=Object.setPrototypeOf||function(x,k){return x.__proto__=k,x},R(A,C)}function P(A){var C=M();return function(){var x=B(A),k;if(C){var O=B(this).constructor;k=Reflect.construct(x,arguments,O)}else k=x.apply(this,arguments);return V(this,k)}}function V(A,C){return C&&(h(C)==="object"||typeof C=="function")?C:L(A)}function L(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function B(A){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},B(A)}function $(A,C,E){return C in A?Object.defineProperty(A,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):A[C]=E,A}var j=function(C){return C.hasOwnProperty("key")},D=function(A){I(E,A);var C=P(E);function E(x){var k;return g(this,E),k=C.call(this,x),$(L(k),"itemsWrapperRef",void 0),$(L(k),"itemsListRef",void 0),$(L(k),"thumbsRef",void 0),$(L(k),"setItemsWrapperRef",function(O){k.itemsWrapperRef=O}),$(L(k),"setItemsListRef",function(O){k.itemsListRef=O}),$(L(k),"setThumbsRef",function(O,X){k.thumbsRef||(k.thumbsRef=[]),k.thumbsRef[X]=O}),$(L(k),"updateSizes",function(){if(!(!k.props.children||!k.itemsWrapperRef||!k.thumbsRef)){var O=n.Children.count(k.props.children),X=k.itemsWrapperRef.clientWidth,F=k.props.thumbWidth?k.props.thumbWidth:(0,t.outerWidth)(k.thumbsRef[0]),me=Math.floor(X/F),oe=me<O,Z=oe?O-me:0;k.setState(function(pe,he){return{itemSize:F,visibleItems:me,firstItem:oe?k.getFirstItem(he.selectedItem):0,lastPosition:Z,showArrows:oe}})}}),$(L(k),"handleClickItem",function(O,X,F){if(!j(F)||F.key==="Enter"){var me=k.props.onSelectItem;typeof me=="function"&&me(O,X)}}),$(L(k),"onSwipeStart",function(){k.setState({swiping:!0})}),$(L(k),"onSwipeEnd",function(){k.setState({swiping:!1})}),$(L(k),"onSwipeMove",function(O){var X=O.x;if(!k.state.itemSize||!k.itemsWrapperRef||!k.state.visibleItems)return!1;var F=0,me=n.Children.count(k.props.children),oe=-(k.state.firstItem*100)/k.state.visibleItems,Z=Math.max(me-k.state.visibleItems,0),pe=-Z*100/k.state.visibleItems;oe===F&&X>0&&(X=0),oe===pe&&X<0&&(X=0);var he=k.itemsWrapperRef.clientWidth,W=oe+100/(he/X);return k.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ie){k.itemsListRef.style[ie]=(0,r.default)(W,"%",k.props.axis)}),!0}),$(L(k),"slideRight",function(O){k.moveTo(k.state.firstItem-(typeof O=="number"?O:1))}),$(L(k),"slideLeft",function(O){k.moveTo(k.state.firstItem+(typeof O=="number"?O:1))}),$(L(k),"moveTo",function(O){O=O<0?0:O,O=O>=k.state.lastPosition?k.state.lastPosition:O,k.setState({firstItem:O})}),k.state={selectedItem:x.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},k}return T(E,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(k){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==k.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(k){var O=k;return k>=this.state.lastPosition&&(O=this.state.lastPosition),k<this.state.firstItem+this.state.visibleItems&&(O=this.state.firstItem),k<this.state.firstItem&&(O=k),O}},{key:"renderItems",value:function(){var k=this;return this.props.children.map(function(O,X){var F=e.default.ITEM(!1,X===k.state.selectedItem),me={key:X,ref:function(Z){return k.setThumbsRef(Z,X)},className:F,onClick:k.handleClickItem.bind(k,X,k.props.children[X]),onKeyDown:k.handleClickItem.bind(k,X,k.props.children[X]),"aria-label":"".concat(k.props.labels.item," ").concat(X+1),style:{width:k.props.thumbWidth}};return n.default.createElement("li",m({},me,{role:"button",tabIndex:0}),O)})}},{key:"render",value:function(){var k=this;if(!this.props.children)return null;var O=n.Children.count(this.props.children)>1,X=this.state.showArrows&&this.state.firstItem>0,F=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,me={},oe=-this.state.firstItem*(this.state.itemSize||0),Z=(0,r.default)(oe,"px",this.props.axis),pe=this.props.transitionTime+"ms";return me={WebkitTransform:Z,MozTransform:Z,MsTransform:Z,OTransform:Z,transform:Z,msTransform:Z,WebkitTransitionDuration:pe,MozTransitionDuration:pe,MsTransitionDuration:pe,OTransitionDuration:pe,transitionDuration:pe,msTransitionDuration:pe},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!X),onClick:function(){return k.slideRight()},"aria-label":this.props.labels.leftArrow}),O?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:me,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(W){return k.setItemsListRef(W)},style:me},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!F),onClick:function(){return k.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),E}(n.Component);return Fd.default=D,$(D,"displayName","Thumbs"),$(D,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Fd}var zd={},bb;function kG(){if(bb)return zd;bb=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.default=void 0;var n=function(){return document};return zd.default=n,zd}var gr={},Cb;function wD(){if(Cb)return gr;Cb=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.setPosition=gr.getPosition=gr.isKeyboardEvent=gr.defaultStatusFormatter=gr.noop=void 0;var n=Ho(),e=t(NI());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};gr.noop=r;var i=function(h,m){return"".concat(h," of ").concat(m)};gr.defaultStatusFormatter=i;var s=function(h){return h?h.hasOwnProperty("key"):!1};gr.isKeyboardEvent=s;var l=function(h,m){if(m.infiniteLoop&&++h,h===0)return 0;var g=n.Children.count(m.children);if(m.centerMode&&m.axis==="horizontal"){var _=-h*m.centerSlidePercentage,T=g-1;return h&&(h!==T||m.infiniteLoop)?_+=(100-m.centerSlidePercentage)/2:h===T&&(_+=100-m.centerSlidePercentage),_}return-h*100};gr.getPosition=l;var u=function(h,m){var g={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(_){g[_]=(0,e.default)(h,"%",m)}),g};return gr.setPosition=u,gr}var ui={},kb;function xG(){if(kb)return ui;kb=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.fadeAnimationHandler=ui.slideStopSwipingHandler=ui.slideSwipeAnimationHandler=ui.slideAnimationHandler=void 0;var n=Ho(),e=r(NI()),t=wD();function r(g){return g&&g.__esModule?g:{default:g}}function i(g,_){var T=Object.keys(g);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(g);_&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(g,R).enumerable})),T.push.apply(T,I)}return T}function s(g){for(var _=1;_<arguments.length;_++){var T=arguments[_]!=null?arguments[_]:{};_%2?i(Object(T),!0).forEach(function(I){l(g,I,T[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(I){Object.defineProperty(g,I,Object.getOwnPropertyDescriptor(T,I))})}return g}function l(g,_,T){return _ in g?Object.defineProperty(g,_,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[_]=T,g}var u=function(_,T){var I={},R=T.selectedItem,P=R,V=n.Children.count(_.children)-1,L=_.infiniteLoop&&(R<0||R>V);if(L)return P<0?_.centerMode&&_.centerSlidePercentage&&_.axis==="horizontal"?I.itemListStyle=(0,t.setPosition)(-(V+2)*_.centerSlidePercentage-(100-_.centerSlidePercentage)/2,_.axis):I.itemListStyle=(0,t.setPosition)(-(V+2)*100,_.axis):P>V&&(I.itemListStyle=(0,t.setPosition)(0,_.axis)),I;var M=(0,t.getPosition)(R,_),B=(0,e.default)(M,"%",_.axis),$=_.transitionTime+"ms";return I.itemListStyle={WebkitTransform:B,msTransform:B,OTransform:B,transform:B},T.swiping||(I.itemListStyle=s(s({},I.itemListStyle),{},{WebkitTransitionDuration:$,MozTransitionDuration:$,OTransitionDuration:$,transitionDuration:$,msTransitionDuration:$})),I};ui.slideAnimationHandler=u;var d=function(_,T,I,R){var P={},V=T.axis==="horizontal",L=n.Children.count(T.children),M=0,B=(0,t.getPosition)(I.selectedItem,T),$=T.infiniteLoop?(0,t.getPosition)(L-1,T)-100:(0,t.getPosition)(L-1,T),j=V?_.x:_.y,D=j;B===M&&j>0&&(D=0),B===$&&j<0&&(D=0);var A=B+100/(I.itemSize/D),C=Math.abs(j)>T.swipeScrollTolerance;return T.infiniteLoop&&C&&(I.selectedItem===0&&A>-100?A-=L*100:I.selectedItem===L-1&&A<-L*100&&(A+=L*100)),(!T.preventMovementUntilSwipeScrollTolerance||C||I.swipeMovementStarted)&&(I.swipeMovementStarted||R({swipeMovementStarted:!0}),P.itemListStyle=(0,t.setPosition)(A,T.axis)),C&&!I.cancelClick&&R({cancelClick:!0}),P};ui.slideSwipeAnimationHandler=d;var h=function(_,T){var I=(0,t.getPosition)(T.selectedItem,_),R=(0,t.setPosition)(I,_.axis);return{itemListStyle:R}};ui.slideStopSwipingHandler=h;var m=function(_,T){var I=_.transitionTime+"ms",R="ease-in-out",P={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:R,msTransitionTimingFunction:R,MozTransitionTimingFunction:R,WebkitTransitionTimingFunction:R,OTransitionTimingFunction:R};return T.swiping||(P=s(s({},P),{},{WebkitTransitionDuration:I,MozTransitionDuration:I,OTransitionDuration:I,transitionDuration:I,msTransitionDuration:I})),{slideStyle:P,selectedStyle:s(s({},P),{},{opacity:1,position:"relative"}),prevStyle:s({},P)}};return ui.fadeAnimationHandler=m,ui}var xb;function OG(){if(xb)return Vd;xb=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.default=void 0;var n=m(Ho()),e=d(gD()),t=d(yD()),r=d(vD()),i=d(kG()),s=d(_D()),l=wD(),u=xG();function d(x){return x&&x.__esModule?x:{default:x}}function h(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return h=function(){return x},x}function m(x){if(x&&x.__esModule)return x;if(x===null||g(x)!=="object"&&typeof x!="function")return{default:x};var k=h();if(k&&k.has(x))return k.get(x);var O={},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in x)if(Object.prototype.hasOwnProperty.call(x,F)){var me=X?Object.getOwnPropertyDescriptor(x,F):null;me&&(me.get||me.set)?Object.defineProperty(O,F,me):O[F]=x[F]}return O.default=x,k&&k.set(x,O),O}function g(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(O){return typeof O}:g=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},g(x)}function _(){return _=Object.assign||function(x){for(var k=1;k<arguments.length;k++){var O=arguments[k];for(var X in O)Object.prototype.hasOwnProperty.call(O,X)&&(x[X]=O[X])}return x},_.apply(this,arguments)}function T(x,k){var O=Object.keys(x);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(x);k&&(X=X.filter(function(F){return Object.getOwnPropertyDescriptor(x,F).enumerable})),O.push.apply(O,X)}return O}function I(x){for(var k=1;k<arguments.length;k++){var O=arguments[k]!=null?arguments[k]:{};k%2?T(Object(O),!0).forEach(function(X){C(x,X,O[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(O)):T(Object(O)).forEach(function(X){Object.defineProperty(x,X,Object.getOwnPropertyDescriptor(O,X))})}return x}function R(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}function P(x,k){for(var O=0;O<k.length;O++){var X=k[O];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(x,X.key,X)}}function V(x,k,O){return k&&P(x.prototype,k),x}function L(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),k&&M(x,k)}function M(x,k){return M=Object.setPrototypeOf||function(X,F){return X.__proto__=F,X},M(x,k)}function B(x){var k=D();return function(){var X=A(x),F;if(k){var me=A(this).constructor;F=Reflect.construct(X,arguments,me)}else F=X.apply(this,arguments);return $(this,F)}}function $(x,k){return k&&(g(k)==="object"||typeof k=="function")?k:j(x)}function j(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A(x){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},A(x)}function C(x,k,O){return k in x?Object.defineProperty(x,k,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[k]=O,x}var E=function(x){L(O,x);var k=B(O);function O(X){var F;R(this,O),F=k.call(this,X),C(j(F),"thumbsRef",void 0),C(j(F),"carouselWrapperRef",void 0),C(j(F),"listRef",void 0),C(j(F),"itemsRef",void 0),C(j(F),"timer",void 0),C(j(F),"animationHandler",void 0),C(j(F),"setThumbsRef",function(oe){F.thumbsRef=oe}),C(j(F),"setCarouselWrapperRef",function(oe){F.carouselWrapperRef=oe}),C(j(F),"setListRef",function(oe){F.listRef=oe}),C(j(F),"setItemsRef",function(oe,Z){F.itemsRef||(F.itemsRef=[]),F.itemsRef[Z]=oe}),C(j(F),"autoPlay",function(){n.Children.count(F.props.children)<=1||(F.clearAutoPlay(),F.props.autoPlay&&(F.timer=setTimeout(function(){F.increment()},F.props.interval)))}),C(j(F),"clearAutoPlay",function(){F.timer&&clearTimeout(F.timer)}),C(j(F),"resetAutoPlay",function(){F.clearAutoPlay(),F.autoPlay()}),C(j(F),"stopOnHover",function(){F.setState({isMouseEntered:!0},F.clearAutoPlay)}),C(j(F),"startOnLeave",function(){F.setState({isMouseEntered:!1},F.autoPlay)}),C(j(F),"isFocusWithinTheCarousel",function(){return F.carouselWrapperRef?!!((0,i.default)().activeElement===F.carouselWrapperRef||F.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),C(j(F),"navigateWithKeyboard",function(oe){if(F.isFocusWithinTheCarousel()){var Z=F.props.axis,pe=Z==="horizontal",he={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},W=pe?he.ArrowRight:he.ArrowDown,ie=pe?he.ArrowLeft:he.ArrowUp;W===oe.keyCode?F.increment():ie===oe.keyCode&&F.decrement()}}),C(j(F),"updateSizes",function(){if(!(!F.state.initialized||!F.itemsRef||F.itemsRef.length===0)){var oe=F.props.axis==="horizontal",Z=F.itemsRef[0];if(Z){var pe=oe?Z.clientWidth:Z.clientHeight;F.setState({itemSize:pe}),F.thumbsRef&&F.thumbsRef.updateSizes()}}}),C(j(F),"setMountState",function(){F.setState({hasMount:!0}),F.updateSizes()}),C(j(F),"handleClickItem",function(oe,Z){if(n.Children.count(F.props.children)!==0){if(F.state.cancelClick){F.setState({cancelClick:!1});return}F.props.onClickItem(oe,Z),oe!==F.state.selectedItem&&F.setState({selectedItem:oe})}}),C(j(F),"handleOnChange",function(oe,Z){n.Children.count(F.props.children)<=1||F.props.onChange(oe,Z)}),C(j(F),"handleClickThumb",function(oe,Z){F.props.onClickThumb(oe,Z),F.moveTo(oe)}),C(j(F),"onSwipeStart",function(oe){F.setState({swiping:!0}),F.props.onSwipeStart(oe)}),C(j(F),"onSwipeEnd",function(oe){F.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),F.props.onSwipeEnd(oe),F.clearAutoPlay(),F.state.autoPlay&&F.autoPlay()}),C(j(F),"onSwipeMove",function(oe,Z){F.props.onSwipeMove(Z);var pe=F.props.swipeAnimationHandler(oe,F.props,F.state,F.setState.bind(j(F)));return F.setState(I({},pe)),!!Object.keys(pe).length}),C(j(F),"decrement",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem-(typeof oe=="number"?oe:1))}),C(j(F),"increment",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem+(typeof oe=="number"?oe:1))}),C(j(F),"moveTo",function(oe){if(typeof oe=="number"){var Z=n.Children.count(F.props.children)-1;oe<0&&(oe=F.props.infiniteLoop?Z:0),oe>Z&&(oe=F.props.infiniteLoop?0:Z),F.selectItem({selectedItem:oe}),F.state.autoPlay&&F.state.isMouseEntered===!1&&F.resetAutoPlay()}}),C(j(F),"onClickNext",function(){F.increment(1)}),C(j(F),"onClickPrev",function(){F.decrement(1)}),C(j(F),"onSwipeForward",function(){F.increment(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),C(j(F),"onSwipeBackwards",function(){F.decrement(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),C(j(F),"changeItem",function(oe){return function(Z){(!(0,l.isKeyboardEvent)(Z)||Z.key==="Enter")&&F.moveTo(oe)}}),C(j(F),"selectItem",function(oe){F.setState(I({previousItem:F.state.selectedItem},oe),function(){F.setState(F.animationHandler(F.props,F.state))}),F.handleOnChange(oe.selectedItem,n.Children.toArray(F.props.children)[oe.selectedItem])}),C(j(F),"getInitialImage",function(){var oe=F.props.selectedItem,Z=F.itemsRef&&F.itemsRef[oe],pe=Z&&Z.getElementsByTagName("img")||[];return pe[0]}),C(j(F),"getVariableItemHeight",function(oe){var Z=F.itemsRef&&F.itemsRef[oe];if(F.state.hasMount&&Z&&Z.children.length){var pe=Z.children[0].getElementsByTagName("img")||[];if(pe.length>0){var he=pe[0];if(!he.complete){var W=function xe(){F.forceUpdate(),he.removeEventListener("load",xe)};he.addEventListener("load",W)}}var ie=pe[0]||Z.children[0],Te=ie.clientHeight;return Te>0?Te:null}return null});var me={initialized:!1,previousItem:X.selectedItem,selectedItem:X.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:X.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return F.animationHandler=typeof X.animationHandler=="function"&&X.animationHandler||X.animationHandler==="fade"&&u.fadeAnimationHandler||u.slideAnimationHandler,F.state=I(I({},me),F.animationHandler(X,me)),F}return V(O,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(F,me){!F.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!F.autoFocus&&this.props.autoFocus&&this.forceFocus(),me.swiping&&!this.state.swiping&&this.setState(I({},this.props.stopSwipingHandler(this.props,this.state))),(F.selectedItem!==this.props.selectedItem||F.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),F.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var F=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var me=F.getInitialImage();me&&!me.complete?me.addEventListener("load",F.setMountState):F.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.addEventListener("mouseenter",this.stopOnHover),F.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.removeEventListener("mouseenter",this.stopOnHover),F.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var F=this.getInitialImage();F&&F.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var F;(F=this.carouselWrapperRef)===null||F===void 0||F.focus()}},{key:"renderItems",value:function(F){var me=this;return this.props.children?n.Children.map(this.props.children,function(oe,Z){var pe=Z===me.state.selectedItem,he=Z===me.state.previousItem,W=pe&&me.state.selectedStyle||he&&me.state.prevStyle||me.state.slideStyle||{};me.props.centerMode&&me.props.axis==="horizontal"&&(W=I(I({},W),{},{minWidth:me.props.centerSlidePercentage+"%"})),me.state.swiping&&me.state.swipeMovementStarted&&(W=I(I({},W),{},{pointerEvents:"none"}));var ie={ref:function(xe){return me.setItemsRef(xe,Z)},key:"itemKey"+Z+(F?"clone":""),className:t.default.ITEM(!0,Z===me.state.selectedItem,Z===me.state.previousItem),onClick:me.handleClickItem.bind(me,Z,oe),style:W};return n.default.createElement("li",ie,me.props.renderItem(oe,{isSelected:Z===me.state.selectedItem,isPrevious:Z===me.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var F=this,me=this.props,oe=me.showIndicators,Z=me.labels,pe=me.renderIndicator,he=me.children;return oe?n.default.createElement("ul",{className:"control-dots"},n.Children.map(he,function(W,ie){return pe&&pe(F.changeItem(ie),ie===F.state.selectedItem,ie,Z.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var F=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var me=this.props.swipeable&&n.Children.count(this.props.children)>1,oe=this.props.axis==="horizontal",Z=this.props.showArrows&&n.Children.count(this.props.children)>1,pe=Z&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,he=Z&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,W=this.renderItems(!0),ie=W.shift(),Te=W.pop(),xe={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Me={};if(oe){if(xe.onSwipeLeft=this.onSwipeForward,xe.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Be=this.getVariableItemHeight(this.state.selectedItem);Me.height=Be||"auto"}}else xe.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,xe.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,xe.style=I(I({},xe.style),{},{height:this.state.itemSize}),Me.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,pe,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Me},me?n.default.createElement(e.default,_({tagName:"ul",innerRef:this.setListRef},xe,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(He){return F.setListRef(He)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie)),this.props.renderArrowNext(this.onClickNext,he,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),O}(n.default.Component);return Vd.default=E,C(E,"displayName","Carousel"),C(E,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:l.noop,onClickThumb:l.noop,onChange:l.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(k,O,X){return n.default.createElement("button",{type:"button","aria-label":X,className:t.default.ARROW_PREV(!O),onClick:k})},renderArrowNext:function(k,O,X){return n.default.createElement("button",{type:"button","aria-label":X,className:t.default.ARROW_NEXT(!O),onClick:k})},renderIndicator:function(k,O,X,F){return n.default.createElement("li",{className:t.default.DOT(O),onClick:k,onKeyDown:k,value:X,key:X,role:"button",tabIndex:0,"aria-label":"".concat(F," ").concat(X+1)})},renderItem:function(k){return k},renderThumbs:function(k){var O=n.Children.map(k,function(X){var F=X;if(X.type!=="img"&&(F=n.Children.toArray(X.props.children).find(function(me){return me.type==="img"})),!!F)return F});return O.filter(function(X){return X}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):O},statusFormatter:l.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler}),Vd}var Ob={},Nb;function NG(){return Nb||(Nb=1),Ob}var Db;function DG(){return Db||(Db=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(OG()),t=NG(),r=i(vD());function i(s){return s&&s.__esModule?s:{default:s}}}(Zv)),Zv}var LG=DG();const VG="/Amazon-Clone-2025/assets/1-DVW8dbf2.jpg",MG="/Amazon-Clone-2025/assets/2-DNTc5oNT.jpg",FG="/Amazon-Clone-2025/assets/3-NpmuadD7.jpg",UG="/Amazon-Clone-2025/assets/4-CZcDcPop.jpg",$G="/Amazon-Clone-2025/assets/5-D_zATL-Y.jpg",BG=[VG,MG,FG,UG,$G],zG="_hero_img_1ri22_1",jG={hero_img:zG};function WG(){return ke("div",{children:[K(LG.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:BG.map((n,e)=>K("img",{src:n},e))}),K("div",{className:jG.hero_img})]})}function qG(){return ke(Tc,{children:[K(WG,{}),K(oW,{}),K(AG,{})]})}const HG="_login_1kpqy_1",KG="_login_container_1kpqy_23",GG="_login_signInButton_1kpqy_91",QG="_login_registerButton_1kpqy_123",im={login:HG,login_container:KG,login_signInButton:GG,login_registerButton:QG};function YG(){var T,I;const[n,e]=H.useState(""),[t,r]=H.useState(""),[i,s]=H.useState(""),[l,u]=H.useState({signIn:!1,signUp:!1}),[{user:d},h]=H.useContext(Ws),m=Ag(),g=Ko();console.log(g);const _=async R=>{R.preventDefault(),console.log(R.target.name),R.target.name=="signin"?(u({...l,signIn:!0}),vU(vg,n,t).then(P=>{var V;h({type:zr.SET_USER,user:P.user}),u({...l,signIn:!1}),m(((V=g==null?void 0:g.state)==null?void 0:V.redirect)||"/")}).catch(P=>{s(P.message),u({...l,signIn:!1})})):(u({...l,signUp:!0}),_U(vg,n,t).then(P=>{var V;h({type:zr.SET_USER,user:P.user}),u({...l,signUp:!1}),m(((V=g==null?void 0:g.state)==null?void 0:V.redirect)||"/")}).catch(P=>{s(P.message),u({...l,signUp:!1})}))};return ke("section",{className:im.login,children:[K(di,{to:"/",children:K("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png",alt:""})}),ke("div",{className:im.login_container,children:[K("h1",{children:"Sign in"}),((T=g==null?void 0:g.state)==null?void 0:T.msg)&&K("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(I=g==null?void 0:g.state)==null?void 0:I.msg}),ke("form",{action:"",children:[ke("div",{children:[K("label",{htmlFor:"email",children:"Email"}),K("input",{value:n,onChange:R=>e(R.target.value),type:"email",id:"email"})]}),ke("div",{children:[K("label",{htmlFor:"password",children:"Password"}),K("input",{value:t,onChange:R=>r(R.target.value),type:"password",id:"password"})]}),K("button",{type:"submit",name:"signin",onClick:_,className:im.login_signInButton,children:l.signIn?K(pE,{color:"#000",size:15}):"sign In"})]}),K("p",{children:"By signing-in you agree to the Amazon fake clone conditions of use & sale. Please see our privacy notice,our cookies notice and our interest-based Ads notice."}),K("button",{type:"submit",name:"signup",onClick:_,className:im.login_registerButton,children:l.signUp?K(pE,{color:"#000",size:15}):"Create Your Amazon Account"}),i&&K("small",{style:{paddingTop:"5px",color:"red"},children:i})]})]})}const JG="_payment_header_13xf3_1",XG="_flex_13xf3_19",ZG="_payment_card_container_13xf3_47",e7="_payment_price_13xf3_57",t7="_payment_details_13xf3_73",n7="_loading_13xf3_97",ws={payment_header:JG,flex:XG,payment_card_container:ZG,payment_price:e7,payment_details:t7,loading:n7};function Lb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Vb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lb(Object(t),!0).forEach(function(r){ED(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Vm(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vm=function(e){return typeof e}:Vm=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(n)}function ED(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ID(n,e){return r7(n)||i7(n,e)||s7(n,e)||o7()}function r7(n){if(Array.isArray(n))return n}function i7(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,s=!1,l,u;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){s=!0,u=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw u}}return r}}function s7(n,e){if(n){if(typeof n=="string")return Mb(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mb(n,e)}}function Mb(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function o7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var yr=function(e,t,r){var i=!!r,s=Ge.useRef(r);Ge.useEffect(function(){s.current=r},[r]),Ge.useEffect(function(){if(!i||!e)return function(){};var l=function(){s.current&&s.current.apply(s,arguments)};return e.on(t,l),function(){e.off(t,l)}},[i,t,e,s])},mE=function(e){var t=Ge.useRef(e);return Ge.useEffect(function(){t.current=e},[e]),t.current},oc=function(e){return e!==null&&Vm(e)==="object"},a7=function(e){return oc(e)&&typeof e.then=="function"},l7=function(e){return oc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},Fb="[object Object]",u7=function n(e,t){if(!oc(e)||!oc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===Fb,l=Object.prototype.toString.call(t)===Fb;if(s!==l)return!1;if(!s&&!r)return e===t;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var h={},m=0;m<u.length;m+=1)h[u[m]]=!0;for(var g=0;g<d.length;g+=1)h[d[g]]=!0;var _=Object.keys(h);if(_.length!==u.length)return!1;var T=e,I=t,R=function(V){return n(T[V],I[V])};return _.every(R)},TD=function(e,t,r){return oc(e)?Object.keys(e).reduce(function(i,s){var l=!oc(t)||!u7(e[s],t[s]);return r.includes(s)?(l&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):l?Vb(Vb({},i||{}),{},ED({},s,e[s])):i},null):null},SD="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Ub=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SD;if(e===null||l7(e))return e;throw new Error(t)},c7=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SD;if(a7(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return Ub(i,t)})};var r=Ub(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},d7=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.3.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.3.0",url:"https://stripe.com/docs/stripe-js/react"}))},Uy=Ge.createContext(null);Uy.displayName="ElementsContext";var RD=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},AD=function(e){var t=e.stripe,r=e.options,i=e.children,s=Ge.useMemo(function(){return c7(t)},[t]),l=Ge.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),u=ID(l,2),d=u[0],h=u[1];Ge.useEffect(function(){var _=!0,T=function(R){h(function(P){return P.stripe?P:{stripe:R,elements:R.elements(r)}})};return s.tag==="async"&&!d.stripe?s.stripePromise.then(function(I){I&&_&&T(I)}):s.tag==="sync"&&!d.stripe&&T(s.stripe),function(){_=!1}},[s,d,r]);var m=mE(t);Ge.useEffect(function(){m!==null&&m!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,t]);var g=mE(r);return Ge.useEffect(function(){if(d.elements){var _=TD(r,g,["clientSecret","fonts"]);_&&d.elements.update(_)}},[r,g,d.elements]),Ge.useEffect(function(){d7(d.stripe)},[d.stripe]),Ge.createElement(Uy.Provider,{value:d},i)};AD.propTypes={stripe:xt.any,options:xt.object};var h7=function(e){var t=Ge.useContext(Uy);return RD(t,e)},f7=function(){var e=h7("calls useElements()"),t=e.elements;return t};xt.func.isRequired;var PD=Ge.createContext(null);PD.displayName="CheckoutSdkContext";var p7=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},m7=Ge.createContext(null);m7.displayName="CheckoutContext";xt.any,xt.shape({clientSecret:xt.string.isRequired,elementsOptions:xt.object}).isRequired;var gE=function(e){var t=Ge.useContext(PD),r=Ge.useContext(Uy);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?p7(t,e):RD(r,e)},g7=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Zt=function(e,t){var r="".concat(g7(e),"Element"),i=function(d){var h=d.id,m=d.className,g=d.options,_=g===void 0?{}:g,T=d.onBlur,I=d.onFocus,R=d.onReady,P=d.onChange,V=d.onEscape,L=d.onClick,M=d.onLoadError,B=d.onLoaderStart,$=d.onNetworksChange,j=d.onConfirm,D=d.onCancel,A=d.onShippingAddressChange,C=d.onShippingRateChange,E=gE("mounts <".concat(r,">")),x="elements"in E?E.elements:null,k="checkoutSdk"in E?E.checkoutSdk:null,O=Ge.useState(null),X=ID(O,2),F=X[0],me=X[1],oe=Ge.useRef(null),Z=Ge.useRef(null);yr(F,"blur",T),yr(F,"focus",I),yr(F,"escape",V),yr(F,"click",L),yr(F,"loaderror",M),yr(F,"loaderstart",B),yr(F,"networkschange",$),yr(F,"confirm",j),yr(F,"cancel",D),yr(F,"shippingaddresschange",A),yr(F,"shippingratechange",C),yr(F,"change",P);var pe;R&&(e==="expressCheckout"?pe=R:pe=function(){R(F)}),yr(F,"ready",pe),Ge.useLayoutEffect(function(){if(oe.current===null&&Z.current!==null&&(x||k)){var W=null;k?W=k.createElement(e,_):x&&(W=x.create(e,_)),oe.current=W,me(W),W&&W.mount(Z.current)}},[x,k,_]);var he=mE(_);return Ge.useEffect(function(){if(oe.current){var W=TD(_,he,["paymentRequest"]);W&&"update"in oe.current&&oe.current.update(W)}},[_,he]),Ge.useLayoutEffect(function(){return function(){if(oe.current&&typeof oe.current.destroy=="function")try{oe.current.destroy(),oe.current=null}catch{}}},[]),Ge.createElement("div",{id:h,className:m,ref:Z})},s=function(d){gE("mounts <".concat(r,">"));var h=d.id,m=d.className;return Ge.createElement("div",{id:h,className:m})},l=t?s:i;return l.propTypes={id:xt.string,className:xt.string,onChange:xt.func,onBlur:xt.func,onFocus:xt.func,onReady:xt.func,onEscape:xt.func,onClick:xt.func,onLoadError:xt.func,onLoaderStart:xt.func,onNetworksChange:xt.func,onConfirm:xt.func,onCancel:xt.func,onShippingAddressChange:xt.func,onShippingRateChange:xt.func,options:xt.object},l.displayName=r,l.__elementType=e,l},en=typeof window>"u",y7=Ge.createContext(null);y7.displayName="EmbeddedCheckoutProviderContext";var _7=function(){var e=gE("calls useStripe()"),t=e.stripe;return t};Zt("auBankAccount",en);var $b=Zt("card",en);Zt("cardNumber",en);Zt("cardExpiry",en);Zt("cardCvc",en);Zt("fpxBank",en);Zt("iban",en);Zt("idealBank",en);Zt("p24Bank",en);Zt("epsBank",en);Zt("payment",en);Zt("expressCheckout",en);Zt("currencySelector",en);Zt("paymentRequestButton",en);Zt("linkAuthentication",en);Zt("address",en);Zt("shippingAddress",en);Zt("paymentMethodMessaging",en);Zt("affirmMessage",en);Zt("afterpayClearpayMessage",en);const v7=bt.create({baseURL:"http://127.0.0.1:5001/e-clone-2025/us-central1/api",baseURL:"https://amazon-api-deploy-cde1.onrender.com"});function w7(){const[{user:n,basket:e},t]=H.useContext(Ws),r=e==null?void 0:e.reduce((I,R)=>R.amount+I,0),i=e.reduce((I,R)=>R.price*R.amount+I,0),[s,l]=H.useState(null),[u,d]=H.useState(!1),h=_7(),m=f7(),g=Ag(),_=I=>{var R,P;(R=I.error)!=null&&R.message?l((P=I.error)==null?void 0:P.message):l("")},T=async I=>{var R;I.preventDefault();try{d(!0);const V=(R=(await v7({method:"POST",url:`/payment/create?total=${i*100}`})).data)==null?void 0:R.clientSecret,{paymentIntent:L}=await h.confirmCardPayment(V,{payment_method:{card:m.getElement($b)}});await aN.collection("users").doc(n.uid).collection("orders").doc(L.id).set({basket:e,amount:L.amount,created:L.created}),t({type:zr.EMPTY_BASKET}),d(!1),g("/orders",{state:{msg:"you have placed new order"}})}catch{d(!1)}};return ke(Tc,{children:[ke("div",{className:ws.payment_header,children:["Checkout ",r," items"]}),ke("section",{className:ws.Payment,children:[ke("div",{className:ws.flex,children:[K("h3",{children:"Delivery Address"}),ke("div",{children:[K("div",{children:n&&n.email?n.email:"No email available"}),K("div",{children:"123 React Lane"}),K("div",{children:"Chicago, IL"})]})]}),K("hr",{}),ke("div",{className:ws.flex,children:[K("h3",{children:"Review items and delivery"}),K("div",{children:e==null?void 0:e.map((I,R)=>K(Pc,{product:I,flex:!0},R))})]}),K("hr",{}),ke("div",{className:ws.flex,children:[K("h3",{children:"Payment methods"}),K("div",{className:ws.payment_card_container,children:K("div",{className:ws.payment_details,children:ke("form",{onSubmit:T,children:[s&&K("small",{style:{color:"red"},children:s}),K($b,{onChange:_}),ke("div",{className:ws.payment_price,children:[K("div",{children:ke("span",{style:{display:"flex",gap:"10px"},children:[K("p",{children:" Total Order | "})," ",K(xI,{amount:i})]})}),K("button",{type:"submit",children:u?ke("div",{className:ws.loading,children:[K(pE,{color:"gray",size:12}),K("p",{children:"Please wait ..."})]}):" Pay Now"})]})]})})})]})]})]})}const E7="_container_139a4_1",I7="_orders_container_139a4_9",Bb={container:E7,orders_container:I7};function T7(){const[{user:n},e]=H.useContext(Ws),[t,r]=H.useState([]);return H.useEffect(()=>{n?aN.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{console.log(i),r(i.docs.map(s=>({id:s.id,data:s.data()})))}):r([])},[]),K(Tc,{children:K("section",{className:Bb.container,children:ke("div",{className:Bb.orders_container,children:[K("h2",{children:"Your Orders"}),(t==null?void 0:t.length)==0&&K("div",{style:{padding:"20px"},children:"You don't have orders yet."}),K("div",{children:t==null?void 0:t.map((i,s)=>{var l,u;return ke("div",{children:[K("hr",{}),ke("p",{children:["Order ID: ",i==null?void 0:i.id]}),(u=(l=i==null?void 0:i.data)==null?void 0:l.basket)==null?void 0:u.map(d=>K(Pc,{flex:!0,product:d},d.id))]},s)})})]})})})}const S7="_container_lufh1_1",R7="_cart_product_lufh1_19",A7="_btn_container_lufh1_27",P7="_btn_lufh1_27",b7="_subtotal_lufh1_61",C7="_cart_container_lufh1_67",ka={container:S7,cart_product:R7,btn_container:A7,btn:P7,subtotal:b7,cart_container:C7};function k7(n){return ac({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function x7(n){return ac({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function O7(){const[{basket:n,user:e},t]=H.useContext(Ws),r=n.reduce((l,u)=>u.price*u.amount+l,0),i=l=>{t({type:zr.ADD_TO_BASKET,item:l})},s=l=>{t({type:zr.REMOVE_FROM_BASKET,id:l})};return K(Tc,{children:ke("section",{className:ka.container,children:[ke("div",{className:ka.cart_container,children:[K("h2",{children:"Hello"}),K("h3",{children:"Your shopping basket"}),K("hr",{}),(n==null?void 0:n.length)==0?K("p",{children:"Opps! No item in your cart"}):n==null?void 0:n.map((l,u)=>ke("section",{className:ka.cart_product,children:[K(Pc,{product:l,renderDesc:!0,renderAdd:!1,flex:!0},u),ke("div",{className:ka.btn_container,children:[K("button",{className:ka.btn,onClick:()=>i(l),children:K(x7,{size:20})}),K("span",{children:l.amount}),K("button",{className:ka.btn,onClick:()=>s(l.id),children:K(k7,{size:20})})]})]},l.id))]}),(n==null?void 0:n.length)!==0&&ke("div",{className:ka.subtotal,children:[ke("div",{children:[ke("p",{children:["Subtotal (",n==null?void 0:n.length,"items)"]}),K(xI,{amount:r})]}),ke("span",{children:[K("input",{type:"checkbox"}),K("small",{children:"This order contains a gift"})]}),K(di,{to:"/payments",children:"Continue to checkout"})]})]})})}const bD="https://fakestoreapi.com",N7="_results_container_h43yk_1",D7="_products_container_h43yk_11",zb={results_container:N7,products_container:D7};function L7(){const[n,e]=H.useState([]),{categoryName:t}=nC(),[r,i]=H.useState(!1);return H.useEffect(()=>{bt.get(`${bD}/products/category/${t}`).then(s=>{e(s.data),console.log(s.data),i(!1)}).catch(s=>{console.log(s),i(!1)})},[]),console.log(t),K(Tc,{children:ke("section",{className:zb.results_container,children:[K("h1",{style:{padding:"30PX"},children:"Results"}),ke("p",{style:{padding:"30px"},children:["Category/",t]}),K("hr",{}),r?K(OI,{}):K("div",{className:zb.products_container,children:n==null?void 0:n.map(s=>K(Pc,{product:s,renderDesc:!1,renderAdd:!0},s.id))})]})})}function V7(){const{productId:n}=nC(),[e,t]=H.useState({}),[r,i]=H.useState(!1);return H.useEffect(()=>{i(!0),bt.get(`${bD}/products/${n}`).then(s=>{t(s.data),i(!1)}).catch(s=>{console.log(s),i(!1)})},[]),K(Tc,{children:r?K(OI,{}):K(Pc,{product:e,flex:!0,renderDesc:!0,renderAdd:!0})})}var M7="v3",F7=function(e){return e===3?"v3":e},CD="https://js.stripe.com",U7="".concat(CD,"/v3"),$7=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,B7=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var z7=function(e){return $7.test(e)||B7.test(e)},j7=function(){for(var e=document.querySelectorAll('script[src^="'.concat(CD,'"]')),t=0;t<e.length;t++){var r=e[t];if(z7(r.src))return r}return null},jb=function(e){var t="",r=document.createElement("script");r.src="".concat(U7).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},W7=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.10.0",startTime:t})},jd=null,sm=null,om=null,q7=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},H7=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},K7=function(e){return jd!==null?jd:(jd=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=j7();if(!(i&&e)){if(!i)i=jb(e);else if(i&&om!==null&&sm!==null){var s;i.removeEventListener("load",om),i.removeEventListener("error",sm),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=jb(e)}}om=H7(t,r),sm=q7(r),i.addEventListener("load",om),i.addEventListener("error",sm)}catch(l){r(l);return}}),jd.catch(function(t){return jd=null,Promise.reject(t)}))},G7=function(e,t,r){if(e===null)return null;var i=t[0],s=i.match(/^pk_test/),l=F7(e.version),u=M7;s&&l!==u&&console.warn("Stripe.js@".concat(l," was loaded on the page, but @stripe/stripe-js@").concat("5.10.0"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=e.apply(void 0,t);return W7(d,r),d},Wd,kD=!1,xD=function(){return Wd||(Wd=K7(null).catch(function(e){return Wd=null,Promise.reject(e)}),Wd)};Promise.resolve().then(function(){return xD()}).catch(function(n){kD||console.warn(n)});var Q7=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];kD=!0;var i=Date.now();return xD().then(function(s){return G7(s,t,i)})};const Wb=({children:n,msg:e,redirect:t})=>{const r=Ag(),[{user:i},s]=H.useContext(Ws);return H.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[]),n},Y7=Q7("pk_test_51QzUcrER6OjDFN5RJOnT6fVLYGVnrKPNQ2Dwfc5EJkHgZ7lqPNXw1HNdkRtPsrUIVWWE0IqOjaDJC6rU371C8bGE00SWwIyMuu");function J7(){return K(RM,{basename:"/Amazon-Clone-2025/",children:ke(tM,{children:[K(Io,{path:"/",element:K(qG,{})}),K(Io,{path:"/auth",element:K(YG,{})}),K(Io,{path:"/payments",element:K(Wb,{msg:"you must log in to pay",redirect:"/payments",children:K(AD,{stripe:Y7,children:K(w7,{})})})}),K(Io,{path:"/orders",element:K(Wb,{msg:"you must login to access your orders",redirect:"/orders",children:K(T7,{})})}),K(Io,{path:"category/:categoryName",element:K(L7,{})}),K(Io,{path:"products/:productId",element:K(V7,{})}),K(Io,{path:"/cart",element:K(O7,{})})]})})}function X7(){const[{user:n},e]=H.useContext(Ws);return H.useEffect(()=>{vg.onAuthStateChanged(t=>{e(t?{type:zr.SET_USER,user:t}:{type:zr.SET_USER,user:null})})},[]),K(Um,{children:K(J7,{})})}const Z7={basket:[],user:null},eQ=(n,e)=>{switch(e.type){case zr.ADD_TO_BASKET:if(n.basket.find(s=>s.id===e.item.id)){const s=n.basket.map(l=>l.id===e.item.id?{...l,amount:l.amount+1}:l);return{...n,basket:s}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case zr.REMOVE_FROM_BASKET:const r=n.basket.findIndex(s=>s.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case zr.EMPTY_BASKET:return{...n,basket:[]};case zr.SET_USER:return{...n,user:e.user};default:return n}};zL.createRoot(document.getElementById("root")).render(K(H.StrictMode,{children:K(eW,{reducer:eQ,initialState:Z7,children:K(X7,{})})}));
